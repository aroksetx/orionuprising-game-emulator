{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define(\"Centrifuge\", [], factory);else if (typeof exports === 'object') exports[\"Centrifuge\"] = factory();else root[\"Centrifuge\"] = factory();\n})(this, function () {\n  return (\n    /******/\n    function () {\n      // webpackBootstrap\n\n      /******/\n      \"use strict\";\n      /******/\n\n      var __webpack_modules__ = {\n        /***/\n        382:\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.Centrifuge = void 0;\n\n          var _events = _interopRequireDefault(__webpack_require__(187));\n\n          var _subscription = _interopRequireDefault(__webpack_require__(471));\n\n          var _json = __webpack_require__(147);\n\n          var _utils = __webpack_require__(853);\n\n          function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n              \"default\": obj\n            };\n          }\n\n          function _typeof(obj) {\n            \"@babel/helpers - typeof\";\n\n            if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n              _typeof = function _typeof(obj) {\n                return typeof obj;\n              };\n            } else {\n              _typeof = function _typeof(obj) {\n                return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n              };\n            }\n\n            return _typeof(obj);\n          }\n\n          function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n              throw new TypeError(\"Cannot call a class as a function\");\n            }\n          }\n\n          function _defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          function _createClass(Constructor, protoProps, staticProps) {\n            if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) _defineProperties(Constructor, staticProps);\n            return Constructor;\n          }\n\n          function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n              throw new TypeError(\"Super expression must either be null or a function\");\n            }\n\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n              constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true\n              }\n            });\n            if (superClass) _setPrototypeOf(subClass, superClass);\n          }\n\n          function _setPrototypeOf(o, p) {\n            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n              o.__proto__ = p;\n              return o;\n            };\n\n            return _setPrototypeOf(o, p);\n          }\n\n          function _createSuper(Derived) {\n            var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n            return function _createSuperInternal() {\n              var Super = _getPrototypeOf(Derived),\n                  result;\n\n              if (hasNativeReflectConstruct) {\n                var NewTarget = _getPrototypeOf(this).constructor;\n\n                result = Reflect.construct(Super, arguments, NewTarget);\n              } else {\n                result = Super.apply(this, arguments);\n              }\n\n              return _possibleConstructorReturn(this, result);\n            };\n          }\n\n          function _possibleConstructorReturn(self, call) {\n            if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n              return call;\n            } else if (call !== void 0) {\n              throw new TypeError(\"Derived constructors may only return object or undefined\");\n            }\n\n            return _assertThisInitialized(self);\n          }\n\n          function _assertThisInitialized(self) {\n            if (self === void 0) {\n              throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            }\n\n            return self;\n          }\n\n          function _isNativeReflectConstruct() {\n            if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n            if (Reflect.construct.sham) return false;\n            if (typeof Proxy === \"function\") return true;\n\n            try {\n              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n              return true;\n            } catch (e) {\n              return false;\n            }\n          }\n\n          function _getPrototypeOf(o) {\n            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o);\n            };\n            return _getPrototypeOf(o);\n          }\n\n          var _errorTimeout = 'timeout';\n          var _errorConnectionClosed = 'connection closed';\n\n          var Centrifuge = /*#__PURE__*/function (_EventEmitter) {\n            _inherits(Centrifuge, _EventEmitter);\n\n            var _super = _createSuper(Centrifuge);\n\n            function Centrifuge(url, options) {\n              var _this;\n\n              _classCallCheck(this, Centrifuge);\n\n              _this = _super.call(this);\n              _this._url = url;\n              _this._websocket = null;\n              _this._sockjs = null;\n              _this._isSockjs = false;\n              _this._xmlhttprequest = null;\n              _this._binary = false;\n              _this._methodType = null;\n              _this._pushType = null;\n              _this._encoder = null;\n              _this._decoder = null;\n              _this._status = 'disconnected';\n              _this._reconnect = true;\n              _this._reconnecting = false;\n              _this._transport = null;\n              _this._transportName = null;\n              _this._transportClosed = true;\n              _this._messageId = 0;\n              _this._clientID = null;\n              _this._refreshRequired = false;\n              _this._subs = {};\n              _this._serverSubs = {};\n              _this._lastSeq = {};\n              _this._lastGen = {};\n              _this._lastOffset = {};\n              _this._lastEpoch = {};\n              _this._messages = [];\n              _this._isBatching = false;\n              _this._isSubscribeBatching = false;\n              _this._privateChannels = {};\n              _this._numRefreshFailed = 0;\n              _this._refreshTimeout = null;\n              _this._pingTimeout = null;\n              _this._pongTimeout = null;\n              _this._subRefreshTimeouts = {};\n              _this._retries = 0;\n              _this._callbacks = {};\n              _this._latency = null;\n              _this._latencyStart = null;\n              _this._connectData = null;\n              _this._token = null;\n              _this._xhrID = 0;\n              _this._xhrs = {};\n              _this._dispatchPromise = Promise.resolve();\n              _this._protocol = '';\n              _this._config = {\n                protocol: '',\n                debug: false,\n                name: 'js',\n                version: '',\n                websocket: null,\n                sockjs: null,\n                xmlhttprequest: null,\n                minRetry: 1000,\n                maxRetry: 20000,\n                timeout: 5000,\n                ping: true,\n                pingInterval: 25000,\n                pongWaitTimeout: 5000,\n                privateChannelPrefix: '$',\n                onTransportClose: null,\n                sockjsServer: null,\n                sockjsTimeout: null,\n                sockjsTransports: ['websocket', 'xdr-streaming', 'xhr-streaming', 'eventsource', 'iframe-eventsource', 'iframe-htmlfile', 'xdr-polling', 'xhr-polling', 'iframe-xhr-polling', 'jsonp-polling'],\n                refreshEndpoint: '/centrifuge/refresh',\n                refreshHeaders: {},\n                refreshParams: {},\n                refreshData: {},\n                refreshAttempts: null,\n                refreshInterval: 1000,\n                onRefreshFailed: null,\n                onRefresh: null,\n                subscribeEndpoint: '/centrifuge/subscribe',\n                subscribeHeaders: {},\n                subscribeParams: {},\n                subRefreshInterval: 1000,\n                onPrivateSubscribe: null,\n                disableWithCredentials: false\n              };\n\n              _this._configure(options);\n\n              return _this;\n            }\n\n            _createClass(Centrifuge, [{\n              key: \"setToken\",\n              value: function setToken(token) {\n                this._token = token;\n              }\n            }, {\n              key: \"setConnectData\",\n              value: function setConnectData(data) {\n                this._connectData = data;\n              }\n            }, {\n              key: \"setRefreshHeaders\",\n              value: function setRefreshHeaders(headers) {\n                this._config.refreshHeaders = headers;\n              }\n            }, {\n              key: \"setRefreshParams\",\n              value: function setRefreshParams(params) {\n                this._config.refreshParams = params;\n              }\n            }, {\n              key: \"setRefreshData\",\n              value: function setRefreshData(data) {\n                this._config.refreshData = data;\n              }\n            }, {\n              key: \"setSubscribeHeaders\",\n              value: function setSubscribeHeaders(headers) {\n                this._config.subscribeHeaders = headers;\n              }\n            }, {\n              key: \"setSubscribeParams\",\n              value: function setSubscribeParams(params) {\n                this._config.subscribeParams = params;\n              }\n            }, {\n              key: \"_ajax\",\n              value: function _ajax(url, params, headers, data, callback) {\n                var _this2 = this;\n\n                var query = '';\n\n                this._debug('sending AJAX request to', url, 'with data', JSON.stringify(data));\n\n                var xhr;\n\n                if (this._xmlhttprequest !== null) {\n                  // use explicitly passed XMLHttpRequest object.\n                  xhr = new this._xmlhttprequest();\n                } else {\n                  xhr = __webpack_require__.g.XMLHttpRequest ? new __webpack_require__.g.XMLHttpRequest() : new __webpack_require__.g.ActiveXObject('Microsoft.XMLHTTP');\n                }\n\n                for (var i in params) {\n                  if (params.hasOwnProperty(i)) {\n                    if (query.length > 0) {\n                      query += '&';\n                    }\n\n                    query += encodeURIComponent(i) + '=' + encodeURIComponent(params[i]);\n                  }\n                }\n\n                if (query.length > 0) {\n                  query = '?' + query;\n                }\n\n                xhr.open('POST', url + query, true);\n\n                if ('withCredentials' in xhr) {\n                  xhr.withCredentials = !this._config.disableWithCredentials;\n                }\n\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                xhr.setRequestHeader('Content-Type', 'application/json');\n\n                for (var headerName in headers) {\n                  if (headers.hasOwnProperty(headerName)) {\n                    xhr.setRequestHeader(headerName, headers[headerName]);\n                  }\n                }\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      var _data,\n                          parsed = false;\n\n                      try {\n                        _data = JSON.parse(xhr.responseText);\n                        parsed = true;\n                      } catch (e) {\n                        callback({\n                          error: 'Invalid JSON. Data was: ' + xhr.responseText,\n                          status: 200,\n                          data: null\n                        });\n                      }\n\n                      if (parsed) {\n                        // prevents double execution.\n                        callback({\n                          data: _data,\n                          status: 200\n                        });\n                      }\n                    } else {\n                      _this2._log('wrong status code in AJAX response', xhr.status);\n\n                      callback({\n                        status: xhr.status,\n                        data: null\n                      });\n                    }\n                  }\n                };\n\n                setTimeout(function () {\n                  return xhr.send(JSON.stringify(data));\n                }, 20);\n                return xhr;\n              }\n            }, {\n              key: \"_log\",\n              value: function _log() {\n                (0, _utils.log)('info', arguments);\n              }\n            }, {\n              key: \"_debug\",\n              value: function _debug() {\n                if (this._config.debug === true) {\n                  (0, _utils.log)('debug', arguments);\n                }\n              }\n            }, {\n              key: \"_websocketSupported\",\n              value: function _websocketSupported() {\n                if (this._config.websocket !== null) {\n                  return true;\n                }\n\n                return !(typeof WebSocket !== 'function' && (typeof WebSocket === \"undefined\" ? \"undefined\" : _typeof(WebSocket)) !== 'object');\n              }\n            }, {\n              key: \"_setFormat\",\n              value: function _setFormat(format) {\n                if (this._formatOverride(format)) {\n                  return;\n                }\n\n                if (format === 'protobuf') {\n                  throw new Error('not implemented by JSON only Centrifuge client – use client with Protobuf');\n                }\n\n                this._binary = false;\n                this._methodType = _json.JsonMethodType;\n                this._pushType = _json.JsonPushType;\n                this._encoder = new _json.JsonEncoder();\n                this._decoder = new _json.JsonDecoder();\n              }\n            }, {\n              key: \"_formatOverride\",\n              value: function _formatOverride(format) {\n                return false;\n              }\n            }, {\n              key: \"_configure\",\n              value: function _configure(configuration) {\n                if (!('Promise' in __webpack_require__.g)) {\n                  throw new Error('Promise polyfill required');\n                }\n\n                (0, _utils.extend)(this._config, configuration || {});\n\n                this._debug('centrifuge config', this._config);\n\n                if (!this._url) {\n                  throw new Error('url required');\n                }\n\n                var isProtobufURL = (0, _utils.startsWith)(this._url, 'ws') && this._url.indexOf('format=protobuf') > -1;\n\n                if (isProtobufURL || this._config.protocol === 'protobuf') {\n                  this._setFormat('protobuf');\n\n                  this._protocol = 'protobuf';\n                } else {\n                  if (this._config.protocol !== '' && this._config.protocol !== 'json') {\n                    throw new Error('unsupported protocol ' + this._config.protocol);\n                  }\n\n                  this._setFormat('json');\n                }\n\n                if ((0, _utils.startsWith)(this._url, 'http')) {\n                  this._debug('client will try to connect to SockJS endpoint');\n\n                  if (this._config.sockjs !== null) {\n                    this._debug('SockJS explicitly provided in options');\n\n                    this._sockjs = this._config.sockjs;\n                  } else {\n                    if (typeof __webpack_require__.g.SockJS === 'undefined') {\n                      throw new Error('SockJS not found, use ws:// in url or include SockJS');\n                    }\n\n                    this._debug('use globally defined SockJS');\n\n                    this._sockjs = __webpack_require__.g.SockJS;\n                  }\n                } else {\n                  this._debug('client will connect to websocket endpoint');\n                }\n\n                this._xmlhttprequest = this._config.xmlhttprequest;\n              }\n            }, {\n              key: \"_setStatus\",\n              value: function _setStatus(newStatus) {\n                if (this._status !== newStatus) {\n                  this._debug('Status', this._status, '->', newStatus);\n\n                  this._status = newStatus;\n                }\n              }\n            }, {\n              key: \"_isDisconnected\",\n              value: function _isDisconnected() {\n                return this._status === 'disconnected';\n              }\n            }, {\n              key: \"_isConnecting\",\n              value: function _isConnecting() {\n                return this._status === 'connecting';\n              }\n            }, {\n              key: \"_isConnected\",\n              value: function _isConnected() {\n                return this._status === 'connected';\n              }\n            }, {\n              key: \"_nextMessageId\",\n              value: function _nextMessageId() {\n                return ++this._messageId;\n              }\n            }, {\n              key: \"_resetRetry\",\n              value: function _resetRetry() {\n                this._debug('reset retries count to 0');\n\n                this._retries = 0;\n              }\n            }, {\n              key: \"_getRetryInterval\",\n              value: function _getRetryInterval() {\n                var interval = (0, _utils.backoff)(this._retries, this._config.minRetry, this._config.maxRetry);\n                this._retries += 1;\n                return interval;\n              }\n            }, {\n              key: \"_abortInflightXHRs\",\n              value: function _abortInflightXHRs() {\n                for (var xhrID in this._xhrs) {\n                  try {\n                    this._xhrs[xhrID].abort();\n                  } catch (e) {\n                    this._debug('error aborting xhr', e);\n                  }\n\n                  delete this._xhrs[xhrID];\n                }\n              }\n            }, {\n              key: \"_clearConnectedState\",\n              value: function _clearConnectedState(reconnect) {\n                this._clientID = null;\n\n                this._stopPing(); // fire errbacks of registered outgoing calls.\n\n\n                for (var id in this._callbacks) {\n                  if (this._callbacks.hasOwnProperty(id)) {\n                    var callbacks = this._callbacks[id];\n                    clearTimeout(callbacks.timeout);\n                    var errback = callbacks.errback;\n\n                    if (!errback) {\n                      continue;\n                    }\n\n                    errback({\n                      error: this._createErrorObject('disconnected')\n                    });\n                  }\n                }\n\n                this._callbacks = {}; // fire unsubscribe events\n\n                for (var channel in this._subs) {\n                  if (this._subs.hasOwnProperty(channel)) {\n                    var sub = this._subs[channel];\n\n                    if (reconnect) {\n                      if (sub._isSuccess()) {\n                        sub._triggerUnsubscribe();\n\n                        sub._recover = true;\n                      }\n\n                      if (sub._shouldResubscribe()) {\n                        sub._setSubscribing();\n                      }\n                    } else {\n                      sub._setUnsubscribed();\n                    }\n                  }\n                }\n\n                this._abortInflightXHRs(); // clear refresh timer\n\n\n                if (this._refreshTimeout !== null) {\n                  clearTimeout(this._refreshTimeout);\n                  this._refreshTimeout = null;\n                } // clear sub refresh timers\n\n\n                for (var _channel in this._subRefreshTimeouts) {\n                  if (this._subRefreshTimeouts.hasOwnProperty(_channel) && this._subRefreshTimeouts[_channel]) {\n                    this._clearSubRefreshTimeout(_channel);\n                  }\n                }\n\n                this._subRefreshTimeouts = {};\n\n                if (!this._reconnect) {\n                  // completely clear subscriptions\n                  this._subs = {};\n                }\n              }\n            }, {\n              key: \"_isTransportOpen\",\n              value: function _isTransportOpen() {\n                if (this._isSockjs) {\n                  return this._transport && this._transport.transport && this._transport.transport.readyState === this._transport.transport.OPEN;\n                }\n\n                return this._transport && this._transport.readyState === this._transport.OPEN;\n              }\n            }, {\n              key: \"_transportSend\",\n              value: function _transportSend(commands) {\n                if (!commands.length) {\n                  return true;\n                }\n\n                if (!this._isTransportOpen()) {\n                  // resolve pending commands with error if transport is not open\n                  for (var command in commands) {\n                    var id = command.id;\n\n                    if (!(id in this._callbacks)) {\n                      continue;\n                    }\n\n                    var callbacks = this._callbacks[id];\n                    clearTimeout(this._callbacks[id].timeout);\n                    delete this._callbacks[id];\n                    var errback = callbacks.errback;\n                    errback({\n                      error: this._createErrorObject(_errorConnectionClosed, 0)\n                    });\n                  }\n\n                  return false;\n                }\n\n                this._transport.send(this._encoder.encodeCommands(commands));\n\n                return true;\n              }\n            }, {\n              key: \"_getSubProtocol\",\n              value: function _getSubProtocol() {\n                if (!this._protocol) {\n                  return '';\n                }\n\n                return 'centrifuge-' + this._protocol;\n              }\n            }, {\n              key: \"_setupTransport\",\n              value: function _setupTransport() {\n                var _this3 = this;\n\n                this._isSockjs = false; // detect transport to use - SockJS or Websocket\n\n                if (this._sockjs !== null) {\n                  var sockjsOptions = {\n                    transports: this._config.sockjsTransports\n                  };\n\n                  if (this._config.sockjsServer !== null) {\n                    sockjsOptions.server = this._config.sockjsServer;\n                  }\n\n                  if (this._config.sockjsTimeout !== null) {\n                    sockjsOptions.timeout = this._config.sockjsTimeout;\n                  }\n\n                  this._isSockjs = true;\n                  this._transport = new this._sockjs(this._url, null, sockjsOptions);\n                } else {\n                  if (!this._websocketSupported()) {\n                    this._debug('No Websocket support and no SockJS configured, can not connect');\n\n                    throw new Error('No Websocket support and no SockJS configured, can not connect');\n                  }\n\n                  if (this._config.websocket !== null) {\n                    this._websocket = this._config.websocket;\n                  } else {\n                    this._websocket = WebSocket;\n                  }\n\n                  var subProtocol = this._getSubProtocol();\n\n                  if (subProtocol !== '') {\n                    this._transport = new this._websocket(this._url, subProtocol);\n                  } else {\n                    this._transport = new this._websocket(this._url);\n                  }\n\n                  if (this._binary === true) {\n                    this._transport.binaryType = 'arraybuffer';\n                  }\n                }\n\n                this._transport.onopen = function () {\n                  _this3._transportClosed = false;\n\n                  if (_this3._isSockjs) {\n                    _this3._transportName = 'sockjs-' + _this3._transport.transport;\n\n                    _this3._transport.onheartbeat = function () {\n                      return _this3._restartPing();\n                    };\n                  } else {\n                    _this3._transportName = 'websocket';\n                  } // Can omit method here due to zero value.\n\n\n                  var msg = {// method: this._methodType.CONNECT\n                  };\n\n                  if (_this3._token || _this3._connectData || _this3._config.name || _this3._config.version) {\n                    msg.params = {};\n                  }\n\n                  if (_this3._token) {\n                    msg.params.token = _this3._token;\n                  }\n\n                  if (_this3._connectData) {\n                    msg.params.data = _this3._connectData;\n                  }\n\n                  if (_this3._config.name) {\n                    msg.params.name = _this3._config.name;\n                  }\n\n                  if (_this3._config.version) {\n                    msg.params.version = _this3._config.version;\n                  }\n\n                  var subs = {};\n                  var hasSubs = false;\n\n                  for (var channel in _this3._serverSubs) {\n                    if (_this3._serverSubs.hasOwnProperty(channel) && _this3._serverSubs[channel].recoverable) {\n                      hasSubs = true;\n                      var sub = {\n                        'recover': true\n                      };\n\n                      if (_this3._serverSubs[channel].seq || _this3._serverSubs[channel].gen) {\n                        if (_this3._serverSubs[channel].seq) {\n                          sub['seq'] = _this3._serverSubs[channel].seq;\n                        }\n\n                        if (_this3._serverSubs[channel].gen) {\n                          sub['gen'] = _this3._serverSubs[channel].gen;\n                        }\n                      } else {\n                        if (_this3._serverSubs[channel].offset) {\n                          sub['offset'] = _this3._serverSubs[channel].offset;\n                        }\n                      }\n\n                      if (_this3._serverSubs[channel].epoch) {\n                        sub['epoch'] = _this3._serverSubs[channel].epoch;\n                      }\n\n                      subs[channel] = sub;\n                    }\n                  }\n\n                  if (hasSubs) {\n                    if (!msg.params) {\n                      msg.params = {};\n                    }\n\n                    msg.params.subs = subs;\n                  }\n\n                  _this3._latencyStart = new Date();\n\n                  _this3._call(msg).then(function (resolveCtx) {\n                    _this3._connectResponse(_this3._decoder.decodeCommandResult(_this3._methodType.CONNECT, resolveCtx.result), hasSubs);\n\n                    if (resolveCtx.next) {\n                      resolveCtx.next();\n                    }\n                  }, function (rejectCtx) {\n                    var err = rejectCtx.error;\n\n                    if (err.code === 109) {\n                      // token expired.\n                      _this3._refreshRequired = true;\n                    }\n\n                    _this3._disconnect('connect error', true);\n\n                    if (rejectCtx.next) {\n                      rejectCtx.next();\n                    }\n                  });\n                };\n\n                this._transport.onerror = function (error) {\n                  _this3._debug('transport level error', error);\n                };\n\n                this._transport.onclose = function (closeEvent) {\n                  _this3._transportClosed = true;\n                  var reason = _errorConnectionClosed;\n                  var needReconnect = true;\n\n                  if (closeEvent && 'reason' in closeEvent && closeEvent.reason) {\n                    try {\n                      var advice = JSON.parse(closeEvent.reason);\n\n                      _this3._debug('reason is an advice object', advice);\n\n                      reason = advice.reason;\n                      needReconnect = advice.reconnect;\n                    } catch (e) {\n                      reason = closeEvent.reason;\n\n                      _this3._debug('reason is a plain string', reason);\n                    }\n                  } // onTransportClose callback should be executed every time transport was closed.\n                  // This can be helpful to catch failed connection events (because our disconnect\n                  // event only called once and every future attempts to connect do not fire disconnect\n                  // event again).\n\n\n                  if (_this3._config.onTransportClose !== null) {\n                    _this3._config.onTransportClose({\n                      event: closeEvent,\n                      reason: reason,\n                      reconnect: needReconnect\n                    });\n                  }\n\n                  _this3._disconnect(reason, needReconnect);\n\n                  if (_this3._reconnect === true) {\n                    _this3._reconnecting = true;\n\n                    var interval = _this3._getRetryInterval();\n\n                    _this3._debug('reconnect after ' + interval + ' milliseconds');\n\n                    setTimeout(function () {\n                      if (_this3._reconnect === true) {\n                        if (_this3._refreshRequired) {\n                          _this3._refresh();\n                        } else {\n                          _this3._connect();\n                        }\n                      }\n                    }, interval);\n                  }\n                };\n\n                this._transport.onmessage = function (event) {\n                  _this3._dataReceived(event.data);\n                };\n              }\n            }, {\n              key: \"rpc\",\n              value: function rpc(data) {\n                return this._rpc('', data);\n              }\n            }, {\n              key: \"namedRPC\",\n              value: function namedRPC(method, data) {\n                return this._rpc(method, data);\n              }\n            }, {\n              key: \"_rpc\",\n              value: function _rpc(method, data) {\n                var params = {\n                  data: data\n                };\n\n                if (method !== '') {\n                  params.method = method;\n                }\n\n                ;\n                var msg = {\n                  method: this._methodType.RPC,\n                  params: params\n                };\n                return this._methodCall(msg, function (result) {\n                  return result;\n                });\n              }\n            }, {\n              key: \"send\",\n              value: function send(data) {\n                var msg = {\n                  method: this._methodType.SEND,\n                  params: {\n                    data: data\n                  }\n                };\n\n                if (!this.isConnected()) {\n                  return Promise.reject(this._createErrorObject(_errorConnectionClosed, 0));\n                }\n\n                var sent = this._transportSend([msg]); // can send async message to server without id set\n\n\n                if (!sent) {\n                  return Promise.reject(this._createErrorObject(_errorConnectionClosed, 0));\n                }\n\n                ;\n                return Promise.resolve({});\n              }\n            }, {\n              key: \"_getHistoryParams\",\n              value: function _getHistoryParams(channel, options) {\n                var params = {\n                  channel: channel\n                };\n\n                if (options !== undefined) {\n                  if (options.since) {\n                    params['since'] = {\n                      'offset': options.since.offset\n                    };\n\n                    if (options.since.epoch) {\n                      params['since']['epoch'] = options.since.epoch;\n                    }\n                  }\n\n                  ;\n\n                  if (options.limit !== undefined) {\n                    params['limit'] = options.limit;\n                  }\n\n                  if (options.reverse === true) {\n                    params['reverse'] = true;\n                  }\n                }\n\n                ;\n                return params;\n              }\n            }, {\n              key: \"_methodCall\",\n              value: function _methodCall(msg, resultCB) {\n                var _this4 = this;\n\n                if (!this.isConnected()) {\n                  return Promise.reject(this._createErrorObject(_errorConnectionClosed, 0));\n                }\n\n                return new Promise(function (resolve, reject) {\n                  _this4._call(msg).then(function (resolveCtx) {\n                    resolve(resultCB(_this4._decoder.decodeCommandResult(msg.method, resolveCtx.result)));\n\n                    if (resolveCtx.next) {\n                      resolveCtx.next();\n                    }\n                  }, function (rejectCtx) {\n                    reject(rejectCtx.error);\n\n                    if (rejectCtx.next) {\n                      rejectCtx.next();\n                    }\n                  });\n                });\n              }\n            }, {\n              key: \"publish\",\n              value: function publish(channel, data) {\n                var msg = {\n                  method: this._methodType.PUBLISH,\n                  params: {\n                    channel: channel,\n                    data: data\n                  }\n                };\n                return this._methodCall(msg, function () {\n                  return {};\n                });\n              }\n            }, {\n              key: \"history\",\n              value: function history(channel, options) {\n                var params = this._getHistoryParams(channel, options);\n\n                var msg = {\n                  method: this._methodType.HISTORY,\n                  params: params\n                };\n                return this._methodCall(msg, function (result) {\n                  return {\n                    'publications': result.publications,\n                    'epoch': result.epoch || '',\n                    'offset': result.offset || 0\n                  };\n                });\n              }\n            }, {\n              key: \"presence\",\n              value: function presence(channel) {\n                var msg = {\n                  method: this._methodType.PRESENCE,\n                  params: {\n                    channel: channel\n                  }\n                };\n                return this._methodCall(msg, function (result) {\n                  return {\n                    'presence': result.presence\n                  };\n                });\n              }\n            }, {\n              key: \"presenceStats\",\n              value: function presenceStats(channel) {\n                var msg = {\n                  method: this._methodType.PRESENCE_STATS,\n                  params: {\n                    channel: channel\n                  }\n                };\n                return this._methodCall(msg, function (result) {\n                  return {\n                    'num_users': result.num_users,\n                    'num_clients': result.num_clients\n                  };\n                });\n              }\n            }, {\n              key: \"_dataReceived\",\n              value: function _dataReceived(data) {\n                var _this5 = this;\n\n                var replies = this._decoder.decodeReplies(data); // we have to guarantee order of events in replies processing - i.e. start processing\n                // next reply only when we finished processing of current one. Without syncing things in\n                // this way we could get wrong publication events order as reply promises resolve\n                // on next loop tick so for loop continues before we finished emitting all reply events.\n\n\n                this._dispatchPromise = this._dispatchPromise.then(function () {\n                  var finishDispatch;\n                  _this5._dispatchPromise = new Promise(function (resolve) {\n                    finishDispatch = resolve;\n                  });\n\n                  _this5._dispatchSynchronized(replies, finishDispatch);\n                });\n\n                this._restartPing();\n              }\n            }, {\n              key: \"_dispatchSynchronized\",\n              value: function _dispatchSynchronized(replies, finishDispatch) {\n                var _this6 = this;\n\n                var p = Promise.resolve();\n\n                var _loop = function _loop(i) {\n                  if (replies.hasOwnProperty(i)) {\n                    p = p.then(function () {\n                      return _this6._dispatchReply(replies[i]);\n                    });\n                  }\n                };\n\n                for (var i in replies) {\n                  _loop(i);\n                }\n\n                p = p.then(function () {\n                  finishDispatch();\n                });\n              }\n            }, {\n              key: \"_dispatchReply\",\n              value: function _dispatchReply(reply) {\n                var next;\n                var p = new Promise(function (resolve) {\n                  next = resolve;\n                });\n\n                if (reply === undefined || reply === null) {\n                  this._debug('dispatch: got undefined or null reply');\n\n                  next();\n                  return p;\n                }\n\n                var id = reply.id;\n\n                if (id && id > 0) {\n                  this._handleReply(reply, next);\n                } else {\n                  this._handlePush(reply.result, next);\n                }\n\n                return p;\n              }\n            }, {\n              key: \"_call\",\n              value: function _call(msg) {\n                var _this7 = this;\n\n                return new Promise(function (resolve, reject) {\n                  var id = _this7._addMessage(msg);\n\n                  _this7._registerCall(id, resolve, reject);\n                });\n              }\n            }, {\n              key: \"_connect\",\n              value: function _connect() {\n                if (this.isConnected()) {\n                  this._debug('connect called when already connected');\n\n                  return;\n                }\n\n                if (this._status === 'connecting') {\n                  return;\n                }\n\n                this._debug('start connecting');\n\n                this._setStatus('connecting');\n\n                this._clientID = null;\n                this._reconnect = true;\n\n                this._setupTransport();\n              }\n            }, {\n              key: \"_disconnect\",\n              value: function _disconnect(reason, shouldReconnect) {\n                var reconnect = shouldReconnect || false;\n\n                if (reconnect === false) {\n                  this._reconnect = false;\n                }\n\n                if (this._isDisconnected()) {\n                  if (!reconnect) {\n                    this._clearConnectedState(reconnect);\n                  }\n\n                  return;\n                }\n\n                this._clearConnectedState(reconnect);\n\n                this._debug('disconnected:', reason, shouldReconnect);\n\n                this._setStatus('disconnected');\n\n                if (this._refreshTimeout) {\n                  clearTimeout(this._refreshTimeout);\n                  this._refreshTimeout = null;\n                }\n\n                if (this._reconnecting === false) {\n                  // fire unsubscribe events for server side subs.\n                  for (var channel in this._serverSubs) {\n                    if (this._serverSubs.hasOwnProperty(channel)) {\n                      this.emit('unsubscribe', {\n                        channel: channel\n                      });\n                    }\n                  }\n\n                  this.emit('disconnect', {\n                    reason: reason,\n                    reconnect: reconnect\n                  });\n                }\n\n                if (reconnect === false) {\n                  this._subs = {};\n                  this._serverSubs = {};\n                }\n\n                if (!this._transportClosed) {\n                  this._transport.close();\n                }\n              }\n            }, {\n              key: \"_refreshFailed\",\n              value: function _refreshFailed() {\n                this._numRefreshFailed = 0;\n\n                if (!this._isDisconnected()) {\n                  this._disconnect('refresh failed', false);\n                }\n\n                if (this._config.onRefreshFailed !== null) {\n                  this._config.onRefreshFailed();\n                }\n              }\n            }, {\n              key: \"_refresh\",\n              value: function _refresh() {\n                var _this8 = this; // ask application for new connection token.\n\n\n                this._debug('refresh token');\n\n                if (this._config.refreshAttempts === 0) {\n                  this._debug('refresh attempts set to 0, do not send refresh request at all');\n\n                  this._refreshFailed();\n\n                  return;\n                }\n\n                if (this._refreshTimeout !== null) {\n                  clearTimeout(this._refreshTimeout);\n                  this._refreshTimeout = null;\n                }\n\n                var clientID = this._clientID;\n\n                var xhrID = this._newXHRID();\n\n                var cb = function cb(resp) {\n                  if (xhrID in _this8._xhrs) {\n                    delete _this8._xhrs[xhrID];\n                  }\n\n                  if (_this8._clientID !== clientID) {\n                    return;\n                  }\n\n                  if (resp.error || resp.status !== 200) {\n                    // We don't perform any connection status related actions here as we are\n                    // relying on server that must close connection eventually.\n                    if (resp.error) {\n                      _this8._debug('error refreshing connection token', resp.error);\n                    } else {\n                      _this8._debug('error refreshing connection token: wrong status code', resp.status);\n                    }\n\n                    _this8._numRefreshFailed++;\n\n                    if (_this8._refreshTimeout !== null) {\n                      clearTimeout(_this8._refreshTimeout);\n                      _this8._refreshTimeout = null;\n                    }\n\n                    if (_this8._config.refreshAttempts !== null && _this8._numRefreshFailed >= _this8._config.refreshAttempts) {\n                      _this8._refreshFailed();\n\n                      return;\n                    }\n\n                    var jitter = Math.round(Math.random() * 1000 * Math.max(_this8._numRefreshFailed, 20));\n                    var interval = _this8._config.refreshInterval + jitter;\n                    _this8._refreshTimeout = setTimeout(function () {\n                      return _this8._refresh();\n                    }, interval);\n                    return;\n                  }\n\n                  _this8._numRefreshFailed = 0;\n                  _this8._token = resp.data.token;\n\n                  if (!_this8._token) {\n                    _this8._refreshFailed();\n\n                    return;\n                  }\n\n                  if (_this8._isDisconnected() && _this8._reconnect) {\n                    _this8._debug('token refreshed, connect from scratch');\n\n                    _this8._connect();\n                  } else {\n                    _this8._debug('send refreshed token');\n\n                    var msg = {\n                      method: _this8._methodType.REFRESH,\n                      params: {\n                        token: _this8._token\n                      }\n                    };\n\n                    _this8._call(msg).then(function (resolveCtx) {\n                      _this8._refreshResponse(_this8._decoder.decodeCommandResult(_this8._methodType.REFRESH, resolveCtx.result));\n\n                      if (resolveCtx.next) {\n                        resolveCtx.next();\n                      }\n                    }, function (rejectCtx) {\n                      _this8._refreshError(rejectCtx.error);\n\n                      if (rejectCtx.next) {\n                        rejectCtx.next();\n                      }\n                    });\n                  }\n                };\n\n                if (this._config.onRefresh !== null) {\n                  var context = {};\n\n                  this._config.onRefresh(context, cb);\n                } else {\n                  var xhr = this._ajax(this._config.refreshEndpoint, this._config.refreshParams, this._config.refreshHeaders, this._config.refreshData, cb);\n\n                  this._xhrs[xhrID] = xhr;\n                }\n              }\n            }, {\n              key: \"_refreshError\",\n              value: function _refreshError(err) {\n                var _this9 = this;\n\n                this._debug('refresh error', err);\n\n                if (this._refreshTimeout) {\n                  clearTimeout(this._refreshTimeout);\n                  this._refreshTimeout = null;\n                }\n\n                var interval = this._config.refreshInterval + Math.round(Math.random() * 1000);\n                this._refreshTimeout = setTimeout(function () {\n                  return _this9._refresh();\n                }, interval);\n              }\n            }, {\n              key: \"_refreshResponse\",\n              value: function _refreshResponse(result) {\n                var _this10 = this;\n\n                if (this._refreshTimeout) {\n                  clearTimeout(this._refreshTimeout);\n                  this._refreshTimeout = null;\n                }\n\n                if (result.expires) {\n                  this._clientID = result.client;\n                  this._refreshTimeout = setTimeout(function () {\n                    return _this10._refresh();\n                  }, this._getTTLMilliseconds(result.ttl));\n                }\n              }\n            }, {\n              key: \"_newXHRID\",\n              value: function _newXHRID() {\n                this._xhrID++;\n                return this._xhrID;\n              }\n            }, {\n              key: \"_subRefresh\",\n              value: function _subRefresh(channel) {\n                var _this11 = this;\n\n                this._debug('refresh subscription token for channel', channel);\n\n                if (this._subRefreshTimeouts[channel] !== undefined) {\n                  this._clearSubRefreshTimeout(channel);\n                } else {\n                  return;\n                }\n\n                var clientID = this._clientID;\n\n                var xhrID = this._newXHRID();\n\n                var cb = function cb(resp) {\n                  if (xhrID in _this11._xhrs) {\n                    delete _this11._xhrs[xhrID];\n                  }\n\n                  if (resp.error || resp.status !== 200 || _this11._clientID !== clientID) {\n                    return;\n                  }\n\n                  var channelsData = {};\n\n                  if (resp.data.channels) {\n                    for (var i in resp.data.channels) {\n                      var channelData = resp.data.channels[i];\n\n                      if (!channelData.channel) {\n                        continue;\n                      }\n\n                      channelsData[channelData.channel] = channelData.token;\n                    }\n                  }\n\n                  var token = channelsData[channel];\n\n                  if (!token) {\n                    return;\n                  }\n\n                  var msg = {\n                    method: _this11._methodType.SUB_REFRESH,\n                    params: {\n                      channel: channel,\n                      token: token\n                    }\n                  };\n\n                  var sub = _this11._getSub(channel);\n\n                  if (sub === null) {\n                    return;\n                  }\n\n                  _this11._call(msg).then(function (resolveCtx) {\n                    _this11._subRefreshResponse(channel, _this11._decoder.decodeCommandResult(_this11._methodType.SUB_REFRESH, resolveCtx.result));\n\n                    if (resolveCtx.next) {\n                      resolveCtx.next();\n                    }\n                  }, function (rejectCtx) {\n                    _this11._subRefreshError(channel, rejectCtx.error);\n\n                    if (rejectCtx.next) {\n                      rejectCtx.next();\n                    }\n                  });\n                };\n\n                var data = {\n                  client: this._clientID,\n                  channels: [channel]\n                };\n\n                if (this._config.onPrivateSubscribe !== null) {\n                  this._config.onPrivateSubscribe({\n                    data: data\n                  }, cb);\n                } else {\n                  var xhr = this._ajax(this._config.subscribeEndpoint, this._config.subscribeParams, this._config.subscribeHeaders, data, cb);\n\n                  this._xhrs[xhrID] = xhr;\n                }\n              }\n            }, {\n              key: \"_clearSubRefreshTimeout\",\n              value: function _clearSubRefreshTimeout(channel) {\n                if (this._subRefreshTimeouts[channel] !== undefined) {\n                  clearTimeout(this._subRefreshTimeouts[channel]);\n                  delete this._subRefreshTimeouts[channel];\n                }\n              }\n            }, {\n              key: \"_subRefreshError\",\n              value: function _subRefreshError(channel, err) {\n                var _this12 = this;\n\n                this._debug('subscription refresh error', channel, err);\n\n                this._clearSubRefreshTimeout(channel);\n\n                var sub = this._getSub(channel);\n\n                if (sub === null) {\n                  return;\n                }\n\n                var jitter = Math.round(Math.random() * 1000);\n                var subRefreshTimeout = setTimeout(function () {\n                  return _this12._subRefresh(channel);\n                }, this._config.subRefreshInterval + jitter);\n                this._subRefreshTimeouts[channel] = subRefreshTimeout;\n                return;\n              }\n            }, {\n              key: \"_subRefreshResponse\",\n              value: function _subRefreshResponse(channel, result) {\n                var _this13 = this;\n\n                this._debug('subscription refresh success', channel);\n\n                this._clearSubRefreshTimeout(channel);\n\n                var sub = this._getSub(channel);\n\n                if (sub === null) {\n                  return;\n                }\n\n                if (result.expires === true) {\n                  var subRefreshTimeout = setTimeout(function () {\n                    return _this13._subRefresh(channel);\n                  }, this._getTTLMilliseconds(result.ttl));\n                  this._subRefreshTimeouts[channel] = subRefreshTimeout;\n                }\n\n                return;\n              }\n            }, {\n              key: \"_subscribe\",\n              value: function _subscribe(sub, isResubscribe) {\n                var _this14 = this;\n\n                this._debug('subscribing on', sub.channel);\n\n                var channel = sub.channel;\n\n                if (!(channel in this._subs)) {\n                  this._subs[channel] = sub;\n                }\n\n                if (!this.isConnected()) {\n                  // subscribe will be called later\n                  sub._setNew();\n\n                  return;\n                }\n\n                sub._setSubscribing(isResubscribe);\n\n                var msg = {\n                  method: this._methodType.SUBSCRIBE,\n                  params: {\n                    channel: channel\n                  }\n                };\n\n                if (sub._subscribeData) {\n                  msg.params.data = sub._subscribeData;\n                } // If channel name does not start with privateChannelPrefix - then we\n                // can just send subscription message to Centrifuge. If channel name\n                // starts with privateChannelPrefix - then this is a private channel\n                // and we should ask web application backend for permission first.\n\n\n                if ((0, _utils.startsWith)(channel, this._config.privateChannelPrefix)) {\n                  // private channel.\n                  if (this._isSubscribeBatching) {\n                    this._privateChannels[channel] = true;\n                  } else {\n                    this.startSubscribeBatching();\n\n                    this._subscribe(sub);\n\n                    this.stopSubscribeBatching();\n                  }\n                } else {\n                  var recover = sub._needRecover();\n\n                  if (recover === true) {\n                    msg.params.recover = true;\n\n                    var seq = this._getLastSeq(channel);\n\n                    var gen = this._getLastGen(channel);\n\n                    if (seq || gen) {\n                      if (seq) {\n                        msg.params.seq = seq;\n                      }\n\n                      if (gen) {\n                        msg.params.gen = gen;\n                      }\n                    } else {\n                      var offset = this._getLastOffset(channel);\n\n                      if (offset) {\n                        msg.params.offset = offset;\n                      }\n                    }\n\n                    var epoch = this._getLastEpoch(channel);\n\n                    if (epoch) {\n                      msg.params.epoch = epoch;\n                    }\n                  }\n\n                  this._call(msg).then(function (resolveCtx) {\n                    _this14._subscribeResponse(channel, recover, _this14._decoder.decodeCommandResult(_this14._methodType.SUBSCRIBE, resolveCtx.result));\n\n                    if (resolveCtx.next) {\n                      resolveCtx.next();\n                    }\n                  }, function (rejectCtx) {\n                    _this14._subscribeError(channel, rejectCtx.error);\n\n                    if (rejectCtx.next) {\n                      rejectCtx.next();\n                    }\n                  });\n                }\n              }\n            }, {\n              key: \"_unsubscribe\",\n              value: function _unsubscribe(sub) {\n                delete this._subs[sub.channel];\n                delete this._lastOffset[sub.channel];\n                delete this._lastSeq[sub.channel];\n                delete this._lastGen[sub.channel];\n\n                if (this.isConnected()) {\n                  // No need to unsubscribe in disconnected state - i.e. client already unsubscribed.\n                  this._addMessage({\n                    method: this._methodType.UNSUBSCRIBE,\n                    params: {\n                      channel: sub.channel\n                    }\n                  });\n                }\n              }\n            }, {\n              key: \"_getTTLMilliseconds\",\n              value: function _getTTLMilliseconds(ttl) {\n                // https://stackoverflow.com/questions/12633405/what-is-the-maximum-delay-for-setinterval\n                return Math.min(ttl * 1000, 2147483647);\n              }\n            }, {\n              key: \"getSub\",\n              value: function getSub(channel) {\n                return this._getSub(channel);\n              }\n            }, {\n              key: \"_getSub\",\n              value: function _getSub(channel) {\n                var sub = this._subs[channel];\n\n                if (!sub) {\n                  return null;\n                }\n\n                return sub;\n              }\n            }, {\n              key: \"_isServerSub\",\n              value: function _isServerSub(channel) {\n                return this._serverSubs[channel] !== undefined;\n              }\n            }, {\n              key: \"_connectResponse\",\n              value: function _connectResponse(result, isRecover) {\n                var _this15 = this;\n\n                var wasReconnecting = this._reconnecting;\n                this._reconnecting = false;\n\n                this._resetRetry();\n\n                this._refreshRequired = false;\n\n                if (this.isConnected()) {\n                  return;\n                }\n\n                if (this._latencyStart !== null) {\n                  this._latency = new Date().getTime() - this._latencyStart.getTime();\n                  this._latencyStart = null;\n                }\n\n                this._clientID = result.client;\n\n                this._setStatus('connected');\n\n                if (this._refreshTimeout) {\n                  clearTimeout(this._refreshTimeout);\n                }\n\n                if (result.expires) {\n                  this._refreshTimeout = setTimeout(function () {\n                    return _this15._refresh();\n                  }, this._getTTLMilliseconds(result.ttl));\n                }\n\n                this.startBatching();\n                this.startSubscribeBatching();\n\n                for (var channel in this._subs) {\n                  if (this._subs.hasOwnProperty(channel)) {\n                    var sub = this._subs[channel];\n\n                    if (sub._shouldResubscribe()) {\n                      this._subscribe(sub, wasReconnecting);\n                    }\n                  }\n                }\n\n                this.stopSubscribeBatching();\n                this.stopBatching();\n\n                this._startPing();\n\n                var ctx = {\n                  client: result.client,\n                  transport: this._transportName,\n                  latency: this._latency\n                };\n\n                if (result.data) {\n                  ctx.data = result.data;\n                }\n\n                this.emit('connect', ctx);\n\n                if (result.subs) {\n                  this._processServerSubs(result.subs);\n                }\n              }\n            }, {\n              key: \"_processServerSubs\",\n              value: function _processServerSubs(subs) {\n                for (var channel in subs) {\n                  if (subs.hasOwnProperty(channel)) {\n                    var sub = subs[channel];\n                    var isResubscribe = this._serverSubs[channel] !== undefined;\n                    var subCtx = {\n                      channel: channel,\n                      isResubscribe: isResubscribe\n                    };\n                    subCtx = this._expandSubscribeContext(subCtx, sub);\n                    this.emit('subscribe', subCtx);\n                  }\n                }\n\n                for (var _channel2 in subs) {\n                  if (subs.hasOwnProperty(_channel2)) {\n                    var _sub = subs[_channel2];\n\n                    if (_sub.recovered) {\n                      var pubs = _sub.publications;\n\n                      if (pubs && pubs.length > 0) {\n                        // handle legacy order.\n                        // TODO: remove as soon as Centrifuge v1 released.\n                        if (pubs.length > 1 && (!pubs[0].offset || pubs[0].offset > pubs[1].offset)) {\n                          pubs = pubs.reverse();\n                        }\n\n                        for (var i in pubs) {\n                          if (pubs.hasOwnProperty(i)) {\n                            this._handlePublication(_channel2, pubs[i]);\n                          }\n                        }\n                      }\n                    }\n\n                    this._serverSubs[_channel2] = {\n                      'seq': _sub.seq,\n                      'gen': _sub.gen,\n                      'offset': _sub.offset,\n                      'epoch': _sub.epoch,\n                      'recoverable': _sub.recoverable\n                    };\n                  }\n                }\n              }\n            }, {\n              key: \"_stopPing\",\n              value: function _stopPing() {\n                if (this._pongTimeout !== null) {\n                  clearTimeout(this._pongTimeout);\n                  this._pongTimeout = null;\n                }\n\n                if (this._pingTimeout !== null) {\n                  clearTimeout(this._pingTimeout);\n                  this._pingTimeout = null;\n                }\n              }\n            }, {\n              key: \"_startPing\",\n              value: function _startPing() {\n                var _this16 = this;\n\n                if (this._config.ping !== true || this._config.pingInterval <= 0) {\n                  return;\n                }\n\n                if (!this.isConnected()) {\n                  return;\n                }\n\n                this._pingTimeout = setTimeout(function () {\n                  if (!_this16.isConnected()) {\n                    _this16._stopPing();\n\n                    return;\n                  }\n\n                  _this16.ping();\n\n                  _this16._pongTimeout = setTimeout(function () {\n                    _this16._disconnect('no ping', true);\n                  }, _this16._config.pongWaitTimeout);\n                }, this._config.pingInterval);\n              }\n            }, {\n              key: \"_restartPing\",\n              value: function _restartPing() {\n                this._stopPing();\n\n                this._startPing();\n              }\n            }, {\n              key: \"_subscribeError\",\n              value: function _subscribeError(channel, error) {\n                var sub = this._getSub(channel);\n\n                if (!sub) {\n                  return;\n                }\n\n                if (!sub._isSubscribing()) {\n                  return;\n                }\n\n                if (error.code === 0 && error.message === _errorTimeout) {\n                  // client side timeout.\n                  this._disconnect('timeout', true);\n\n                  return;\n                }\n\n                sub._setSubscribeError(error);\n              }\n            }, {\n              key: \"_expandSubscribeContext\",\n              value: function _expandSubscribeContext(ctx, result) {\n                var recovered = false;\n\n                if ('recovered' in result) {\n                  recovered = result.recovered;\n                }\n\n                ctx.recovered = recovered;\n                var positioned = false;\n\n                if ('positioned' in result) {\n                  positioned = result.positioned;\n                }\n\n                var epoch = '';\n\n                if ('epoch' in result) {\n                  epoch = result.epoch;\n                }\n\n                var offset = 0;\n\n                if ('offset' in result) {\n                  offset = result.offset;\n                }\n\n                if (positioned) {\n                  ctx.streamPosition = {\n                    'offset': offset,\n                    'epoch': epoch\n                  };\n                }\n\n                ;\n\n                if (result.data) {\n                  ctx.data = result.data;\n                }\n\n                return ctx;\n              }\n            }, {\n              key: \"_subscribeResponse\",\n              value: function _subscribeResponse(channel, isRecover, result) {\n                var _this17 = this;\n\n                var sub = this._getSub(channel);\n\n                if (!sub) {\n                  return;\n                }\n\n                if (!sub._isSubscribing()) {\n                  return;\n                }\n\n                sub._setSubscribeSuccess(result);\n\n                var pubs = result.publications;\n\n                if (pubs && pubs.length > 0) {\n                  if (pubs.length >= 2 && !pubs[0].offset && !pubs[1].offset) {\n                    // handle legacy order.\n                    pubs = pubs.reverse();\n                  }\n\n                  for (var i in pubs) {\n                    if (pubs.hasOwnProperty(i)) {\n                      this._handlePublication(channel, pubs[i]);\n                    }\n                  }\n                }\n\n                if (result.recoverable && (!isRecover || !result.recovered)) {\n                  this._lastSeq[channel] = result.seq || 0;\n                  this._lastGen[channel] = result.gen || 0;\n                  this._lastOffset[channel] = result.offset || 0;\n                }\n\n                this._lastEpoch[channel] = result.epoch || '';\n\n                if (result.recoverable) {\n                  sub._recoverable = true;\n                }\n\n                if (result.expires === true) {\n                  var subRefreshTimeout = setTimeout(function () {\n                    return _this17._subRefresh(channel);\n                  }, this._getTTLMilliseconds(result.ttl));\n                  this._subRefreshTimeouts[channel] = subRefreshTimeout;\n                }\n              }\n            }, {\n              key: \"_handleReply\",\n              value: function _handleReply(reply, next) {\n                var id = reply.id;\n                var result = reply.result;\n\n                if (!(id in this._callbacks)) {\n                  next();\n                  return;\n                }\n\n                var callbacks = this._callbacks[id];\n                clearTimeout(this._callbacks[id].timeout);\n                delete this._callbacks[id];\n\n                if (!(0, _utils.errorExists)(reply)) {\n                  var callback = callbacks.callback;\n\n                  if (!callback) {\n                    return;\n                  }\n\n                  callback({\n                    result: result,\n                    next: next\n                  });\n                } else {\n                  var errback = callbacks.errback;\n\n                  if (!errback) {\n                    next();\n                    return;\n                  }\n\n                  var error = reply.error;\n                  errback({\n                    error: error,\n                    next: next\n                  });\n                }\n              }\n            }, {\n              key: \"_handleJoin\",\n              value: function _handleJoin(channel, join) {\n                var ctx = {\n                  'info': join.info\n                };\n\n                var sub = this._getSub(channel);\n\n                if (!sub) {\n                  if (this._isServerSub(channel)) {\n                    ctx.channel = channel;\n                    this.emit('join', ctx);\n                  }\n\n                  return;\n                }\n\n                sub.emit('join', ctx);\n              }\n            }, {\n              key: \"_handleLeave\",\n              value: function _handleLeave(channel, leave) {\n                var ctx = {\n                  'info': leave.info\n                };\n\n                var sub = this._getSub(channel);\n\n                if (!sub) {\n                  if (this._isServerSub(channel)) {\n                    ctx.channel = channel;\n                    this.emit('leave', ctx);\n                  }\n\n                  return;\n                }\n\n                sub.emit('leave', ctx);\n              }\n            }, {\n              key: \"_handleUnsub\",\n              value: function _handleUnsub(channel, unsub) {\n                var ctx = {};\n\n                var sub = this._getSub(channel);\n\n                if (!sub) {\n                  if (this._isServerSub(channel)) {\n                    delete this._serverSubs[channel];\n                    ctx.channel = channel;\n                    this.emit('unsubscribe', ctx);\n                  }\n\n                  return;\n                }\n\n                sub.unsubscribe();\n\n                if (unsub.resubscribe === true) {\n                  sub.subscribe();\n                }\n              }\n            }, {\n              key: \"_handleSub\",\n              value: function _handleSub(channel, sub) {\n                this._serverSubs[channel] = {\n                  'seq': sub.seq,\n                  'gen': sub.gen,\n                  'offset': sub.offset,\n                  'epoch': sub.epoch,\n                  'recoverable': sub.recoverable\n                };\n                var ctx = {\n                  'channel': channel,\n                  isResubscribe: false\n                };\n                ctx = this._expandSubscribeContext(ctx, sub);\n                this.emit('subscribe', ctx);\n              }\n            }, {\n              key: \"_handlePublication\",\n              value: function _handlePublication(channel, pub) {\n                var sub = this._getSub(channel);\n\n                var ctx = {\n                  'data': pub.data,\n                  'seq': pub.seq,\n                  'gen': pub.gen,\n                  'offset': pub.offset\n                };\n\n                if (pub.info) {\n                  ctx.info = pub.info;\n                }\n\n                if (!sub) {\n                  if (this._isServerSub(channel)) {\n                    if (pub.seq !== undefined) {\n                      this._serverSubs[channel].seq = pub.seq;\n                    }\n\n                    if (pub.gen !== undefined) {\n                      this._serverSubs[channel].gen = pub.gen;\n                    }\n\n                    if (pub.offset !== undefined) {\n                      this._serverSubs[channel].offset = pub.offset;\n                    }\n\n                    ctx.channel = channel;\n                    this.emit('publish', ctx);\n                  }\n\n                  return;\n                }\n\n                if (pub.seq !== undefined) {\n                  this._lastSeq[channel] = pub.seq;\n                }\n\n                if (pub.gen !== undefined) {\n                  this._lastGen[channel] = pub.gen;\n                }\n\n                if (pub.offset !== undefined) {\n                  this._lastOffset[channel] = pub.offset;\n                }\n\n                sub.emit('publish', ctx);\n              }\n            }, {\n              key: \"_handleMessage\",\n              value: function _handleMessage(message) {\n                this.emit('message', message.data);\n              }\n            }, {\n              key: \"_handlePush\",\n              value: function _handlePush(data, next) {\n                var push = this._decoder.decodePush(data);\n\n                var type = 0;\n\n                if ('type' in push) {\n                  type = push['type'];\n                }\n\n                var channel = push.channel;\n\n                if (type === this._pushType.PUBLICATION) {\n                  var pub = this._decoder.decodePushData(this._pushType.PUBLICATION, push.data);\n\n                  this._handlePublication(channel, pub);\n                } else if (type === this._pushType.MESSAGE) {\n                  var message = this._decoder.decodePushData(this._pushType.MESSAGE, push.data);\n\n                  this._handleMessage(message);\n                } else if (type === this._pushType.JOIN) {\n                  var join = this._decoder.decodePushData(this._pushType.JOIN, push.data);\n\n                  this._handleJoin(channel, join);\n                } else if (type === this._pushType.LEAVE) {\n                  var leave = this._decoder.decodePushData(this._pushType.LEAVE, push.data);\n\n                  this._handleLeave(channel, leave);\n                } else if (type === this._pushType.UNSUBSCRIBE) {\n                  var unsub = this._decoder.decodePushData(this._pushType.UNSUBSCRIBE, push.data);\n\n                  this._handleUnsub(channel, unsub);\n                } else if (type === this._pushType.SUBSCRIBE) {\n                  var sub = this._decoder.decodePushData(this._pushType.UNSUBSCRIBE, push.data);\n\n                  this._handleSub(channel, sub);\n                }\n\n                next();\n              }\n            }, {\n              key: \"_flush\",\n              value: function _flush() {\n                var messages = this._messages.slice(0);\n\n                this._messages = [];\n\n                this._transportSend(messages);\n              }\n            }, {\n              key: \"_ping\",\n              value: function _ping() {\n                var _this18 = this;\n\n                var msg = {\n                  method: this._methodType.PING\n                };\n\n                this._call(msg).then(function (resolveCtx) {\n                  _this18._pingResponse(_this18._decoder.decodeCommandResult(_this18._methodType.PING, resolveCtx.result));\n\n                  if (resolveCtx.next) {\n                    resolveCtx.next();\n                  }\n                }, function (rejectCtx) {\n                  _this18._debug('ping error', rejectCtx.error);\n\n                  if (rejectCtx.next) {\n                    rejectCtx.next();\n                  }\n                });\n              }\n            }, {\n              key: \"_pingResponse\",\n              value: function _pingResponse(result) {\n                if (!this.isConnected()) {\n                  return;\n                }\n\n                this._stopPing();\n\n                this._startPing();\n              }\n            }, {\n              key: \"_getLastSeq\",\n              value: function _getLastSeq(channel) {\n                var lastSeq = this._lastSeq[channel];\n\n                if (lastSeq) {\n                  return lastSeq;\n                }\n\n                return 0;\n              }\n            }, {\n              key: \"_getLastOffset\",\n              value: function _getLastOffset(channel) {\n                var lastOffset = this._lastOffset[channel];\n\n                if (lastOffset) {\n                  return lastOffset;\n                }\n\n                return 0;\n              }\n            }, {\n              key: \"_getLastGen\",\n              value: function _getLastGen(channel) {\n                var lastGen = this._lastGen[channel];\n\n                if (lastGen) {\n                  return lastGen;\n                }\n\n                return 0;\n              }\n            }, {\n              key: \"_getLastEpoch\",\n              value: function _getLastEpoch(channel) {\n                var lastEpoch = this._lastEpoch[channel];\n\n                if (lastEpoch) {\n                  return lastEpoch;\n                }\n\n                return '';\n              }\n            }, {\n              key: \"_createErrorObject\",\n              value: function _createErrorObject(message, code) {\n                var errObject = {\n                  message: message,\n                  code: code || 0\n                };\n                return errObject;\n              }\n            }, {\n              key: \"_registerCall\",\n              value: function _registerCall(id, callback, errback) {\n                var _this19 = this;\n\n                this._callbacks[id] = {\n                  callback: callback,\n                  errback: errback,\n                  timeout: null\n                };\n                this._callbacks[id].timeout = setTimeout(function () {\n                  delete _this19._callbacks[id];\n\n                  if ((0, _utils.isFunction)(errback)) {\n                    errback({\n                      error: _this19._createErrorObject(_errorTimeout)\n                    });\n                  }\n                }, this._config.timeout);\n              }\n            }, {\n              key: \"_addMessage\",\n              value: function _addMessage(message) {\n                var id = this._nextMessageId();\n\n                message.id = id;\n\n                if (this._isBatching === true) {\n                  this._messages.push(message);\n                } else {\n                  this._transportSend([message]);\n                }\n\n                return id;\n              }\n            }, {\n              key: \"isConnected\",\n              value: function isConnected() {\n                return this._isConnected();\n              }\n            }, {\n              key: \"connect\",\n              value: function connect() {\n                this._connect();\n              }\n            }, {\n              key: \"disconnect\",\n              value: function disconnect() {\n                this._disconnect('client', false);\n              }\n            }, {\n              key: \"ping\",\n              value: function ping() {\n                return this._ping();\n              }\n            }, {\n              key: \"startBatching\",\n              value: function startBatching() {\n                // start collecting messages without sending them to Centrifuge until flush\n                // method called\n                this._isBatching = true;\n              }\n            }, {\n              key: \"stopBatching\",\n              value: function stopBatching() {\n                this._isBatching = false;\n\n                this._flush();\n              }\n            }, {\n              key: \"startSubscribeBatching\",\n              value: function startSubscribeBatching() {\n                // start collecting private channels to create bulk authentication\n                // request to subscribeEndpoint when stopSubscribeBatching will be called\n                this._isSubscribeBatching = true;\n              }\n            }, {\n              key: \"stopSubscribeBatching\",\n              value: function stopSubscribeBatching() {\n                var _this20 = this; // create request to subscribeEndpoint with collected private channels\n                // to ask if this client can subscribe on each channel\n\n\n                this._isSubscribeBatching = false;\n                var authChannels = this._privateChannels;\n                this._privateChannels = {};\n                var channels = [];\n\n                for (var channel in authChannels) {\n                  if (authChannels.hasOwnProperty(channel)) {\n                    var sub = this._getSub(channel);\n\n                    if (!sub) {\n                      continue;\n                    }\n\n                    channels.push(channel);\n                  }\n                }\n\n                if (channels.length === 0) {\n                  this._debug('no private channels found, no need to make request');\n\n                  return;\n                }\n\n                var data = {\n                  client: this._clientID,\n                  channels: channels\n                };\n                var clientID = this._clientID;\n\n                var xhrID = this._newXHRID();\n\n                var cb = function cb(resp) {\n                  if (xhrID in _this20._xhrs) {\n                    delete _this20._xhrs[xhrID];\n                  }\n\n                  if (_this20._clientID !== clientID) {\n                    return;\n                  }\n\n                  if (resp.error || resp.status !== 200) {\n                    _this20._debug('authorization request failed');\n\n                    for (var i in channels) {\n                      if (channels.hasOwnProperty(i)) {\n                        var _channel3 = channels[i];\n\n                        _this20._subscribeError(_channel3, _this20._createErrorObject('authorization request failed'));\n                      }\n                    }\n\n                    return;\n                  }\n\n                  var channelsData = {};\n\n                  if (resp.data.channels) {\n                    for (var _i in resp.data.channels) {\n                      var channelData = resp.data.channels[_i];\n\n                      if (!channelData.channel) {\n                        continue;\n                      }\n\n                      channelsData[channelData.channel] = channelData.token;\n                    }\n                  } // try to send all subscriptions in one request.\n\n\n                  var batch = false;\n\n                  if (!_this20._isBatching) {\n                    _this20.startBatching();\n\n                    batch = true;\n                  }\n\n                  for (var _i2 in channels) {\n                    if (channels.hasOwnProperty(_i2)) {\n                      var _ret = function () {\n                        var channel = channels[_i2];\n                        var token = channelsData[channel];\n\n                        if (!token) {\n                          // subscription:error\n                          _this20._subscribeError(channel, _this20._createErrorObject('permission denied', 103));\n\n                          return \"continue\";\n                        } else {\n                          var msg = {\n                            method: _this20._methodType.SUBSCRIBE,\n                            params: {\n                              channel: channel,\n                              token: token\n                            }\n                          };\n\n                          var _sub2 = _this20._getSub(channel);\n\n                          if (_sub2 === null) {\n                            return \"continue\";\n                          }\n\n                          var recover = _sub2._needRecover();\n\n                          if (recover === true) {\n                            msg.params.recover = true;\n\n                            var seq = _this20._getLastSeq(channel);\n\n                            var gen = _this20._getLastGen(channel);\n\n                            if (seq || gen) {\n                              if (seq) {\n                                msg.params.seq = seq;\n                              }\n\n                              if (gen) {\n                                msg.params.gen = gen;\n                              }\n                            } else {\n                              var offset = _this20._getLastOffset(channel);\n\n                              if (offset) {\n                                msg.params.offset = offset;\n                              }\n                            }\n\n                            var epoch = _this20._getLastEpoch(channel);\n\n                            if (epoch) {\n                              msg.params.epoch = epoch;\n                            }\n                          }\n\n                          _this20._call(msg).then(function (resolveCtx) {\n                            _this20._subscribeResponse(channel, recover, _this20._decoder.decodeCommandResult(_this20._methodType.SUBSCRIBE, resolveCtx.result));\n\n                            if (resolveCtx.next) {\n                              resolveCtx.next();\n                            }\n                          }, function (rejectCtx) {\n                            _this20._subscribeError(channel, rejectCtx.error);\n\n                            if (rejectCtx.next) {\n                              rejectCtx.next();\n                            }\n                          });\n                        }\n                      }();\n\n                      if (_ret === \"continue\") continue;\n                    }\n                  }\n\n                  if (batch) {\n                    _this20.stopBatching();\n                  }\n                };\n\n                if (this._config.onPrivateSubscribe !== null) {\n                  this._config.onPrivateSubscribe({\n                    data: data\n                  }, cb);\n                } else {\n                  var xhr = this._ajax(this._config.subscribeEndpoint, this._config.subscribeParams, this._config.subscribeHeaders, data, cb);\n\n                  this._xhrs[xhrID] = xhr;\n                }\n              }\n            }, {\n              key: \"_setSubscribeSince\",\n              value: function _setSubscribeSince(sub, since) {\n                this._lastOffset[sub.channel] = since.offset;\n                this._lastEpoch[sub.channel] = since.epoch;\n\n                sub._setNeedRecover(true);\n              }\n            }, {\n              key: \"subscribe\",\n              value: function subscribe(channel, events, opts) {\n                var currentSub = this._getSub(channel);\n\n                if (currentSub !== null) {\n                  currentSub._setEvents(events);\n\n                  if (currentSub._isUnsubscribed()) {\n                    currentSub.subscribe(opts);\n                  }\n\n                  return currentSub;\n                }\n\n                var sub = new _subscription[\"default\"](this, channel, events);\n                this._subs[channel] = sub;\n                sub.subscribe(opts);\n                return sub;\n              }\n            }]);\n\n            return Centrifuge;\n          }(_events[\"default\"]);\n\n          exports.Centrifuge = Centrifuge;\n          /***/\n        },\n\n        /***/\n        579:\n        /***/\n        function (module, exports, __webpack_require__) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports[\"default\"] = void 0;\n\n          var _centrifuge = __webpack_require__(382);\n\n          var _default = _centrifuge.Centrifuge;\n          exports[\"default\"] = _default;\n          module.exports = exports[\"default\"];\n          /***/\n        },\n\n        /***/\n        147:\n        /***/\n        function (__unused_webpack_module, exports) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.JsonPushType = exports.JsonMethodType = exports.JsonEncoder = exports.JsonDecoder = void 0;\n\n          function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n              throw new TypeError(\"Cannot call a class as a function\");\n            }\n          }\n\n          function _defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          function _createClass(Constructor, protoProps, staticProps) {\n            if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) _defineProperties(Constructor, staticProps);\n            return Constructor;\n          }\n\n          var JsonMethodType = {\n            CONNECT: 0,\n            SUBSCRIBE: 1,\n            UNSUBSCRIBE: 2,\n            PUBLISH: 3,\n            PRESENCE: 4,\n            PRESENCE_STATS: 5,\n            HISTORY: 6,\n            PING: 7,\n            SEND: 8,\n            RPC: 9,\n            REFRESH: 10,\n            SUB_REFRESH: 11\n          };\n          exports.JsonMethodType = JsonMethodType;\n          var JsonPushType = {\n            PUBLICATION: 0,\n            JOIN: 1,\n            LEAVE: 2,\n            UNSUBSCRIBE: 3,\n            MESSAGE: 4,\n            SUBSCRIBE: 5\n          };\n          exports.JsonPushType = JsonPushType;\n\n          var JsonEncoder = /*#__PURE__*/function () {\n            function JsonEncoder() {\n              _classCallCheck(this, JsonEncoder);\n            }\n\n            _createClass(JsonEncoder, [{\n              key: \"encodeCommands\",\n              value: function encodeCommands(commands) {\n                return commands.map(function (c) {\n                  return JSON.stringify(c);\n                }).join('\\n');\n              }\n            }]);\n\n            return JsonEncoder;\n          }();\n\n          exports.JsonEncoder = JsonEncoder;\n\n          var JsonDecoder = /*#__PURE__*/function () {\n            function JsonDecoder() {\n              _classCallCheck(this, JsonDecoder);\n            }\n\n            _createClass(JsonDecoder, [{\n              key: \"decodeReplies\",\n              value: function decodeReplies(data) {\n                return data.split('\\n').filter(function (r) {\n                  return r !== '';\n                }).map(function (r) {\n                  return JSON.parse(r);\n                });\n              }\n            }, {\n              key: \"decodeCommandResult\",\n              value: function decodeCommandResult(methodType, data) {\n                return data;\n              }\n            }, {\n              key: \"decodePush\",\n              value: function decodePush(data) {\n                return data;\n              }\n            }, {\n              key: \"decodePushData\",\n              value: function decodePushData(pushType, data) {\n                return data;\n              }\n            }]);\n\n            return JsonDecoder;\n          }();\n\n          exports.JsonDecoder = JsonDecoder;\n          /***/\n        },\n\n        /***/\n        471:\n        /***/\n        function (module, exports, __webpack_require__) {\n          function _typeof(obj) {\n            \"@babel/helpers - typeof\";\n\n            if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n              _typeof = function _typeof(obj) {\n                return typeof obj;\n              };\n            } else {\n              _typeof = function _typeof(obj) {\n                return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n              };\n            }\n\n            return _typeof(obj);\n          }\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports[\"default\"] = void 0;\n\n          var _events = _interopRequireDefault(__webpack_require__(187));\n\n          var _utils = __webpack_require__(853);\n\n          function _interopRequireDefault(obj) {\n            return obj && obj.__esModule ? obj : {\n              \"default\": obj\n            };\n          }\n\n          function _classCallCheck(instance, Constructor) {\n            if (!(instance instanceof Constructor)) {\n              throw new TypeError(\"Cannot call a class as a function\");\n            }\n          }\n\n          function _defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          function _createClass(Constructor, protoProps, staticProps) {\n            if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) _defineProperties(Constructor, staticProps);\n            return Constructor;\n          }\n\n          function _inherits(subClass, superClass) {\n            if (typeof superClass !== \"function\" && superClass !== null) {\n              throw new TypeError(\"Super expression must either be null or a function\");\n            }\n\n            subClass.prototype = Object.create(superClass && superClass.prototype, {\n              constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true\n              }\n            });\n            if (superClass) _setPrototypeOf(subClass, superClass);\n          }\n\n          function _setPrototypeOf(o, p) {\n            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n              o.__proto__ = p;\n              return o;\n            };\n\n            return _setPrototypeOf(o, p);\n          }\n\n          function _createSuper(Derived) {\n            var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n            return function _createSuperInternal() {\n              var Super = _getPrototypeOf(Derived),\n                  result;\n\n              if (hasNativeReflectConstruct) {\n                var NewTarget = _getPrototypeOf(this).constructor;\n\n                result = Reflect.construct(Super, arguments, NewTarget);\n              } else {\n                result = Super.apply(this, arguments);\n              }\n\n              return _possibleConstructorReturn(this, result);\n            };\n          }\n\n          function _possibleConstructorReturn(self, call) {\n            if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n              return call;\n            } else if (call !== void 0) {\n              throw new TypeError(\"Derived constructors may only return object or undefined\");\n            }\n\n            return _assertThisInitialized(self);\n          }\n\n          function _assertThisInitialized(self) {\n            if (self === void 0) {\n              throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            }\n\n            return self;\n          }\n\n          function _isNativeReflectConstruct() {\n            if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n            if (Reflect.construct.sham) return false;\n            if (typeof Proxy === \"function\") return true;\n\n            try {\n              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n              return true;\n            } catch (e) {\n              return false;\n            }\n          }\n\n          function _getPrototypeOf(o) {\n            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o);\n            };\n            return _getPrototypeOf(o);\n          }\n\n          var _STATE_NEW = 0;\n          var _STATE_SUBSCRIBING = 1;\n          var _STATE_SUCCESS = 2;\n          var _STATE_ERROR = 3;\n          var _STATE_UNSUBSCRIBED = 4;\n\n          var Subscription = /*#__PURE__*/function (_EventEmitter) {\n            _inherits(Subscription, _EventEmitter);\n\n            var _super = _createSuper(Subscription);\n\n            function Subscription(centrifuge, channel, events) {\n              var _this;\n\n              _classCallCheck(this, Subscription);\n\n              _this = _super.call(this);\n              _this.channel = channel;\n              _this._centrifuge = centrifuge;\n              _this._status = _STATE_NEW;\n              _this._error = null;\n              _this._isResubscribe = false;\n              _this._ready = false;\n              _this._subscriptionPromise = null;\n              _this._noResubscribe = false;\n              _this._recoverable = false;\n              _this._recover = false;\n\n              _this._setEvents(events);\n\n              _this._initializePromise();\n\n              _this._promises = {};\n              _this._promiseId = 0;\n              _this._subscribeData = null;\n\n              _this.on('error', function (errContext) {\n                this._centrifuge._debug('subscription error', errContext);\n              });\n\n              return _this;\n            }\n\n            _createClass(Subscription, [{\n              key: \"_nextPromiseId\",\n              value: function _nextPromiseId() {\n                return ++this._promiseId;\n              }\n            }, {\n              key: \"_initializePromise\",\n              value: function _initializePromise() {\n                var _this2 = this; // this helps us to wait until subscription will successfully\n                // subscribe and call actions such as presence, history etc in\n                // synchronous way.\n\n\n                this._ready = false;\n                this._subscriptionPromise = new Promise(function (resolve, reject) {\n                  _this2._resolve = function (value) {\n                    _this2._ready = true;\n                    resolve(value);\n                  };\n\n                  _this2._reject = function (err) {\n                    _this2._ready = true;\n                    reject(err);\n                  };\n                }).then(function () {}, function () {});\n              }\n            }, {\n              key: \"_setNeedRecover\",\n              value: function _setNeedRecover(enabled) {\n                this._recoverable = enabled;\n                this._recover = enabled;\n              }\n            }, {\n              key: \"_needRecover\",\n              value: function _needRecover() {\n                return this._recoverable === true && this._recover === true;\n              }\n            }, {\n              key: \"_setEvents\",\n              value: function _setEvents(events) {\n                if (!events) {\n                  return;\n                }\n\n                if ((0, _utils.isFunction)(events)) {\n                  // events is just a function to handle publication received from channel.\n                  this.on('publish', events);\n                } else if (Object.prototype.toString.call(events) === Object.prototype.toString.call({})) {\n                  var knownEvents = ['publish', 'join', 'leave', 'unsubscribe', 'subscribe', 'error'];\n\n                  for (var i = 0, l = knownEvents.length; i < l; i++) {\n                    var ev = knownEvents[i];\n\n                    if (ev in events) {\n                      this.on(ev, events[ev]);\n                    }\n                  }\n                }\n              }\n            }, {\n              key: \"_isNew\",\n              value: function _isNew() {\n                return this._status === _STATE_NEW;\n              }\n            }, {\n              key: \"_isUnsubscribed\",\n              value: function _isUnsubscribed() {\n                return this._status === _STATE_UNSUBSCRIBED;\n              }\n            }, {\n              key: \"_isSubscribing\",\n              value: function _isSubscribing() {\n                return this._status === _STATE_SUBSCRIBING;\n              }\n            }, {\n              key: \"_isReady\",\n              value: function _isReady() {\n                return this._status === _STATE_SUCCESS || this._status === _STATE_ERROR;\n              }\n            }, {\n              key: \"_isSuccess\",\n              value: function _isSuccess() {\n                return this._status === _STATE_SUCCESS;\n              }\n            }, {\n              key: \"_isError\",\n              value: function _isError() {\n                return this._status === _STATE_ERROR;\n              }\n            }, {\n              key: \"_setNew\",\n              value: function _setNew() {\n                this._status = _STATE_NEW;\n              }\n            }, {\n              key: \"_setSubscribing\",\n              value: function _setSubscribing(isResubscribe) {\n                this._isResubscribe = isResubscribe || false;\n\n                if (this._ready === true) {\n                  // new promise for this subscription\n                  this._initializePromise();\n                }\n\n                this._status = _STATE_SUBSCRIBING;\n              }\n            }, {\n              key: \"_setSubscribeSuccess\",\n              value: function _setSubscribeSuccess(subscribeResult) {\n                if (this._status === _STATE_SUCCESS) {\n                  return;\n                }\n\n                this._status = _STATE_SUCCESS;\n\n                var successContext = this._getSubscribeSuccessContext(subscribeResult);\n\n                this._recover = false;\n                this.emit('subscribe', successContext);\n\n                this._resolve(successContext);\n\n                for (var id in this._promises) {\n                  clearTimeout(this._promises[id].timeout);\n\n                  this._promises[id].resolve();\n\n                  delete this._promises[id];\n                }\n              }\n            }, {\n              key: \"_setSubscribeError\",\n              value: function _setSubscribeError(err) {\n                if (this._status === _STATE_ERROR) {\n                  return;\n                }\n\n                this._status = _STATE_ERROR;\n                this._error = err;\n\n                var errContext = this._getSubscribeErrorContext();\n\n                this.emit('error', errContext);\n\n                this._reject(errContext);\n\n                for (var id in this._promises) {\n                  clearTimeout(this._promises[id].timeout);\n\n                  this._promises[id].reject(err);\n\n                  delete this._promises[id];\n                }\n              }\n            }, {\n              key: \"_triggerUnsubscribe\",\n              value: function _triggerUnsubscribe() {\n                this.emit('unsubscribe', {\n                  channel: this.channel\n                });\n              }\n            }, {\n              key: \"_setUnsubscribed\",\n              value: function _setUnsubscribed(noResubscribe) {\n                this._centrifuge._clearSubRefreshTimeout(this.channel);\n\n                if (this._status === _STATE_UNSUBSCRIBED) {\n                  return;\n                }\n\n                var needTrigger = this._status === _STATE_SUCCESS;\n                this._status = _STATE_UNSUBSCRIBED;\n\n                if (noResubscribe === true) {\n                  this._recover = false;\n                  this._noResubscribe = true;\n                  delete this._centrifuge._lastSeq[this.channel];\n                  delete this._centrifuge._lastGen[this.channel];\n                  delete this._centrifuge._lastEpoch[this.channel];\n                }\n\n                if (needTrigger) {\n                  this._triggerUnsubscribe();\n                }\n              }\n            }, {\n              key: \"_shouldResubscribe\",\n              value: function _shouldResubscribe() {\n                return !this._noResubscribe;\n              }\n            }, {\n              key: \"_getSubscribeSuccessContext\",\n              value: function _getSubscribeSuccessContext(subscribeResult) {\n                var ctx = {\n                  channel: this.channel,\n                  isResubscribe: this._isResubscribe\n                };\n\n                if (subscribeResult) {\n                  // subscribeResult not available when called from Subscription.ready method at the moment.\n                  ctx = this._centrifuge._expandSubscribeContext(ctx, subscribeResult);\n                }\n\n                return ctx;\n              }\n            }, {\n              key: \"_getSubscribeErrorContext\",\n              value: function _getSubscribeErrorContext() {\n                var subscribeErrorContext = this._error;\n                subscribeErrorContext.channel = this.channel;\n                subscribeErrorContext.isResubscribe = this._isResubscribe;\n                return subscribeErrorContext;\n              }\n            }, {\n              key: \"_setSubscribeData\",\n              value: function _setSubscribeData(data) {\n                this._subscribeData = data;\n              }\n            }, {\n              key: \"ready\",\n              value: function ready(callback, errback) {\n                if (this._ready) {\n                  if (this._isSuccess()) {\n                    callback(this._getSubscribeSuccessContext());\n                  } else {\n                    errback(this._getSubscribeErrorContext());\n                  }\n                }\n              }\n            }, {\n              key: \"subscribe\",\n              value: function subscribe(opts) {\n                if (this._status === _STATE_SUCCESS) {\n                  return;\n                }\n\n                if (opts && opts.since) {\n                  this._centrifuge._setSubscribeSince(this, opts.since);\n                }\n\n                if (opts && opts.data) {\n                  this._setSubscribeData(opts.data);\n                }\n\n                this._noResubscribe = false;\n\n                this._centrifuge._subscribe(this);\n              }\n            }, {\n              key: \"unsubscribe\",\n              value: function unsubscribe() {\n                this._setUnsubscribed(true);\n\n                this._centrifuge._unsubscribe(this);\n              }\n            }, {\n              key: \"_methodCall\",\n              value: function _methodCall() {\n                var _this3 = this;\n\n                if (this._isSuccess()) {\n                  return Promise.resolve();\n                } else if (this._isError()) {\n                  return Promise.reject(this._error);\n                }\n\n                var subPromise = new Promise(function (res, rej) {\n                  var timeout = setTimeout(function () {\n                    rej({\n                      'code': 0,\n                      'message': 'timeout'\n                    });\n                  }, _this3._centrifuge._config.timeout);\n                  _this3._promises[_this3._nextPromiseId()] = {\n                    timeout: timeout,\n                    resolve: res,\n                    reject: rej\n                  };\n                });\n                return subPromise;\n              }\n            }, {\n              key: \"publish\",\n              value: function publish(data) {\n                var self = this;\n                return this._methodCall().then(function () {\n                  return self._centrifuge.publish(self.channel, data);\n                });\n              }\n            }, {\n              key: \"presence\",\n              value: function presence() {\n                var self = this;\n                return this._methodCall().then(function () {\n                  return self._centrifuge.presence(self.channel);\n                });\n              }\n            }, {\n              key: \"presenceStats\",\n              value: function presenceStats() {\n                var self = this;\n                return this._methodCall().then(function () {\n                  return self._centrifuge.presenceStats(self.channel);\n                });\n              }\n            }, {\n              key: \"history\",\n              value: function history(options) {\n                var self = this;\n                return this._methodCall().then(function () {\n                  return self._centrifuge.history(self.channel, options);\n                });\n              }\n            }]);\n\n            return Subscription;\n          }(_events[\"default\"]);\n\n          exports[\"default\"] = Subscription;\n          module.exports = exports[\"default\"];\n          /***/\n        },\n\n        /***/\n        853:\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.backoff = backoff;\n          exports.errorExists = errorExists;\n          exports.extend = extend;\n          exports.isFunction = isFunction;\n          exports.log = log;\n          exports.startsWith = startsWith;\n\n          function startsWith(value, prefix) {\n            return value.lastIndexOf(prefix, 0) === 0;\n          }\n\n          ;\n\n          function isFunction(value) {\n            if (value === undefined || value === null) {\n              return false;\n            }\n\n            return typeof value === 'function';\n          }\n\n          ;\n\n          function log(level, args) {\n            if (__webpack_require__.g.console) {\n              var logger = __webpack_require__.g.console[level];\n\n              if (isFunction(logger)) {\n                logger.apply(__webpack_require__.g.console, args);\n              }\n            }\n          }\n\n          ;\n\n          function backoff(step, min, max) {\n            var jitter = 0.5 * Math.random();\n            var interval = Math.min(max, min * Math.pow(2, step + 1));\n            return Math.floor((1 - jitter) * interval);\n          }\n\n          ;\n\n          function errorExists(data) {\n            return 'error' in data && data.error !== null;\n          }\n\n          ;\n\n          function extend(a, b) {\n            for (var key in b) {\n              if (b.hasOwnProperty(key)) {\n                a[key] = b[key];\n              }\n            }\n\n            return a;\n          }\n\n          ;\n          /***/\n        },\n\n        /***/\n        187:\n        /***/\n        function (module) {\n          // Copyright Joyent, Inc. and other Node contributors.\n          //\n          // Permission is hereby granted, free of charge, to any person obtaining a\n          // copy of this software and associated documentation files (the\n          // \"Software\"), to deal in the Software without restriction, including\n          // without limitation the rights to use, copy, modify, merge, publish,\n          // distribute, sublicense, and/or sell copies of the Software, and to permit\n          // persons to whom the Software is furnished to do so, subject to the\n          // following conditions:\n          //\n          // The above copyright notice and this permission notice shall be included\n          // in all copies or substantial portions of the Software.\n          //\n          // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n          // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n          // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n          // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n          // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n          // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n          // USE OR OTHER DEALINGS IN THE SOFTWARE.\n          var R = typeof Reflect === 'object' ? Reflect : null;\n          var ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n            return Function.prototype.apply.call(target, receiver, args);\n          };\n          var ReflectOwnKeys;\n\n          if (R && typeof R.ownKeys === 'function') {\n            ReflectOwnKeys = R.ownKeys;\n          } else if (Object.getOwnPropertySymbols) {\n            ReflectOwnKeys = function ReflectOwnKeys(target) {\n              return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n            };\n          } else {\n            ReflectOwnKeys = function ReflectOwnKeys(target) {\n              return Object.getOwnPropertyNames(target);\n            };\n          }\n\n          function ProcessEmitWarning(warning) {\n            if (console && console.warn) console.warn(warning);\n          }\n\n          var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n            return value !== value;\n          };\n\n          function EventEmitter() {\n            EventEmitter.init.call(this);\n          }\n\n          module.exports = EventEmitter;\n          module.exports.once = once; // Backwards-compat with node 0.10.x\n\n          EventEmitter.EventEmitter = EventEmitter;\n          EventEmitter.prototype._events = undefined;\n          EventEmitter.prototype._eventsCount = 0;\n          EventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n          // added to it. This is a useful default which helps finding memory leaks.\n\n          var defaultMaxListeners = 10;\n\n          function checkListener(listener) {\n            if (typeof listener !== 'function') {\n              throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n            }\n          }\n\n          Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n            enumerable: true,\n            get: function () {\n              return defaultMaxListeners;\n            },\n            set: function (arg) {\n              if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n                throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n              }\n\n              defaultMaxListeners = arg;\n            }\n          });\n\n          EventEmitter.init = function () {\n            if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n              this._events = Object.create(null);\n              this._eventsCount = 0;\n            }\n\n            this._maxListeners = this._maxListeners || undefined;\n          }; // Obviously not all Emitters should be limited to 10. This function allows\n          // that to be increased. Set to zero for unlimited.\n\n\n          EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n            if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n              throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n            }\n\n            this._maxListeners = n;\n            return this;\n          };\n\n          function _getMaxListeners(that) {\n            if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n            return that._maxListeners;\n          }\n\n          EventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n            return _getMaxListeners(this);\n          };\n\n          EventEmitter.prototype.emit = function emit(type) {\n            var args = [];\n\n            for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n\n            var doError = type === 'error';\n            var events = this._events;\n            if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n            if (doError) {\n              var er;\n              if (args.length > 0) er = args[0];\n\n              if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n              } // At least give some kind of context to the user\n\n\n              var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n              err.context = er;\n              throw err; // Unhandled 'error' event\n            }\n\n            var handler = events[type];\n            if (handler === undefined) return false;\n\n            if (typeof handler === 'function') {\n              ReflectApply(handler, this, args);\n            } else {\n              var len = handler.length;\n              var listeners = arrayClone(handler, len);\n\n              for (var i = 0; i < len; ++i) ReflectApply(listeners[i], this, args);\n            }\n\n            return true;\n          };\n\n          function _addListener(target, type, listener, prepend) {\n            var m;\n            var events;\n            var existing;\n            checkListener(listener);\n            events = target._events;\n\n            if (events === undefined) {\n              events = target._events = Object.create(null);\n              target._eventsCount = 0;\n            } else {\n              // To avoid recursion in the case that type === \"newListener\"! Before\n              // adding it to the listeners, first emit \"newListener\".\n              if (events.newListener !== undefined) {\n                target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n                // this._events to be assigned to a new object\n\n                events = target._events;\n              }\n\n              existing = events[type];\n            }\n\n            if (existing === undefined) {\n              // Optimize the case of one listener. Don't need the extra array object.\n              existing = events[type] = listener;\n              ++target._eventsCount;\n            } else {\n              if (typeof existing === 'function') {\n                // Adding the second element, need to change to array.\n                existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n              } else if (prepend) {\n                existing.unshift(listener);\n              } else {\n                existing.push(listener);\n              } // Check for listener leak\n\n\n              m = _getMaxListeners(target);\n\n              if (m > 0 && existing.length > m && !existing.warned) {\n                existing.warned = true; // No error code for this since it is a Warning\n                // eslint-disable-next-line no-restricted-syntax\n\n                var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n                w.name = 'MaxListenersExceededWarning';\n                w.emitter = target;\n                w.type = type;\n                w.count = existing.length;\n                ProcessEmitWarning(w);\n              }\n            }\n\n            return target;\n          }\n\n          EventEmitter.prototype.addListener = function addListener(type, listener) {\n            return _addListener(this, type, listener, false);\n          };\n\n          EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n          EventEmitter.prototype.prependListener = function prependListener(type, listener) {\n            return _addListener(this, type, listener, true);\n          };\n\n          function onceWrapper() {\n            if (!this.fired) {\n              this.target.removeListener(this.type, this.wrapFn);\n              this.fired = true;\n              if (arguments.length === 0) return this.listener.call(this.target);\n              return this.listener.apply(this.target, arguments);\n            }\n          }\n\n          function _onceWrap(target, type, listener) {\n            var state = {\n              fired: false,\n              wrapFn: undefined,\n              target: target,\n              type: type,\n              listener: listener\n            };\n            var wrapped = onceWrapper.bind(state);\n            wrapped.listener = listener;\n            state.wrapFn = wrapped;\n            return wrapped;\n          }\n\n          EventEmitter.prototype.once = function once(type, listener) {\n            checkListener(listener);\n            this.on(type, _onceWrap(this, type, listener));\n            return this;\n          };\n\n          EventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n            checkListener(listener);\n            this.prependListener(type, _onceWrap(this, type, listener));\n            return this;\n          }; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\n          EventEmitter.prototype.removeListener = function removeListener(type, listener) {\n            var list, events, position, i, originalListener;\n            checkListener(listener);\n            events = this._events;\n            if (events === undefined) return this;\n            list = events[type];\n            if (list === undefined) return this;\n\n            if (list === listener || list.listener === listener) {\n              if (--this._eventsCount === 0) this._events = Object.create(null);else {\n                delete events[type];\n                if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n              }\n            } else if (typeof list !== 'function') {\n              position = -1;\n\n              for (i = list.length - 1; i >= 0; i--) {\n                if (list[i] === listener || list[i].listener === listener) {\n                  originalListener = list[i].listener;\n                  position = i;\n                  break;\n                }\n              }\n\n              if (position < 0) return this;\n              if (position === 0) list.shift();else {\n                spliceOne(list, position);\n              }\n              if (list.length === 1) events[type] = list[0];\n              if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n            }\n\n            return this;\n          };\n\n          EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\n          EventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n            var listeners, events, i;\n            events = this._events;\n            if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n            if (events.removeListener === undefined) {\n              if (arguments.length === 0) {\n                this._events = Object.create(null);\n                this._eventsCount = 0;\n              } else if (events[type] !== undefined) {\n                if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n              }\n\n              return this;\n            } // emit removeListener for all listeners on all events\n\n\n            if (arguments.length === 0) {\n              var keys = Object.keys(events);\n              var key;\n\n              for (i = 0; i < keys.length; ++i) {\n                key = keys[i];\n                if (key === 'removeListener') continue;\n                this.removeAllListeners(key);\n              }\n\n              this.removeAllListeners('removeListener');\n              this._events = Object.create(null);\n              this._eventsCount = 0;\n              return this;\n            }\n\n            listeners = events[type];\n\n            if (typeof listeners === 'function') {\n              this.removeListener(type, listeners);\n            } else if (listeners !== undefined) {\n              // LIFO order\n              for (i = listeners.length - 1; i >= 0; i--) {\n                this.removeListener(type, listeners[i]);\n              }\n            }\n\n            return this;\n          };\n\n          function _listeners(target, type, unwrap) {\n            var events = target._events;\n            if (events === undefined) return [];\n            var evlistener = events[type];\n            if (evlistener === undefined) return [];\n            if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n            return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n          }\n\n          EventEmitter.prototype.listeners = function listeners(type) {\n            return _listeners(this, type, true);\n          };\n\n          EventEmitter.prototype.rawListeners = function rawListeners(type) {\n            return _listeners(this, type, false);\n          };\n\n          EventEmitter.listenerCount = function (emitter, type) {\n            if (typeof emitter.listenerCount === 'function') {\n              return emitter.listenerCount(type);\n            } else {\n              return listenerCount.call(emitter, type);\n            }\n          };\n\n          EventEmitter.prototype.listenerCount = listenerCount;\n\n          function listenerCount(type) {\n            var events = this._events;\n\n            if (events !== undefined) {\n              var evlistener = events[type];\n\n              if (typeof evlistener === 'function') {\n                return 1;\n              } else if (evlistener !== undefined) {\n                return evlistener.length;\n              }\n            }\n\n            return 0;\n          }\n\n          EventEmitter.prototype.eventNames = function eventNames() {\n            return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n          };\n\n          function arrayClone(arr, n) {\n            var copy = new Array(n);\n\n            for (var i = 0; i < n; ++i) copy[i] = arr[i];\n\n            return copy;\n          }\n\n          function spliceOne(list, index) {\n            for (; index + 1 < list.length; index++) list[index] = list[index + 1];\n\n            list.pop();\n          }\n\n          function unwrapListeners(arr) {\n            var ret = new Array(arr.length);\n\n            for (var i = 0; i < ret.length; ++i) {\n              ret[i] = arr[i].listener || arr[i];\n            }\n\n            return ret;\n          }\n\n          function once(emitter, name) {\n            return new Promise(function (resolve, reject) {\n              function errorListener(err) {\n                emitter.removeListener(name, resolver);\n                reject(err);\n              }\n\n              function resolver() {\n                if (typeof emitter.removeListener === 'function') {\n                  emitter.removeListener('error', errorListener);\n                }\n\n                resolve([].slice.call(arguments));\n              }\n\n              ;\n              eventTargetAgnosticAddListener(emitter, name, resolver, {\n                once: true\n              });\n\n              if (name !== 'error') {\n                addErrorHandlerIfEventEmitter(emitter, errorListener, {\n                  once: true\n                });\n              }\n            });\n          }\n\n          function addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n            if (typeof emitter.on === 'function') {\n              eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n            }\n          }\n\n          function eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n            if (typeof emitter.on === 'function') {\n              if (flags.once) {\n                emitter.once(name, listener);\n              } else {\n                emitter.on(name, listener);\n              }\n            } else if (typeof emitter.addEventListener === 'function') {\n              // EventTarget does not have `error` event semantics like Node\n              // EventEmitters, we do not listen for `error` events here.\n              emitter.addEventListener(name, function wrapListener(arg) {\n                // IE does not have builtin `{ once: true }` support so we\n                // have to do it manually.\n                if (flags.once) {\n                  emitter.removeEventListener(name, wrapListener);\n                }\n\n                listener(arg);\n              });\n            } else {\n              throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n            }\n          }\n          /***/\n\n        }\n        /******/\n\n      };\n      /************************************************************************/\n\n      /******/\n      // The module cache\n\n      /******/\n\n      var __webpack_module_cache__ = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n        // Check if module is in cache\n\n        /******/\n        var cachedModule = __webpack_module_cache__[moduleId];\n        /******/\n\n        if (cachedModule !== undefined) {\n          /******/\n          return cachedModule.exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = __webpack_module_cache__[moduleId] = {\n          /******/\n          // no module.id needed\n\n          /******/\n          // no module.loaded needed\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /************************************************************************/\n\n      /******/\n\n      /* webpack/runtime/global */\n\n      /******/\n\n\n      !function () {\n        /******/\n        __webpack_require__.g = function () {\n          /******/\n          if (typeof globalThis === 'object') return globalThis;\n          /******/\n\n          try {\n            /******/\n            return this || new Function('return this')();\n            /******/\n          } catch (e) {\n            /******/\n            if (typeof window === 'object') return window;\n            /******/\n          }\n          /******/\n\n        }();\n        /******/\n\n      }();\n      /******/\n\n      /************************************************************************/\n\n      /******/\n\n      /******/\n      // startup\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n      // This entry module is referenced by other modules so it can't be inlined\n\n      /******/\n\n      var __webpack_exports__ = __webpack_require__(579);\n      /******/\n\n      /******/\n\n\n      return __webpack_exports__;\n      /******/\n    }()\n  );\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","__webpack_modules__","__unused_webpack_module","__webpack_require__","Object","defineProperty","value","Centrifuge","_events","_interopRequireDefault","_subscription","_json","_utils","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_errorTimeout","_errorConnectionClosed","_EventEmitter","_super","url","options","_this","_url","_websocket","_sockjs","_isSockjs","_xmlhttprequest","_binary","_methodType","_pushType","_encoder","_decoder","_status","_reconnect","_reconnecting","_transport","_transportName","_transportClosed","_messageId","_clientID","_refreshRequired","_subs","_serverSubs","_lastSeq","_lastGen","_lastOffset","_lastEpoch","_messages","_isBatching","_isSubscribeBatching","_privateChannels","_numRefreshFailed","_refreshTimeout","_pingTimeout","_pongTimeout","_subRefreshTimeouts","_retries","_callbacks","_latency","_latencyStart","_connectData","_token","_xhrID","_xhrs","_dispatchPromise","Promise","resolve","_protocol","_config","protocol","debug","name","version","websocket","sockjs","xmlhttprequest","minRetry","maxRetry","timeout","ping","pingInterval","pongWaitTimeout","privateChannelPrefix","onTransportClose","sockjsServer","sockjsTimeout","sockjsTransports","refreshEndpoint","refreshHeaders","refreshParams","refreshData","refreshAttempts","refreshInterval","onRefreshFailed","onRefresh","subscribeEndpoint","subscribeHeaders","subscribeParams","subRefreshInterval","onPrivateSubscribe","disableWithCredentials","_configure","setToken","token","setConnectData","data","setRefreshHeaders","headers","setRefreshParams","params","setRefreshData","setSubscribeHeaders","setSubscribeParams","_ajax","callback","_this2","query","_debug","JSON","stringify","xhr","g","XMLHttpRequest","ActiveXObject","hasOwnProperty","encodeURIComponent","open","withCredentials","setRequestHeader","headerName","onreadystatechange","readyState","status","_data","parsed","parse","responseText","error","_log","setTimeout","send","log","_websocketSupported","WebSocket","_setFormat","format","_formatOverride","Error","JsonMethodType","JsonPushType","JsonEncoder","JsonDecoder","configuration","extend","isProtobufURL","startsWith","indexOf","SockJS","_setStatus","newStatus","_isDisconnected","_isConnecting","_isConnected","_nextMessageId","_resetRetry","_getRetryInterval","interval","backoff","_abortInflightXHRs","xhrID","abort","_clearConnectedState","reconnect","_stopPing","id","callbacks","clearTimeout","errback","_createErrorObject","channel","sub","_isSuccess","_triggerUnsubscribe","_recover","_shouldResubscribe","_setSubscribing","_setUnsubscribed","_channel","_clearSubRefreshTimeout","_isTransportOpen","transport","OPEN","_transportSend","commands","command","encodeCommands","_getSubProtocol","_setupTransport","_this3","sockjsOptions","transports","server","subProtocol","binaryType","onopen","onheartbeat","_restartPing","msg","subs","hasSubs","recoverable","seq","gen","offset","epoch","Date","_call","then","resolveCtx","_connectResponse","decodeCommandResult","CONNECT","next","rejectCtx","err","code","_disconnect","onerror","onclose","closeEvent","reason","needReconnect","advice","event","_refresh","_connect","onmessage","_dataReceived","rpc","_rpc","namedRPC","method","RPC","_methodCall","SEND","isConnected","reject","sent","_getHistoryParams","undefined","since","limit","reverse","resultCB","_this4","publish","PUBLISH","history","HISTORY","publications","presence","PRESENCE","presenceStats","PRESENCE_STATS","num_users","num_clients","_this5","replies","decodeReplies","finishDispatch","_dispatchSynchronized","_this6","_loop","_dispatchReply","reply","_handleReply","_handlePush","_this7","_addMessage","_registerCall","shouldReconnect","emit","close","_refreshFailed","_this8","clientID","_newXHRID","cb","resp","jitter","Math","round","random","max","REFRESH","_refreshResponse","_refreshError","context","_this9","_this10","expires","client","_getTTLMilliseconds","ttl","_subRefresh","_this11","channelsData","channels","channelData","SUB_REFRESH","_getSub","_subRefreshResponse","_subRefreshError","_this12","subRefreshTimeout","_this13","_subscribe","isResubscribe","_this14","_setNew","SUBSCRIBE","_subscribeData","startSubscribeBatching","stopSubscribeBatching","recover","_needRecover","_getLastSeq","_getLastGen","_getLastOffset","_getLastEpoch","_subscribeResponse","_subscribeError","_unsubscribe","UNSUBSCRIBE","min","getSub","_isServerSub","isRecover","_this15","wasReconnecting","getTime","startBatching","stopBatching","_startPing","ctx","latency","_processServerSubs","subCtx","_expandSubscribeContext","_channel2","_sub","recovered","pubs","_handlePublication","_this16","_isSubscribing","message","_setSubscribeError","positioned","streamPosition","_this17","_setSubscribeSuccess","_recoverable","errorExists","_handleJoin","join","info","_handleLeave","leave","_handleUnsub","unsub","unsubscribe","resubscribe","subscribe","_handleSub","pub","_handleMessage","push","decodePush","type","PUBLICATION","decodePushData","MESSAGE","JOIN","LEAVE","_flush","messages","slice","_ping","_this18","PING","_pingResponse","lastSeq","lastOffset","lastGen","lastEpoch","errObject","_this19","isFunction","connect","disconnect","_this20","authChannels","_channel3","_i","batch","_i2","_ret","_sub2","_setSubscribeSince","_setNeedRecover","events","opts","currentSub","_setEvents","_isUnsubscribed","_centrifuge","_default","map","c","split","filter","r","methodType","pushType","_STATE_NEW","_STATE_SUBSCRIBING","_STATE_SUCCESS","_STATE_ERROR","_STATE_UNSUBSCRIBED","Subscription","centrifuge","_error","_isResubscribe","_ready","_subscriptionPromise","_noResubscribe","_initializePromise","_promises","_promiseId","on","errContext","_nextPromiseId","_resolve","_reject","enabled","toString","knownEvents","l","ev","_isNew","_isReady","_isError","subscribeResult","successContext","_getSubscribeSuccessContext","_getSubscribeErrorContext","noResubscribe","needTrigger","subscribeErrorContext","_setSubscribeData","ready","subPromise","res","rej","prefix","lastIndexOf","level","args","console","logger","step","pow","floor","a","b","R","ReflectApply","receiver","Function","ReflectOwnKeys","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","ProcessEmitWarning","warning","warn","NumberIsNaN","Number","isNaN","EventEmitter","init","once","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","get","set","arg","RangeError","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","doError","er","handler","len","listeners","arrayClone","_addListener","prepend","m","existing","newListener","unshift","warned","w","String","emitter","count","addListener","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","keys","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","Array","index","pop","ret","errorListener","resolver","eventTargetAgnosticAddListener","addErrorHandlerIfEventEmitter","flags","addEventListener","wrapListener","removeEventListener","__webpack_module_cache__","moduleId","cachedModule","globalThis","window","__webpack_exports__"],"sources":["/Users/morko/Projects/orionuprising-game-emulator/node_modules/centrifuge/dist/centrifuge.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Centrifuge\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Centrifuge\"] = factory();\n\telse\n\t\troot[\"Centrifuge\"] = factory();\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 382:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.Centrifuge = void 0;\n\nvar _events = _interopRequireDefault(__webpack_require__(187));\n\nvar _subscription = _interopRequireDefault(__webpack_require__(471));\n\nvar _json = __webpack_require__(147);\n\nvar _utils = __webpack_require__(853);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _errorTimeout = 'timeout';\nvar _errorConnectionClosed = 'connection closed';\n\nvar Centrifuge = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(Centrifuge, _EventEmitter);\n\n  var _super = _createSuper(Centrifuge);\n\n  function Centrifuge(url, options) {\n    var _this;\n\n    _classCallCheck(this, Centrifuge);\n\n    _this = _super.call(this);\n    _this._url = url;\n    _this._websocket = null;\n    _this._sockjs = null;\n    _this._isSockjs = false;\n    _this._xmlhttprequest = null;\n    _this._binary = false;\n    _this._methodType = null;\n    _this._pushType = null;\n    _this._encoder = null;\n    _this._decoder = null;\n    _this._status = 'disconnected';\n    _this._reconnect = true;\n    _this._reconnecting = false;\n    _this._transport = null;\n    _this._transportName = null;\n    _this._transportClosed = true;\n    _this._messageId = 0;\n    _this._clientID = null;\n    _this._refreshRequired = false;\n    _this._subs = {};\n    _this._serverSubs = {};\n    _this._lastSeq = {};\n    _this._lastGen = {};\n    _this._lastOffset = {};\n    _this._lastEpoch = {};\n    _this._messages = [];\n    _this._isBatching = false;\n    _this._isSubscribeBatching = false;\n    _this._privateChannels = {};\n    _this._numRefreshFailed = 0;\n    _this._refreshTimeout = null;\n    _this._pingTimeout = null;\n    _this._pongTimeout = null;\n    _this._subRefreshTimeouts = {};\n    _this._retries = 0;\n    _this._callbacks = {};\n    _this._latency = null;\n    _this._latencyStart = null;\n    _this._connectData = null;\n    _this._token = null;\n    _this._xhrID = 0;\n    _this._xhrs = {};\n    _this._dispatchPromise = Promise.resolve();\n    _this._protocol = '';\n    _this._config = {\n      protocol: '',\n      debug: false,\n      name: 'js',\n      version: '',\n      websocket: null,\n      sockjs: null,\n      xmlhttprequest: null,\n      minRetry: 1000,\n      maxRetry: 20000,\n      timeout: 5000,\n      ping: true,\n      pingInterval: 25000,\n      pongWaitTimeout: 5000,\n      privateChannelPrefix: '$',\n      onTransportClose: null,\n      sockjsServer: null,\n      sockjsTimeout: null,\n      sockjsTransports: ['websocket', 'xdr-streaming', 'xhr-streaming', 'eventsource', 'iframe-eventsource', 'iframe-htmlfile', 'xdr-polling', 'xhr-polling', 'iframe-xhr-polling', 'jsonp-polling'],\n      refreshEndpoint: '/centrifuge/refresh',\n      refreshHeaders: {},\n      refreshParams: {},\n      refreshData: {},\n      refreshAttempts: null,\n      refreshInterval: 1000,\n      onRefreshFailed: null,\n      onRefresh: null,\n      subscribeEndpoint: '/centrifuge/subscribe',\n      subscribeHeaders: {},\n      subscribeParams: {},\n      subRefreshInterval: 1000,\n      onPrivateSubscribe: null,\n      disableWithCredentials: false\n    };\n\n    _this._configure(options);\n\n    return _this;\n  }\n\n  _createClass(Centrifuge, [{\n    key: \"setToken\",\n    value: function setToken(token) {\n      this._token = token;\n    }\n  }, {\n    key: \"setConnectData\",\n    value: function setConnectData(data) {\n      this._connectData = data;\n    }\n  }, {\n    key: \"setRefreshHeaders\",\n    value: function setRefreshHeaders(headers) {\n      this._config.refreshHeaders = headers;\n    }\n  }, {\n    key: \"setRefreshParams\",\n    value: function setRefreshParams(params) {\n      this._config.refreshParams = params;\n    }\n  }, {\n    key: \"setRefreshData\",\n    value: function setRefreshData(data) {\n      this._config.refreshData = data;\n    }\n  }, {\n    key: \"setSubscribeHeaders\",\n    value: function setSubscribeHeaders(headers) {\n      this._config.subscribeHeaders = headers;\n    }\n  }, {\n    key: \"setSubscribeParams\",\n    value: function setSubscribeParams(params) {\n      this._config.subscribeParams = params;\n    }\n  }, {\n    key: \"_ajax\",\n    value: function _ajax(url, params, headers, data, callback) {\n      var _this2 = this;\n\n      var query = '';\n\n      this._debug('sending AJAX request to', url, 'with data', JSON.stringify(data));\n\n      var xhr;\n\n      if (this._xmlhttprequest !== null) {\n        // use explicitly passed XMLHttpRequest object.\n        xhr = new this._xmlhttprequest();\n      } else {\n        xhr = __webpack_require__.g.XMLHttpRequest ? new __webpack_require__.g.XMLHttpRequest() : new __webpack_require__.g.ActiveXObject('Microsoft.XMLHTTP');\n      }\n\n      for (var i in params) {\n        if (params.hasOwnProperty(i)) {\n          if (query.length > 0) {\n            query += '&';\n          }\n\n          query += encodeURIComponent(i) + '=' + encodeURIComponent(params[i]);\n        }\n      }\n\n      if (query.length > 0) {\n        query = '?' + query;\n      }\n\n      xhr.open('POST', url + query, true);\n\n      if ('withCredentials' in xhr) {\n        xhr.withCredentials = !this._config.disableWithCredentials;\n      }\n\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n      xhr.setRequestHeader('Content-Type', 'application/json');\n\n      for (var headerName in headers) {\n        if (headers.hasOwnProperty(headerName)) {\n          xhr.setRequestHeader(headerName, headers[headerName]);\n        }\n      }\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          if (xhr.status === 200) {\n            var _data,\n                parsed = false;\n\n            try {\n              _data = JSON.parse(xhr.responseText);\n              parsed = true;\n            } catch (e) {\n              callback({\n                error: 'Invalid JSON. Data was: ' + xhr.responseText,\n                status: 200,\n                data: null\n              });\n            }\n\n            if (parsed) {\n              // prevents double execution.\n              callback({\n                data: _data,\n                status: 200\n              });\n            }\n          } else {\n            _this2._log('wrong status code in AJAX response', xhr.status);\n\n            callback({\n              status: xhr.status,\n              data: null\n            });\n          }\n        }\n      };\n\n      setTimeout(function () {\n        return xhr.send(JSON.stringify(data));\n      }, 20);\n      return xhr;\n    }\n  }, {\n    key: \"_log\",\n    value: function _log() {\n      (0, _utils.log)('info', arguments);\n    }\n  }, {\n    key: \"_debug\",\n    value: function _debug() {\n      if (this._config.debug === true) {\n        (0, _utils.log)('debug', arguments);\n      }\n    }\n  }, {\n    key: \"_websocketSupported\",\n    value: function _websocketSupported() {\n      if (this._config.websocket !== null) {\n        return true;\n      }\n\n      return !(typeof WebSocket !== 'function' && (typeof WebSocket === \"undefined\" ? \"undefined\" : _typeof(WebSocket)) !== 'object');\n    }\n  }, {\n    key: \"_setFormat\",\n    value: function _setFormat(format) {\n      if (this._formatOverride(format)) {\n        return;\n      }\n\n      if (format === 'protobuf') {\n        throw new Error('not implemented by JSON only Centrifuge client – use client with Protobuf');\n      }\n\n      this._binary = false;\n      this._methodType = _json.JsonMethodType;\n      this._pushType = _json.JsonPushType;\n      this._encoder = new _json.JsonEncoder();\n      this._decoder = new _json.JsonDecoder();\n    }\n  }, {\n    key: \"_formatOverride\",\n    value: function _formatOverride(format) {\n      return false;\n    }\n  }, {\n    key: \"_configure\",\n    value: function _configure(configuration) {\n      if (!('Promise' in __webpack_require__.g)) {\n        throw new Error('Promise polyfill required');\n      }\n\n      (0, _utils.extend)(this._config, configuration || {});\n\n      this._debug('centrifuge config', this._config);\n\n      if (!this._url) {\n        throw new Error('url required');\n      }\n\n      var isProtobufURL = (0, _utils.startsWith)(this._url, 'ws') && this._url.indexOf('format=protobuf') > -1;\n\n      if (isProtobufURL || this._config.protocol === 'protobuf') {\n        this._setFormat('protobuf');\n\n        this._protocol = 'protobuf';\n      } else {\n        if (this._config.protocol !== '' && this._config.protocol !== 'json') {\n          throw new Error('unsupported protocol ' + this._config.protocol);\n        }\n\n        this._setFormat('json');\n      }\n\n      if ((0, _utils.startsWith)(this._url, 'http')) {\n        this._debug('client will try to connect to SockJS endpoint');\n\n        if (this._config.sockjs !== null) {\n          this._debug('SockJS explicitly provided in options');\n\n          this._sockjs = this._config.sockjs;\n        } else {\n          if (typeof __webpack_require__.g.SockJS === 'undefined') {\n            throw new Error('SockJS not found, use ws:// in url or include SockJS');\n          }\n\n          this._debug('use globally defined SockJS');\n\n          this._sockjs = __webpack_require__.g.SockJS;\n        }\n      } else {\n        this._debug('client will connect to websocket endpoint');\n      }\n\n      this._xmlhttprequest = this._config.xmlhttprequest;\n    }\n  }, {\n    key: \"_setStatus\",\n    value: function _setStatus(newStatus) {\n      if (this._status !== newStatus) {\n        this._debug('Status', this._status, '->', newStatus);\n\n        this._status = newStatus;\n      }\n    }\n  }, {\n    key: \"_isDisconnected\",\n    value: function _isDisconnected() {\n      return this._status === 'disconnected';\n    }\n  }, {\n    key: \"_isConnecting\",\n    value: function _isConnecting() {\n      return this._status === 'connecting';\n    }\n  }, {\n    key: \"_isConnected\",\n    value: function _isConnected() {\n      return this._status === 'connected';\n    }\n  }, {\n    key: \"_nextMessageId\",\n    value: function _nextMessageId() {\n      return ++this._messageId;\n    }\n  }, {\n    key: \"_resetRetry\",\n    value: function _resetRetry() {\n      this._debug('reset retries count to 0');\n\n      this._retries = 0;\n    }\n  }, {\n    key: \"_getRetryInterval\",\n    value: function _getRetryInterval() {\n      var interval = (0, _utils.backoff)(this._retries, this._config.minRetry, this._config.maxRetry);\n      this._retries += 1;\n      return interval;\n    }\n  }, {\n    key: \"_abortInflightXHRs\",\n    value: function _abortInflightXHRs() {\n      for (var xhrID in this._xhrs) {\n        try {\n          this._xhrs[xhrID].abort();\n        } catch (e) {\n          this._debug('error aborting xhr', e);\n        }\n\n        delete this._xhrs[xhrID];\n      }\n    }\n  }, {\n    key: \"_clearConnectedState\",\n    value: function _clearConnectedState(reconnect) {\n      this._clientID = null;\n\n      this._stopPing(); // fire errbacks of registered outgoing calls.\n\n\n      for (var id in this._callbacks) {\n        if (this._callbacks.hasOwnProperty(id)) {\n          var callbacks = this._callbacks[id];\n          clearTimeout(callbacks.timeout);\n          var errback = callbacks.errback;\n\n          if (!errback) {\n            continue;\n          }\n\n          errback({\n            error: this._createErrorObject('disconnected')\n          });\n        }\n      }\n\n      this._callbacks = {}; // fire unsubscribe events\n\n      for (var channel in this._subs) {\n        if (this._subs.hasOwnProperty(channel)) {\n          var sub = this._subs[channel];\n\n          if (reconnect) {\n            if (sub._isSuccess()) {\n              sub._triggerUnsubscribe();\n\n              sub._recover = true;\n            }\n\n            if (sub._shouldResubscribe()) {\n              sub._setSubscribing();\n            }\n          } else {\n            sub._setUnsubscribed();\n          }\n        }\n      }\n\n      this._abortInflightXHRs(); // clear refresh timer\n\n\n      if (this._refreshTimeout !== null) {\n        clearTimeout(this._refreshTimeout);\n        this._refreshTimeout = null;\n      } // clear sub refresh timers\n\n\n      for (var _channel in this._subRefreshTimeouts) {\n        if (this._subRefreshTimeouts.hasOwnProperty(_channel) && this._subRefreshTimeouts[_channel]) {\n          this._clearSubRefreshTimeout(_channel);\n        }\n      }\n\n      this._subRefreshTimeouts = {};\n\n      if (!this._reconnect) {\n        // completely clear subscriptions\n        this._subs = {};\n      }\n    }\n  }, {\n    key: \"_isTransportOpen\",\n    value: function _isTransportOpen() {\n      if (this._isSockjs) {\n        return this._transport && this._transport.transport && this._transport.transport.readyState === this._transport.transport.OPEN;\n      }\n\n      return this._transport && this._transport.readyState === this._transport.OPEN;\n    }\n  }, {\n    key: \"_transportSend\",\n    value: function _transportSend(commands) {\n      if (!commands.length) {\n        return true;\n      }\n\n      if (!this._isTransportOpen()) {\n        // resolve pending commands with error if transport is not open\n        for (var command in commands) {\n          var id = command.id;\n\n          if (!(id in this._callbacks)) {\n            continue;\n          }\n\n          var callbacks = this._callbacks[id];\n          clearTimeout(this._callbacks[id].timeout);\n          delete this._callbacks[id];\n          var errback = callbacks.errback;\n          errback({\n            error: this._createErrorObject(_errorConnectionClosed, 0)\n          });\n        }\n\n        return false;\n      }\n\n      this._transport.send(this._encoder.encodeCommands(commands));\n\n      return true;\n    }\n  }, {\n    key: \"_getSubProtocol\",\n    value: function _getSubProtocol() {\n      if (!this._protocol) {\n        return '';\n      }\n\n      return 'centrifuge-' + this._protocol;\n    }\n  }, {\n    key: \"_setupTransport\",\n    value: function _setupTransport() {\n      var _this3 = this;\n\n      this._isSockjs = false; // detect transport to use - SockJS or Websocket\n\n      if (this._sockjs !== null) {\n        var sockjsOptions = {\n          transports: this._config.sockjsTransports\n        };\n\n        if (this._config.sockjsServer !== null) {\n          sockjsOptions.server = this._config.sockjsServer;\n        }\n\n        if (this._config.sockjsTimeout !== null) {\n          sockjsOptions.timeout = this._config.sockjsTimeout;\n        }\n\n        this._isSockjs = true;\n        this._transport = new this._sockjs(this._url, null, sockjsOptions);\n      } else {\n        if (!this._websocketSupported()) {\n          this._debug('No Websocket support and no SockJS configured, can not connect');\n\n          throw new Error('No Websocket support and no SockJS configured, can not connect');\n        }\n\n        if (this._config.websocket !== null) {\n          this._websocket = this._config.websocket;\n        } else {\n          this._websocket = WebSocket;\n        }\n\n        var subProtocol = this._getSubProtocol();\n\n        if (subProtocol !== '') {\n          this._transport = new this._websocket(this._url, subProtocol);\n        } else {\n          this._transport = new this._websocket(this._url);\n        }\n\n        if (this._binary === true) {\n          this._transport.binaryType = 'arraybuffer';\n        }\n      }\n\n      this._transport.onopen = function () {\n        _this3._transportClosed = false;\n\n        if (_this3._isSockjs) {\n          _this3._transportName = 'sockjs-' + _this3._transport.transport;\n\n          _this3._transport.onheartbeat = function () {\n            return _this3._restartPing();\n          };\n        } else {\n          _this3._transportName = 'websocket';\n        } // Can omit method here due to zero value.\n\n\n        var msg = {// method: this._methodType.CONNECT\n        };\n\n        if (_this3._token || _this3._connectData || _this3._config.name || _this3._config.version) {\n          msg.params = {};\n        }\n\n        if (_this3._token) {\n          msg.params.token = _this3._token;\n        }\n\n        if (_this3._connectData) {\n          msg.params.data = _this3._connectData;\n        }\n\n        if (_this3._config.name) {\n          msg.params.name = _this3._config.name;\n        }\n\n        if (_this3._config.version) {\n          msg.params.version = _this3._config.version;\n        }\n\n        var subs = {};\n        var hasSubs = false;\n\n        for (var channel in _this3._serverSubs) {\n          if (_this3._serverSubs.hasOwnProperty(channel) && _this3._serverSubs[channel].recoverable) {\n            hasSubs = true;\n            var sub = {\n              'recover': true\n            };\n\n            if (_this3._serverSubs[channel].seq || _this3._serverSubs[channel].gen) {\n              if (_this3._serverSubs[channel].seq) {\n                sub['seq'] = _this3._serverSubs[channel].seq;\n              }\n\n              if (_this3._serverSubs[channel].gen) {\n                sub['gen'] = _this3._serverSubs[channel].gen;\n              }\n            } else {\n              if (_this3._serverSubs[channel].offset) {\n                sub['offset'] = _this3._serverSubs[channel].offset;\n              }\n            }\n\n            if (_this3._serverSubs[channel].epoch) {\n              sub['epoch'] = _this3._serverSubs[channel].epoch;\n            }\n\n            subs[channel] = sub;\n          }\n        }\n\n        if (hasSubs) {\n          if (!msg.params) {\n            msg.params = {};\n          }\n\n          msg.params.subs = subs;\n        }\n\n        _this3._latencyStart = new Date();\n\n        _this3._call(msg).then(function (resolveCtx) {\n          _this3._connectResponse(_this3._decoder.decodeCommandResult(_this3._methodType.CONNECT, resolveCtx.result), hasSubs);\n\n          if (resolveCtx.next) {\n            resolveCtx.next();\n          }\n        }, function (rejectCtx) {\n          var err = rejectCtx.error;\n\n          if (err.code === 109) {\n            // token expired.\n            _this3._refreshRequired = true;\n          }\n\n          _this3._disconnect('connect error', true);\n\n          if (rejectCtx.next) {\n            rejectCtx.next();\n          }\n        });\n      };\n\n      this._transport.onerror = function (error) {\n        _this3._debug('transport level error', error);\n      };\n\n      this._transport.onclose = function (closeEvent) {\n        _this3._transportClosed = true;\n        var reason = _errorConnectionClosed;\n        var needReconnect = true;\n\n        if (closeEvent && 'reason' in closeEvent && closeEvent.reason) {\n          try {\n            var advice = JSON.parse(closeEvent.reason);\n\n            _this3._debug('reason is an advice object', advice);\n\n            reason = advice.reason;\n            needReconnect = advice.reconnect;\n          } catch (e) {\n            reason = closeEvent.reason;\n\n            _this3._debug('reason is a plain string', reason);\n          }\n        } // onTransportClose callback should be executed every time transport was closed.\n        // This can be helpful to catch failed connection events (because our disconnect\n        // event only called once and every future attempts to connect do not fire disconnect\n        // event again).\n\n\n        if (_this3._config.onTransportClose !== null) {\n          _this3._config.onTransportClose({\n            event: closeEvent,\n            reason: reason,\n            reconnect: needReconnect\n          });\n        }\n\n        _this3._disconnect(reason, needReconnect);\n\n        if (_this3._reconnect === true) {\n          _this3._reconnecting = true;\n\n          var interval = _this3._getRetryInterval();\n\n          _this3._debug('reconnect after ' + interval + ' milliseconds');\n\n          setTimeout(function () {\n            if (_this3._reconnect === true) {\n              if (_this3._refreshRequired) {\n                _this3._refresh();\n              } else {\n                _this3._connect();\n              }\n            }\n          }, interval);\n        }\n      };\n\n      this._transport.onmessage = function (event) {\n        _this3._dataReceived(event.data);\n      };\n    }\n  }, {\n    key: \"rpc\",\n    value: function rpc(data) {\n      return this._rpc('', data);\n    }\n  }, {\n    key: \"namedRPC\",\n    value: function namedRPC(method, data) {\n      return this._rpc(method, data);\n    }\n  }, {\n    key: \"_rpc\",\n    value: function _rpc(method, data) {\n      var params = {\n        data: data\n      };\n\n      if (method !== '') {\n        params.method = method;\n      }\n\n      ;\n      var msg = {\n        method: this._methodType.RPC,\n        params: params\n      };\n      return this._methodCall(msg, function (result) {\n        return result;\n      });\n    }\n  }, {\n    key: \"send\",\n    value: function send(data) {\n      var msg = {\n        method: this._methodType.SEND,\n        params: {\n          data: data\n        }\n      };\n\n      if (!this.isConnected()) {\n        return Promise.reject(this._createErrorObject(_errorConnectionClosed, 0));\n      }\n\n      var sent = this._transportSend([msg]); // can send async message to server without id set\n\n\n      if (!sent) {\n        return Promise.reject(this._createErrorObject(_errorConnectionClosed, 0));\n      }\n\n      ;\n      return Promise.resolve({});\n    }\n  }, {\n    key: \"_getHistoryParams\",\n    value: function _getHistoryParams(channel, options) {\n      var params = {\n        channel: channel\n      };\n\n      if (options !== undefined) {\n        if (options.since) {\n          params['since'] = {\n            'offset': options.since.offset\n          };\n\n          if (options.since.epoch) {\n            params['since']['epoch'] = options.since.epoch;\n          }\n        }\n\n        ;\n\n        if (options.limit !== undefined) {\n          params['limit'] = options.limit;\n        }\n\n        if (options.reverse === true) {\n          params['reverse'] = true;\n        }\n      }\n\n      ;\n      return params;\n    }\n  }, {\n    key: \"_methodCall\",\n    value: function _methodCall(msg, resultCB) {\n      var _this4 = this;\n\n      if (!this.isConnected()) {\n        return Promise.reject(this._createErrorObject(_errorConnectionClosed, 0));\n      }\n\n      return new Promise(function (resolve, reject) {\n        _this4._call(msg).then(function (resolveCtx) {\n          resolve(resultCB(_this4._decoder.decodeCommandResult(msg.method, resolveCtx.result)));\n\n          if (resolveCtx.next) {\n            resolveCtx.next();\n          }\n        }, function (rejectCtx) {\n          reject(rejectCtx.error);\n\n          if (rejectCtx.next) {\n            rejectCtx.next();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"publish\",\n    value: function publish(channel, data) {\n      var msg = {\n        method: this._methodType.PUBLISH,\n        params: {\n          channel: channel,\n          data: data\n        }\n      };\n      return this._methodCall(msg, function () {\n        return {};\n      });\n    }\n  }, {\n    key: \"history\",\n    value: function history(channel, options) {\n      var params = this._getHistoryParams(channel, options);\n\n      var msg = {\n        method: this._methodType.HISTORY,\n        params: params\n      };\n      return this._methodCall(msg, function (result) {\n        return {\n          'publications': result.publications,\n          'epoch': result.epoch || '',\n          'offset': result.offset || 0\n        };\n      });\n    }\n  }, {\n    key: \"presence\",\n    value: function presence(channel) {\n      var msg = {\n        method: this._methodType.PRESENCE,\n        params: {\n          channel: channel\n        }\n      };\n      return this._methodCall(msg, function (result) {\n        return {\n          'presence': result.presence\n        };\n      });\n    }\n  }, {\n    key: \"presenceStats\",\n    value: function presenceStats(channel) {\n      var msg = {\n        method: this._methodType.PRESENCE_STATS,\n        params: {\n          channel: channel\n        }\n      };\n      return this._methodCall(msg, function (result) {\n        return {\n          'num_users': result.num_users,\n          'num_clients': result.num_clients\n        };\n      });\n    }\n  }, {\n    key: \"_dataReceived\",\n    value: function _dataReceived(data) {\n      var _this5 = this;\n\n      var replies = this._decoder.decodeReplies(data); // we have to guarantee order of events in replies processing - i.e. start processing\n      // next reply only when we finished processing of current one. Without syncing things in\n      // this way we could get wrong publication events order as reply promises resolve\n      // on next loop tick so for loop continues before we finished emitting all reply events.\n\n\n      this._dispatchPromise = this._dispatchPromise.then(function () {\n        var finishDispatch;\n        _this5._dispatchPromise = new Promise(function (resolve) {\n          finishDispatch = resolve;\n        });\n\n        _this5._dispatchSynchronized(replies, finishDispatch);\n      });\n\n      this._restartPing();\n    }\n  }, {\n    key: \"_dispatchSynchronized\",\n    value: function _dispatchSynchronized(replies, finishDispatch) {\n      var _this6 = this;\n\n      var p = Promise.resolve();\n\n      var _loop = function _loop(i) {\n        if (replies.hasOwnProperty(i)) {\n          p = p.then(function () {\n            return _this6._dispatchReply(replies[i]);\n          });\n        }\n      };\n\n      for (var i in replies) {\n        _loop(i);\n      }\n\n      p = p.then(function () {\n        finishDispatch();\n      });\n    }\n  }, {\n    key: \"_dispatchReply\",\n    value: function _dispatchReply(reply) {\n      var next;\n      var p = new Promise(function (resolve) {\n        next = resolve;\n      });\n\n      if (reply === undefined || reply === null) {\n        this._debug('dispatch: got undefined or null reply');\n\n        next();\n        return p;\n      }\n\n      var id = reply.id;\n\n      if (id && id > 0) {\n        this._handleReply(reply, next);\n      } else {\n        this._handlePush(reply.result, next);\n      }\n\n      return p;\n    }\n  }, {\n    key: \"_call\",\n    value: function _call(msg) {\n      var _this7 = this;\n\n      return new Promise(function (resolve, reject) {\n        var id = _this7._addMessage(msg);\n\n        _this7._registerCall(id, resolve, reject);\n      });\n    }\n  }, {\n    key: \"_connect\",\n    value: function _connect() {\n      if (this.isConnected()) {\n        this._debug('connect called when already connected');\n\n        return;\n      }\n\n      if (this._status === 'connecting') {\n        return;\n      }\n\n      this._debug('start connecting');\n\n      this._setStatus('connecting');\n\n      this._clientID = null;\n      this._reconnect = true;\n\n      this._setupTransport();\n    }\n  }, {\n    key: \"_disconnect\",\n    value: function _disconnect(reason, shouldReconnect) {\n      var reconnect = shouldReconnect || false;\n\n      if (reconnect === false) {\n        this._reconnect = false;\n      }\n\n      if (this._isDisconnected()) {\n        if (!reconnect) {\n          this._clearConnectedState(reconnect);\n        }\n\n        return;\n      }\n\n      this._clearConnectedState(reconnect);\n\n      this._debug('disconnected:', reason, shouldReconnect);\n\n      this._setStatus('disconnected');\n\n      if (this._refreshTimeout) {\n        clearTimeout(this._refreshTimeout);\n        this._refreshTimeout = null;\n      }\n\n      if (this._reconnecting === false) {\n        // fire unsubscribe events for server side subs.\n        for (var channel in this._serverSubs) {\n          if (this._serverSubs.hasOwnProperty(channel)) {\n            this.emit('unsubscribe', {\n              channel: channel\n            });\n          }\n        }\n\n        this.emit('disconnect', {\n          reason: reason,\n          reconnect: reconnect\n        });\n      }\n\n      if (reconnect === false) {\n        this._subs = {};\n        this._serverSubs = {};\n      }\n\n      if (!this._transportClosed) {\n        this._transport.close();\n      }\n    }\n  }, {\n    key: \"_refreshFailed\",\n    value: function _refreshFailed() {\n      this._numRefreshFailed = 0;\n\n      if (!this._isDisconnected()) {\n        this._disconnect('refresh failed', false);\n      }\n\n      if (this._config.onRefreshFailed !== null) {\n        this._config.onRefreshFailed();\n      }\n    }\n  }, {\n    key: \"_refresh\",\n    value: function _refresh() {\n      var _this8 = this;\n\n      // ask application for new connection token.\n      this._debug('refresh token');\n\n      if (this._config.refreshAttempts === 0) {\n        this._debug('refresh attempts set to 0, do not send refresh request at all');\n\n        this._refreshFailed();\n\n        return;\n      }\n\n      if (this._refreshTimeout !== null) {\n        clearTimeout(this._refreshTimeout);\n        this._refreshTimeout = null;\n      }\n\n      var clientID = this._clientID;\n\n      var xhrID = this._newXHRID();\n\n      var cb = function cb(resp) {\n        if (xhrID in _this8._xhrs) {\n          delete _this8._xhrs[xhrID];\n        }\n\n        if (_this8._clientID !== clientID) {\n          return;\n        }\n\n        if (resp.error || resp.status !== 200) {\n          // We don't perform any connection status related actions here as we are\n          // relying on server that must close connection eventually.\n          if (resp.error) {\n            _this8._debug('error refreshing connection token', resp.error);\n          } else {\n            _this8._debug('error refreshing connection token: wrong status code', resp.status);\n          }\n\n          _this8._numRefreshFailed++;\n\n          if (_this8._refreshTimeout !== null) {\n            clearTimeout(_this8._refreshTimeout);\n            _this8._refreshTimeout = null;\n          }\n\n          if (_this8._config.refreshAttempts !== null && _this8._numRefreshFailed >= _this8._config.refreshAttempts) {\n            _this8._refreshFailed();\n\n            return;\n          }\n\n          var jitter = Math.round(Math.random() * 1000 * Math.max(_this8._numRefreshFailed, 20));\n          var interval = _this8._config.refreshInterval + jitter;\n          _this8._refreshTimeout = setTimeout(function () {\n            return _this8._refresh();\n          }, interval);\n          return;\n        }\n\n        _this8._numRefreshFailed = 0;\n        _this8._token = resp.data.token;\n\n        if (!_this8._token) {\n          _this8._refreshFailed();\n\n          return;\n        }\n\n        if (_this8._isDisconnected() && _this8._reconnect) {\n          _this8._debug('token refreshed, connect from scratch');\n\n          _this8._connect();\n        } else {\n          _this8._debug('send refreshed token');\n\n          var msg = {\n            method: _this8._methodType.REFRESH,\n            params: {\n              token: _this8._token\n            }\n          };\n\n          _this8._call(msg).then(function (resolveCtx) {\n            _this8._refreshResponse(_this8._decoder.decodeCommandResult(_this8._methodType.REFRESH, resolveCtx.result));\n\n            if (resolveCtx.next) {\n              resolveCtx.next();\n            }\n          }, function (rejectCtx) {\n            _this8._refreshError(rejectCtx.error);\n\n            if (rejectCtx.next) {\n              rejectCtx.next();\n            }\n          });\n        }\n      };\n\n      if (this._config.onRefresh !== null) {\n        var context = {};\n\n        this._config.onRefresh(context, cb);\n      } else {\n        var xhr = this._ajax(this._config.refreshEndpoint, this._config.refreshParams, this._config.refreshHeaders, this._config.refreshData, cb);\n\n        this._xhrs[xhrID] = xhr;\n      }\n    }\n  }, {\n    key: \"_refreshError\",\n    value: function _refreshError(err) {\n      var _this9 = this;\n\n      this._debug('refresh error', err);\n\n      if (this._refreshTimeout) {\n        clearTimeout(this._refreshTimeout);\n        this._refreshTimeout = null;\n      }\n\n      var interval = this._config.refreshInterval + Math.round(Math.random() * 1000);\n      this._refreshTimeout = setTimeout(function () {\n        return _this9._refresh();\n      }, interval);\n    }\n  }, {\n    key: \"_refreshResponse\",\n    value: function _refreshResponse(result) {\n      var _this10 = this;\n\n      if (this._refreshTimeout) {\n        clearTimeout(this._refreshTimeout);\n        this._refreshTimeout = null;\n      }\n\n      if (result.expires) {\n        this._clientID = result.client;\n        this._refreshTimeout = setTimeout(function () {\n          return _this10._refresh();\n        }, this._getTTLMilliseconds(result.ttl));\n      }\n    }\n  }, {\n    key: \"_newXHRID\",\n    value: function _newXHRID() {\n      this._xhrID++;\n      return this._xhrID;\n    }\n  }, {\n    key: \"_subRefresh\",\n    value: function _subRefresh(channel) {\n      var _this11 = this;\n\n      this._debug('refresh subscription token for channel', channel);\n\n      if (this._subRefreshTimeouts[channel] !== undefined) {\n        this._clearSubRefreshTimeout(channel);\n      } else {\n        return;\n      }\n\n      var clientID = this._clientID;\n\n      var xhrID = this._newXHRID();\n\n      var cb = function cb(resp) {\n        if (xhrID in _this11._xhrs) {\n          delete _this11._xhrs[xhrID];\n        }\n\n        if (resp.error || resp.status !== 200 || _this11._clientID !== clientID) {\n          return;\n        }\n\n        var channelsData = {};\n\n        if (resp.data.channels) {\n          for (var i in resp.data.channels) {\n            var channelData = resp.data.channels[i];\n\n            if (!channelData.channel) {\n              continue;\n            }\n\n            channelsData[channelData.channel] = channelData.token;\n          }\n        }\n\n        var token = channelsData[channel];\n\n        if (!token) {\n          return;\n        }\n\n        var msg = {\n          method: _this11._methodType.SUB_REFRESH,\n          params: {\n            channel: channel,\n            token: token\n          }\n        };\n\n        var sub = _this11._getSub(channel);\n\n        if (sub === null) {\n          return;\n        }\n\n        _this11._call(msg).then(function (resolveCtx) {\n          _this11._subRefreshResponse(channel, _this11._decoder.decodeCommandResult(_this11._methodType.SUB_REFRESH, resolveCtx.result));\n\n          if (resolveCtx.next) {\n            resolveCtx.next();\n          }\n        }, function (rejectCtx) {\n          _this11._subRefreshError(channel, rejectCtx.error);\n\n          if (rejectCtx.next) {\n            rejectCtx.next();\n          }\n        });\n      };\n\n      var data = {\n        client: this._clientID,\n        channels: [channel]\n      };\n\n      if (this._config.onPrivateSubscribe !== null) {\n        this._config.onPrivateSubscribe({\n          data: data\n        }, cb);\n      } else {\n        var xhr = this._ajax(this._config.subscribeEndpoint, this._config.subscribeParams, this._config.subscribeHeaders, data, cb);\n\n        this._xhrs[xhrID] = xhr;\n      }\n    }\n  }, {\n    key: \"_clearSubRefreshTimeout\",\n    value: function _clearSubRefreshTimeout(channel) {\n      if (this._subRefreshTimeouts[channel] !== undefined) {\n        clearTimeout(this._subRefreshTimeouts[channel]);\n        delete this._subRefreshTimeouts[channel];\n      }\n    }\n  }, {\n    key: \"_subRefreshError\",\n    value: function _subRefreshError(channel, err) {\n      var _this12 = this;\n\n      this._debug('subscription refresh error', channel, err);\n\n      this._clearSubRefreshTimeout(channel);\n\n      var sub = this._getSub(channel);\n\n      if (sub === null) {\n        return;\n      }\n\n      var jitter = Math.round(Math.random() * 1000);\n      var subRefreshTimeout = setTimeout(function () {\n        return _this12._subRefresh(channel);\n      }, this._config.subRefreshInterval + jitter);\n      this._subRefreshTimeouts[channel] = subRefreshTimeout;\n      return;\n    }\n  }, {\n    key: \"_subRefreshResponse\",\n    value: function _subRefreshResponse(channel, result) {\n      var _this13 = this;\n\n      this._debug('subscription refresh success', channel);\n\n      this._clearSubRefreshTimeout(channel);\n\n      var sub = this._getSub(channel);\n\n      if (sub === null) {\n        return;\n      }\n\n      if (result.expires === true) {\n        var subRefreshTimeout = setTimeout(function () {\n          return _this13._subRefresh(channel);\n        }, this._getTTLMilliseconds(result.ttl));\n        this._subRefreshTimeouts[channel] = subRefreshTimeout;\n      }\n\n      return;\n    }\n  }, {\n    key: \"_subscribe\",\n    value: function _subscribe(sub, isResubscribe) {\n      var _this14 = this;\n\n      this._debug('subscribing on', sub.channel);\n\n      var channel = sub.channel;\n\n      if (!(channel in this._subs)) {\n        this._subs[channel] = sub;\n      }\n\n      if (!this.isConnected()) {\n        // subscribe will be called later\n        sub._setNew();\n\n        return;\n      }\n\n      sub._setSubscribing(isResubscribe);\n\n      var msg = {\n        method: this._methodType.SUBSCRIBE,\n        params: {\n          channel: channel\n        }\n      };\n\n      if (sub._subscribeData) {\n        msg.params.data = sub._subscribeData;\n      } // If channel name does not start with privateChannelPrefix - then we\n      // can just send subscription message to Centrifuge. If channel name\n      // starts with privateChannelPrefix - then this is a private channel\n      // and we should ask web application backend for permission first.\n\n\n      if ((0, _utils.startsWith)(channel, this._config.privateChannelPrefix)) {\n        // private channel.\n        if (this._isSubscribeBatching) {\n          this._privateChannels[channel] = true;\n        } else {\n          this.startSubscribeBatching();\n\n          this._subscribe(sub);\n\n          this.stopSubscribeBatching();\n        }\n      } else {\n        var recover = sub._needRecover();\n\n        if (recover === true) {\n          msg.params.recover = true;\n\n          var seq = this._getLastSeq(channel);\n\n          var gen = this._getLastGen(channel);\n\n          if (seq || gen) {\n            if (seq) {\n              msg.params.seq = seq;\n            }\n\n            if (gen) {\n              msg.params.gen = gen;\n            }\n          } else {\n            var offset = this._getLastOffset(channel);\n\n            if (offset) {\n              msg.params.offset = offset;\n            }\n          }\n\n          var epoch = this._getLastEpoch(channel);\n\n          if (epoch) {\n            msg.params.epoch = epoch;\n          }\n        }\n\n        this._call(msg).then(function (resolveCtx) {\n          _this14._subscribeResponse(channel, recover, _this14._decoder.decodeCommandResult(_this14._methodType.SUBSCRIBE, resolveCtx.result));\n\n          if (resolveCtx.next) {\n            resolveCtx.next();\n          }\n        }, function (rejectCtx) {\n          _this14._subscribeError(channel, rejectCtx.error);\n\n          if (rejectCtx.next) {\n            rejectCtx.next();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_unsubscribe\",\n    value: function _unsubscribe(sub) {\n      delete this._subs[sub.channel];\n      delete this._lastOffset[sub.channel];\n      delete this._lastSeq[sub.channel];\n      delete this._lastGen[sub.channel];\n\n      if (this.isConnected()) {\n        // No need to unsubscribe in disconnected state - i.e. client already unsubscribed.\n        this._addMessage({\n          method: this._methodType.UNSUBSCRIBE,\n          params: {\n            channel: sub.channel\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_getTTLMilliseconds\",\n    value: function _getTTLMilliseconds(ttl) {\n      // https://stackoverflow.com/questions/12633405/what-is-the-maximum-delay-for-setinterval\n      return Math.min(ttl * 1000, 2147483647);\n    }\n  }, {\n    key: \"getSub\",\n    value: function getSub(channel) {\n      return this._getSub(channel);\n    }\n  }, {\n    key: \"_getSub\",\n    value: function _getSub(channel) {\n      var sub = this._subs[channel];\n\n      if (!sub) {\n        return null;\n      }\n\n      return sub;\n    }\n  }, {\n    key: \"_isServerSub\",\n    value: function _isServerSub(channel) {\n      return this._serverSubs[channel] !== undefined;\n    }\n  }, {\n    key: \"_connectResponse\",\n    value: function _connectResponse(result, isRecover) {\n      var _this15 = this;\n\n      var wasReconnecting = this._reconnecting;\n      this._reconnecting = false;\n\n      this._resetRetry();\n\n      this._refreshRequired = false;\n\n      if (this.isConnected()) {\n        return;\n      }\n\n      if (this._latencyStart !== null) {\n        this._latency = new Date().getTime() - this._latencyStart.getTime();\n        this._latencyStart = null;\n      }\n\n      this._clientID = result.client;\n\n      this._setStatus('connected');\n\n      if (this._refreshTimeout) {\n        clearTimeout(this._refreshTimeout);\n      }\n\n      if (result.expires) {\n        this._refreshTimeout = setTimeout(function () {\n          return _this15._refresh();\n        }, this._getTTLMilliseconds(result.ttl));\n      }\n\n      this.startBatching();\n      this.startSubscribeBatching();\n\n      for (var channel in this._subs) {\n        if (this._subs.hasOwnProperty(channel)) {\n          var sub = this._subs[channel];\n\n          if (sub._shouldResubscribe()) {\n            this._subscribe(sub, wasReconnecting);\n          }\n        }\n      }\n\n      this.stopSubscribeBatching();\n      this.stopBatching();\n\n      this._startPing();\n\n      var ctx = {\n        client: result.client,\n        transport: this._transportName,\n        latency: this._latency\n      };\n\n      if (result.data) {\n        ctx.data = result.data;\n      }\n\n      this.emit('connect', ctx);\n\n      if (result.subs) {\n        this._processServerSubs(result.subs);\n      }\n    }\n  }, {\n    key: \"_processServerSubs\",\n    value: function _processServerSubs(subs) {\n      for (var channel in subs) {\n        if (subs.hasOwnProperty(channel)) {\n          var sub = subs[channel];\n          var isResubscribe = this._serverSubs[channel] !== undefined;\n          var subCtx = {\n            channel: channel,\n            isResubscribe: isResubscribe\n          };\n          subCtx = this._expandSubscribeContext(subCtx, sub);\n          this.emit('subscribe', subCtx);\n        }\n      }\n\n      for (var _channel2 in subs) {\n        if (subs.hasOwnProperty(_channel2)) {\n          var _sub = subs[_channel2];\n\n          if (_sub.recovered) {\n            var pubs = _sub.publications;\n\n            if (pubs && pubs.length > 0) {\n              // handle legacy order.\n              // TODO: remove as soon as Centrifuge v1 released.\n              if (pubs.length > 1 && (!pubs[0].offset || pubs[0].offset > pubs[1].offset)) {\n                pubs = pubs.reverse();\n              }\n\n              for (var i in pubs) {\n                if (pubs.hasOwnProperty(i)) {\n                  this._handlePublication(_channel2, pubs[i]);\n                }\n              }\n            }\n          }\n\n          this._serverSubs[_channel2] = {\n            'seq': _sub.seq,\n            'gen': _sub.gen,\n            'offset': _sub.offset,\n            'epoch': _sub.epoch,\n            'recoverable': _sub.recoverable\n          };\n        }\n      }\n    }\n  }, {\n    key: \"_stopPing\",\n    value: function _stopPing() {\n      if (this._pongTimeout !== null) {\n        clearTimeout(this._pongTimeout);\n        this._pongTimeout = null;\n      }\n\n      if (this._pingTimeout !== null) {\n        clearTimeout(this._pingTimeout);\n        this._pingTimeout = null;\n      }\n    }\n  }, {\n    key: \"_startPing\",\n    value: function _startPing() {\n      var _this16 = this;\n\n      if (this._config.ping !== true || this._config.pingInterval <= 0) {\n        return;\n      }\n\n      if (!this.isConnected()) {\n        return;\n      }\n\n      this._pingTimeout = setTimeout(function () {\n        if (!_this16.isConnected()) {\n          _this16._stopPing();\n\n          return;\n        }\n\n        _this16.ping();\n\n        _this16._pongTimeout = setTimeout(function () {\n          _this16._disconnect('no ping', true);\n        }, _this16._config.pongWaitTimeout);\n      }, this._config.pingInterval);\n    }\n  }, {\n    key: \"_restartPing\",\n    value: function _restartPing() {\n      this._stopPing();\n\n      this._startPing();\n    }\n  }, {\n    key: \"_subscribeError\",\n    value: function _subscribeError(channel, error) {\n      var sub = this._getSub(channel);\n\n      if (!sub) {\n        return;\n      }\n\n      if (!sub._isSubscribing()) {\n        return;\n      }\n\n      if (error.code === 0 && error.message === _errorTimeout) {\n        // client side timeout.\n        this._disconnect('timeout', true);\n\n        return;\n      }\n\n      sub._setSubscribeError(error);\n    }\n  }, {\n    key: \"_expandSubscribeContext\",\n    value: function _expandSubscribeContext(ctx, result) {\n      var recovered = false;\n\n      if ('recovered' in result) {\n        recovered = result.recovered;\n      }\n\n      ctx.recovered = recovered;\n      var positioned = false;\n\n      if ('positioned' in result) {\n        positioned = result.positioned;\n      }\n\n      var epoch = '';\n\n      if ('epoch' in result) {\n        epoch = result.epoch;\n      }\n\n      var offset = 0;\n\n      if ('offset' in result) {\n        offset = result.offset;\n      }\n\n      if (positioned) {\n        ctx.streamPosition = {\n          'offset': offset,\n          'epoch': epoch\n        };\n      }\n\n      ;\n\n      if (result.data) {\n        ctx.data = result.data;\n      }\n\n      return ctx;\n    }\n  }, {\n    key: \"_subscribeResponse\",\n    value: function _subscribeResponse(channel, isRecover, result) {\n      var _this17 = this;\n\n      var sub = this._getSub(channel);\n\n      if (!sub) {\n        return;\n      }\n\n      if (!sub._isSubscribing()) {\n        return;\n      }\n\n      sub._setSubscribeSuccess(result);\n\n      var pubs = result.publications;\n\n      if (pubs && pubs.length > 0) {\n        if (pubs.length >= 2 && !pubs[0].offset && !pubs[1].offset) {\n          // handle legacy order.\n          pubs = pubs.reverse();\n        }\n\n        for (var i in pubs) {\n          if (pubs.hasOwnProperty(i)) {\n            this._handlePublication(channel, pubs[i]);\n          }\n        }\n      }\n\n      if (result.recoverable && (!isRecover || !result.recovered)) {\n        this._lastSeq[channel] = result.seq || 0;\n        this._lastGen[channel] = result.gen || 0;\n        this._lastOffset[channel] = result.offset || 0;\n      }\n\n      this._lastEpoch[channel] = result.epoch || '';\n\n      if (result.recoverable) {\n        sub._recoverable = true;\n      }\n\n      if (result.expires === true) {\n        var subRefreshTimeout = setTimeout(function () {\n          return _this17._subRefresh(channel);\n        }, this._getTTLMilliseconds(result.ttl));\n        this._subRefreshTimeouts[channel] = subRefreshTimeout;\n      }\n    }\n  }, {\n    key: \"_handleReply\",\n    value: function _handleReply(reply, next) {\n      var id = reply.id;\n      var result = reply.result;\n\n      if (!(id in this._callbacks)) {\n        next();\n        return;\n      }\n\n      var callbacks = this._callbacks[id];\n      clearTimeout(this._callbacks[id].timeout);\n      delete this._callbacks[id];\n\n      if (!(0, _utils.errorExists)(reply)) {\n        var callback = callbacks.callback;\n\n        if (!callback) {\n          return;\n        }\n\n        callback({\n          result: result,\n          next: next\n        });\n      } else {\n        var errback = callbacks.errback;\n\n        if (!errback) {\n          next();\n          return;\n        }\n\n        var error = reply.error;\n        errback({\n          error: error,\n          next: next\n        });\n      }\n    }\n  }, {\n    key: \"_handleJoin\",\n    value: function _handleJoin(channel, join) {\n      var ctx = {\n        'info': join.info\n      };\n\n      var sub = this._getSub(channel);\n\n      if (!sub) {\n        if (this._isServerSub(channel)) {\n          ctx.channel = channel;\n          this.emit('join', ctx);\n        }\n\n        return;\n      }\n\n      sub.emit('join', ctx);\n    }\n  }, {\n    key: \"_handleLeave\",\n    value: function _handleLeave(channel, leave) {\n      var ctx = {\n        'info': leave.info\n      };\n\n      var sub = this._getSub(channel);\n\n      if (!sub) {\n        if (this._isServerSub(channel)) {\n          ctx.channel = channel;\n          this.emit('leave', ctx);\n        }\n\n        return;\n      }\n\n      sub.emit('leave', ctx);\n    }\n  }, {\n    key: \"_handleUnsub\",\n    value: function _handleUnsub(channel, unsub) {\n      var ctx = {};\n\n      var sub = this._getSub(channel);\n\n      if (!sub) {\n        if (this._isServerSub(channel)) {\n          delete this._serverSubs[channel];\n          ctx.channel = channel;\n          this.emit('unsubscribe', ctx);\n        }\n\n        return;\n      }\n\n      sub.unsubscribe();\n\n      if (unsub.resubscribe === true) {\n        sub.subscribe();\n      }\n    }\n  }, {\n    key: \"_handleSub\",\n    value: function _handleSub(channel, sub) {\n      this._serverSubs[channel] = {\n        'seq': sub.seq,\n        'gen': sub.gen,\n        'offset': sub.offset,\n        'epoch': sub.epoch,\n        'recoverable': sub.recoverable\n      };\n      var ctx = {\n        'channel': channel,\n        isResubscribe: false\n      };\n      ctx = this._expandSubscribeContext(ctx, sub);\n      this.emit('subscribe', ctx);\n    }\n  }, {\n    key: \"_handlePublication\",\n    value: function _handlePublication(channel, pub) {\n      var sub = this._getSub(channel);\n\n      var ctx = {\n        'data': pub.data,\n        'seq': pub.seq,\n        'gen': pub.gen,\n        'offset': pub.offset\n      };\n\n      if (pub.info) {\n        ctx.info = pub.info;\n      }\n\n      if (!sub) {\n        if (this._isServerSub(channel)) {\n          if (pub.seq !== undefined) {\n            this._serverSubs[channel].seq = pub.seq;\n          }\n\n          if (pub.gen !== undefined) {\n            this._serverSubs[channel].gen = pub.gen;\n          }\n\n          if (pub.offset !== undefined) {\n            this._serverSubs[channel].offset = pub.offset;\n          }\n\n          ctx.channel = channel;\n          this.emit('publish', ctx);\n        }\n\n        return;\n      }\n\n      if (pub.seq !== undefined) {\n        this._lastSeq[channel] = pub.seq;\n      }\n\n      if (pub.gen !== undefined) {\n        this._lastGen[channel] = pub.gen;\n      }\n\n      if (pub.offset !== undefined) {\n        this._lastOffset[channel] = pub.offset;\n      }\n\n      sub.emit('publish', ctx);\n    }\n  }, {\n    key: \"_handleMessage\",\n    value: function _handleMessage(message) {\n      this.emit('message', message.data);\n    }\n  }, {\n    key: \"_handlePush\",\n    value: function _handlePush(data, next) {\n      var push = this._decoder.decodePush(data);\n\n      var type = 0;\n\n      if ('type' in push) {\n        type = push['type'];\n      }\n\n      var channel = push.channel;\n\n      if (type === this._pushType.PUBLICATION) {\n        var pub = this._decoder.decodePushData(this._pushType.PUBLICATION, push.data);\n\n        this._handlePublication(channel, pub);\n      } else if (type === this._pushType.MESSAGE) {\n        var message = this._decoder.decodePushData(this._pushType.MESSAGE, push.data);\n\n        this._handleMessage(message);\n      } else if (type === this._pushType.JOIN) {\n        var join = this._decoder.decodePushData(this._pushType.JOIN, push.data);\n\n        this._handleJoin(channel, join);\n      } else if (type === this._pushType.LEAVE) {\n        var leave = this._decoder.decodePushData(this._pushType.LEAVE, push.data);\n\n        this._handleLeave(channel, leave);\n      } else if (type === this._pushType.UNSUBSCRIBE) {\n        var unsub = this._decoder.decodePushData(this._pushType.UNSUBSCRIBE, push.data);\n\n        this._handleUnsub(channel, unsub);\n      } else if (type === this._pushType.SUBSCRIBE) {\n        var sub = this._decoder.decodePushData(this._pushType.UNSUBSCRIBE, push.data);\n\n        this._handleSub(channel, sub);\n      }\n\n      next();\n    }\n  }, {\n    key: \"_flush\",\n    value: function _flush() {\n      var messages = this._messages.slice(0);\n\n      this._messages = [];\n\n      this._transportSend(messages);\n    }\n  }, {\n    key: \"_ping\",\n    value: function _ping() {\n      var _this18 = this;\n\n      var msg = {\n        method: this._methodType.PING\n      };\n\n      this._call(msg).then(function (resolveCtx) {\n        _this18._pingResponse(_this18._decoder.decodeCommandResult(_this18._methodType.PING, resolveCtx.result));\n\n        if (resolveCtx.next) {\n          resolveCtx.next();\n        }\n      }, function (rejectCtx) {\n        _this18._debug('ping error', rejectCtx.error);\n\n        if (rejectCtx.next) {\n          rejectCtx.next();\n        }\n      });\n    }\n  }, {\n    key: \"_pingResponse\",\n    value: function _pingResponse(result) {\n      if (!this.isConnected()) {\n        return;\n      }\n\n      this._stopPing();\n\n      this._startPing();\n    }\n  }, {\n    key: \"_getLastSeq\",\n    value: function _getLastSeq(channel) {\n      var lastSeq = this._lastSeq[channel];\n\n      if (lastSeq) {\n        return lastSeq;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"_getLastOffset\",\n    value: function _getLastOffset(channel) {\n      var lastOffset = this._lastOffset[channel];\n\n      if (lastOffset) {\n        return lastOffset;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"_getLastGen\",\n    value: function _getLastGen(channel) {\n      var lastGen = this._lastGen[channel];\n\n      if (lastGen) {\n        return lastGen;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"_getLastEpoch\",\n    value: function _getLastEpoch(channel) {\n      var lastEpoch = this._lastEpoch[channel];\n\n      if (lastEpoch) {\n        return lastEpoch;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"_createErrorObject\",\n    value: function _createErrorObject(message, code) {\n      var errObject = {\n        message: message,\n        code: code || 0\n      };\n      return errObject;\n    }\n  }, {\n    key: \"_registerCall\",\n    value: function _registerCall(id, callback, errback) {\n      var _this19 = this;\n\n      this._callbacks[id] = {\n        callback: callback,\n        errback: errback,\n        timeout: null\n      };\n      this._callbacks[id].timeout = setTimeout(function () {\n        delete _this19._callbacks[id];\n\n        if ((0, _utils.isFunction)(errback)) {\n          errback({\n            error: _this19._createErrorObject(_errorTimeout)\n          });\n        }\n      }, this._config.timeout);\n    }\n  }, {\n    key: \"_addMessage\",\n    value: function _addMessage(message) {\n      var id = this._nextMessageId();\n\n      message.id = id;\n\n      if (this._isBatching === true) {\n        this._messages.push(message);\n      } else {\n        this._transportSend([message]);\n      }\n\n      return id;\n    }\n  }, {\n    key: \"isConnected\",\n    value: function isConnected() {\n      return this._isConnected();\n    }\n  }, {\n    key: \"connect\",\n    value: function connect() {\n      this._connect();\n    }\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this._disconnect('client', false);\n    }\n  }, {\n    key: \"ping\",\n    value: function ping() {\n      return this._ping();\n    }\n  }, {\n    key: \"startBatching\",\n    value: function startBatching() {\n      // start collecting messages without sending them to Centrifuge until flush\n      // method called\n      this._isBatching = true;\n    }\n  }, {\n    key: \"stopBatching\",\n    value: function stopBatching() {\n      this._isBatching = false;\n\n      this._flush();\n    }\n  }, {\n    key: \"startSubscribeBatching\",\n    value: function startSubscribeBatching() {\n      // start collecting private channels to create bulk authentication\n      // request to subscribeEndpoint when stopSubscribeBatching will be called\n      this._isSubscribeBatching = true;\n    }\n  }, {\n    key: \"stopSubscribeBatching\",\n    value: function stopSubscribeBatching() {\n      var _this20 = this;\n\n      // create request to subscribeEndpoint with collected private channels\n      // to ask if this client can subscribe on each channel\n      this._isSubscribeBatching = false;\n      var authChannels = this._privateChannels;\n      this._privateChannels = {};\n      var channels = [];\n\n      for (var channel in authChannels) {\n        if (authChannels.hasOwnProperty(channel)) {\n          var sub = this._getSub(channel);\n\n          if (!sub) {\n            continue;\n          }\n\n          channels.push(channel);\n        }\n      }\n\n      if (channels.length === 0) {\n        this._debug('no private channels found, no need to make request');\n\n        return;\n      }\n\n      var data = {\n        client: this._clientID,\n        channels: channels\n      };\n      var clientID = this._clientID;\n\n      var xhrID = this._newXHRID();\n\n      var cb = function cb(resp) {\n        if (xhrID in _this20._xhrs) {\n          delete _this20._xhrs[xhrID];\n        }\n\n        if (_this20._clientID !== clientID) {\n          return;\n        }\n\n        if (resp.error || resp.status !== 200) {\n          _this20._debug('authorization request failed');\n\n          for (var i in channels) {\n            if (channels.hasOwnProperty(i)) {\n              var _channel3 = channels[i];\n\n              _this20._subscribeError(_channel3, _this20._createErrorObject('authorization request failed'));\n            }\n          }\n\n          return;\n        }\n\n        var channelsData = {};\n\n        if (resp.data.channels) {\n          for (var _i in resp.data.channels) {\n            var channelData = resp.data.channels[_i];\n\n            if (!channelData.channel) {\n              continue;\n            }\n\n            channelsData[channelData.channel] = channelData.token;\n          }\n        } // try to send all subscriptions in one request.\n\n\n        var batch = false;\n\n        if (!_this20._isBatching) {\n          _this20.startBatching();\n\n          batch = true;\n        }\n\n        for (var _i2 in channels) {\n          if (channels.hasOwnProperty(_i2)) {\n            var _ret = function () {\n              var channel = channels[_i2];\n              var token = channelsData[channel];\n\n              if (!token) {\n                // subscription:error\n                _this20._subscribeError(channel, _this20._createErrorObject('permission denied', 103));\n\n                return \"continue\";\n              } else {\n                var msg = {\n                  method: _this20._methodType.SUBSCRIBE,\n                  params: {\n                    channel: channel,\n                    token: token\n                  }\n                };\n\n                var _sub2 = _this20._getSub(channel);\n\n                if (_sub2 === null) {\n                  return \"continue\";\n                }\n\n                var recover = _sub2._needRecover();\n\n                if (recover === true) {\n                  msg.params.recover = true;\n\n                  var seq = _this20._getLastSeq(channel);\n\n                  var gen = _this20._getLastGen(channel);\n\n                  if (seq || gen) {\n                    if (seq) {\n                      msg.params.seq = seq;\n                    }\n\n                    if (gen) {\n                      msg.params.gen = gen;\n                    }\n                  } else {\n                    var offset = _this20._getLastOffset(channel);\n\n                    if (offset) {\n                      msg.params.offset = offset;\n                    }\n                  }\n\n                  var epoch = _this20._getLastEpoch(channel);\n\n                  if (epoch) {\n                    msg.params.epoch = epoch;\n                  }\n                }\n\n                _this20._call(msg).then(function (resolveCtx) {\n                  _this20._subscribeResponse(channel, recover, _this20._decoder.decodeCommandResult(_this20._methodType.SUBSCRIBE, resolveCtx.result));\n\n                  if (resolveCtx.next) {\n                    resolveCtx.next();\n                  }\n                }, function (rejectCtx) {\n                  _this20._subscribeError(channel, rejectCtx.error);\n\n                  if (rejectCtx.next) {\n                    rejectCtx.next();\n                  }\n                });\n              }\n            }();\n\n            if (_ret === \"continue\") continue;\n          }\n        }\n\n        if (batch) {\n          _this20.stopBatching();\n        }\n      };\n\n      if (this._config.onPrivateSubscribe !== null) {\n        this._config.onPrivateSubscribe({\n          data: data\n        }, cb);\n      } else {\n        var xhr = this._ajax(this._config.subscribeEndpoint, this._config.subscribeParams, this._config.subscribeHeaders, data, cb);\n\n        this._xhrs[xhrID] = xhr;\n      }\n    }\n  }, {\n    key: \"_setSubscribeSince\",\n    value: function _setSubscribeSince(sub, since) {\n      this._lastOffset[sub.channel] = since.offset;\n      this._lastEpoch[sub.channel] = since.epoch;\n\n      sub._setNeedRecover(true);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(channel, events, opts) {\n      var currentSub = this._getSub(channel);\n\n      if (currentSub !== null) {\n        currentSub._setEvents(events);\n\n        if (currentSub._isUnsubscribed()) {\n          currentSub.subscribe(opts);\n        }\n\n        return currentSub;\n      }\n\n      var sub = new _subscription[\"default\"](this, channel, events);\n      this._subs[channel] = sub;\n      sub.subscribe(opts);\n      return sub;\n    }\n  }]);\n\n  return Centrifuge;\n}(_events[\"default\"]);\n\nexports.Centrifuge = Centrifuge;\n\n/***/ }),\n\n/***/ 579:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n\nvar _centrifuge = __webpack_require__(382);\n\nvar _default = _centrifuge.Centrifuge;\nexports[\"default\"] = _default;\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.JsonPushType = exports.JsonMethodType = exports.JsonEncoder = exports.JsonDecoder = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar JsonMethodType = {\n  CONNECT: 0,\n  SUBSCRIBE: 1,\n  UNSUBSCRIBE: 2,\n  PUBLISH: 3,\n  PRESENCE: 4,\n  PRESENCE_STATS: 5,\n  HISTORY: 6,\n  PING: 7,\n  SEND: 8,\n  RPC: 9,\n  REFRESH: 10,\n  SUB_REFRESH: 11\n};\nexports.JsonMethodType = JsonMethodType;\nvar JsonPushType = {\n  PUBLICATION: 0,\n  JOIN: 1,\n  LEAVE: 2,\n  UNSUBSCRIBE: 3,\n  MESSAGE: 4,\n  SUBSCRIBE: 5\n};\nexports.JsonPushType = JsonPushType;\n\nvar JsonEncoder = /*#__PURE__*/function () {\n  function JsonEncoder() {\n    _classCallCheck(this, JsonEncoder);\n  }\n\n  _createClass(JsonEncoder, [{\n    key: \"encodeCommands\",\n    value: function encodeCommands(commands) {\n      return commands.map(function (c) {\n        return JSON.stringify(c);\n      }).join('\\n');\n    }\n  }]);\n\n  return JsonEncoder;\n}();\n\nexports.JsonEncoder = JsonEncoder;\n\nvar JsonDecoder = /*#__PURE__*/function () {\n  function JsonDecoder() {\n    _classCallCheck(this, JsonDecoder);\n  }\n\n  _createClass(JsonDecoder, [{\n    key: \"decodeReplies\",\n    value: function decodeReplies(data) {\n      return data.split('\\n').filter(function (r) {\n        return r !== '';\n      }).map(function (r) {\n        return JSON.parse(r);\n      });\n    }\n  }, {\n    key: \"decodeCommandResult\",\n    value: function decodeCommandResult(methodType, data) {\n      return data;\n    }\n  }, {\n    key: \"decodePush\",\n    value: function decodePush(data) {\n      return data;\n    }\n  }, {\n    key: \"decodePushData\",\n    value: function decodePushData(pushType, data) {\n      return data;\n    }\n  }]);\n\n  return JsonDecoder;\n}();\n\nexports.JsonDecoder = JsonDecoder;\n\n/***/ }),\n\n/***/ 471:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n\nvar _events = _interopRequireDefault(__webpack_require__(187));\n\nvar _utils = __webpack_require__(853);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar _STATE_NEW = 0;\nvar _STATE_SUBSCRIBING = 1;\nvar _STATE_SUCCESS = 2;\nvar _STATE_ERROR = 3;\nvar _STATE_UNSUBSCRIBED = 4;\n\nvar Subscription = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(Subscription, _EventEmitter);\n\n  var _super = _createSuper(Subscription);\n\n  function Subscription(centrifuge, channel, events) {\n    var _this;\n\n    _classCallCheck(this, Subscription);\n\n    _this = _super.call(this);\n    _this.channel = channel;\n    _this._centrifuge = centrifuge;\n    _this._status = _STATE_NEW;\n    _this._error = null;\n    _this._isResubscribe = false;\n    _this._ready = false;\n    _this._subscriptionPromise = null;\n    _this._noResubscribe = false;\n    _this._recoverable = false;\n    _this._recover = false;\n\n    _this._setEvents(events);\n\n    _this._initializePromise();\n\n    _this._promises = {};\n    _this._promiseId = 0;\n    _this._subscribeData = null;\n\n    _this.on('error', function (errContext) {\n      this._centrifuge._debug('subscription error', errContext);\n    });\n\n    return _this;\n  }\n\n  _createClass(Subscription, [{\n    key: \"_nextPromiseId\",\n    value: function _nextPromiseId() {\n      return ++this._promiseId;\n    }\n  }, {\n    key: \"_initializePromise\",\n    value: function _initializePromise() {\n      var _this2 = this;\n\n      // this helps us to wait until subscription will successfully\n      // subscribe and call actions such as presence, history etc in\n      // synchronous way.\n      this._ready = false;\n      this._subscriptionPromise = new Promise(function (resolve, reject) {\n        _this2._resolve = function (value) {\n          _this2._ready = true;\n          resolve(value);\n        };\n\n        _this2._reject = function (err) {\n          _this2._ready = true;\n          reject(err);\n        };\n      }).then(function () {}, function () {});\n    }\n  }, {\n    key: \"_setNeedRecover\",\n    value: function _setNeedRecover(enabled) {\n      this._recoverable = enabled;\n      this._recover = enabled;\n    }\n  }, {\n    key: \"_needRecover\",\n    value: function _needRecover() {\n      return this._recoverable === true && this._recover === true;\n    }\n  }, {\n    key: \"_setEvents\",\n    value: function _setEvents(events) {\n      if (!events) {\n        return;\n      }\n\n      if ((0, _utils.isFunction)(events)) {\n        // events is just a function to handle publication received from channel.\n        this.on('publish', events);\n      } else if (Object.prototype.toString.call(events) === Object.prototype.toString.call({})) {\n        var knownEvents = ['publish', 'join', 'leave', 'unsubscribe', 'subscribe', 'error'];\n\n        for (var i = 0, l = knownEvents.length; i < l; i++) {\n          var ev = knownEvents[i];\n\n          if (ev in events) {\n            this.on(ev, events[ev]);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_isNew\",\n    value: function _isNew() {\n      return this._status === _STATE_NEW;\n    }\n  }, {\n    key: \"_isUnsubscribed\",\n    value: function _isUnsubscribed() {\n      return this._status === _STATE_UNSUBSCRIBED;\n    }\n  }, {\n    key: \"_isSubscribing\",\n    value: function _isSubscribing() {\n      return this._status === _STATE_SUBSCRIBING;\n    }\n  }, {\n    key: \"_isReady\",\n    value: function _isReady() {\n      return this._status === _STATE_SUCCESS || this._status === _STATE_ERROR;\n    }\n  }, {\n    key: \"_isSuccess\",\n    value: function _isSuccess() {\n      return this._status === _STATE_SUCCESS;\n    }\n  }, {\n    key: \"_isError\",\n    value: function _isError() {\n      return this._status === _STATE_ERROR;\n    }\n  }, {\n    key: \"_setNew\",\n    value: function _setNew() {\n      this._status = _STATE_NEW;\n    }\n  }, {\n    key: \"_setSubscribing\",\n    value: function _setSubscribing(isResubscribe) {\n      this._isResubscribe = isResubscribe || false;\n\n      if (this._ready === true) {\n        // new promise for this subscription\n        this._initializePromise();\n      }\n\n      this._status = _STATE_SUBSCRIBING;\n    }\n  }, {\n    key: \"_setSubscribeSuccess\",\n    value: function _setSubscribeSuccess(subscribeResult) {\n      if (this._status === _STATE_SUCCESS) {\n        return;\n      }\n\n      this._status = _STATE_SUCCESS;\n\n      var successContext = this._getSubscribeSuccessContext(subscribeResult);\n\n      this._recover = false;\n      this.emit('subscribe', successContext);\n\n      this._resolve(successContext);\n\n      for (var id in this._promises) {\n        clearTimeout(this._promises[id].timeout);\n\n        this._promises[id].resolve();\n\n        delete this._promises[id];\n      }\n    }\n  }, {\n    key: \"_setSubscribeError\",\n    value: function _setSubscribeError(err) {\n      if (this._status === _STATE_ERROR) {\n        return;\n      }\n\n      this._status = _STATE_ERROR;\n      this._error = err;\n\n      var errContext = this._getSubscribeErrorContext();\n\n      this.emit('error', errContext);\n\n      this._reject(errContext);\n\n      for (var id in this._promises) {\n        clearTimeout(this._promises[id].timeout);\n\n        this._promises[id].reject(err);\n\n        delete this._promises[id];\n      }\n    }\n  }, {\n    key: \"_triggerUnsubscribe\",\n    value: function _triggerUnsubscribe() {\n      this.emit('unsubscribe', {\n        channel: this.channel\n      });\n    }\n  }, {\n    key: \"_setUnsubscribed\",\n    value: function _setUnsubscribed(noResubscribe) {\n      this._centrifuge._clearSubRefreshTimeout(this.channel);\n\n      if (this._status === _STATE_UNSUBSCRIBED) {\n        return;\n      }\n\n      var needTrigger = this._status === _STATE_SUCCESS;\n      this._status = _STATE_UNSUBSCRIBED;\n\n      if (noResubscribe === true) {\n        this._recover = false;\n        this._noResubscribe = true;\n        delete this._centrifuge._lastSeq[this.channel];\n        delete this._centrifuge._lastGen[this.channel];\n        delete this._centrifuge._lastEpoch[this.channel];\n      }\n\n      if (needTrigger) {\n        this._triggerUnsubscribe();\n      }\n    }\n  }, {\n    key: \"_shouldResubscribe\",\n    value: function _shouldResubscribe() {\n      return !this._noResubscribe;\n    }\n  }, {\n    key: \"_getSubscribeSuccessContext\",\n    value: function _getSubscribeSuccessContext(subscribeResult) {\n      var ctx = {\n        channel: this.channel,\n        isResubscribe: this._isResubscribe\n      };\n\n      if (subscribeResult) {\n        // subscribeResult not available when called from Subscription.ready method at the moment.\n        ctx = this._centrifuge._expandSubscribeContext(ctx, subscribeResult);\n      }\n\n      return ctx;\n    }\n  }, {\n    key: \"_getSubscribeErrorContext\",\n    value: function _getSubscribeErrorContext() {\n      var subscribeErrorContext = this._error;\n      subscribeErrorContext.channel = this.channel;\n      subscribeErrorContext.isResubscribe = this._isResubscribe;\n      return subscribeErrorContext;\n    }\n  }, {\n    key: \"_setSubscribeData\",\n    value: function _setSubscribeData(data) {\n      this._subscribeData = data;\n    }\n  }, {\n    key: \"ready\",\n    value: function ready(callback, errback) {\n      if (this._ready) {\n        if (this._isSuccess()) {\n          callback(this._getSubscribeSuccessContext());\n        } else {\n          errback(this._getSubscribeErrorContext());\n        }\n      }\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(opts) {\n      if (this._status === _STATE_SUCCESS) {\n        return;\n      }\n\n      if (opts && opts.since) {\n        this._centrifuge._setSubscribeSince(this, opts.since);\n      }\n\n      if (opts && opts.data) {\n        this._setSubscribeData(opts.data);\n      }\n\n      this._noResubscribe = false;\n\n      this._centrifuge._subscribe(this);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this._setUnsubscribed(true);\n\n      this._centrifuge._unsubscribe(this);\n    }\n  }, {\n    key: \"_methodCall\",\n    value: function _methodCall() {\n      var _this3 = this;\n\n      if (this._isSuccess()) {\n        return Promise.resolve();\n      } else if (this._isError()) {\n        return Promise.reject(this._error);\n      }\n\n      var subPromise = new Promise(function (res, rej) {\n        var timeout = setTimeout(function () {\n          rej({\n            'code': 0,\n            'message': 'timeout'\n          });\n        }, _this3._centrifuge._config.timeout);\n        _this3._promises[_this3._nextPromiseId()] = {\n          timeout: timeout,\n          resolve: res,\n          reject: rej\n        };\n      });\n      return subPromise;\n    }\n  }, {\n    key: \"publish\",\n    value: function publish(data) {\n      var self = this;\n      return this._methodCall().then(function () {\n        return self._centrifuge.publish(self.channel, data);\n      });\n    }\n  }, {\n    key: \"presence\",\n    value: function presence() {\n      var self = this;\n      return this._methodCall().then(function () {\n        return self._centrifuge.presence(self.channel);\n      });\n    }\n  }, {\n    key: \"presenceStats\",\n    value: function presenceStats() {\n      var self = this;\n      return this._methodCall().then(function () {\n        return self._centrifuge.presenceStats(self.channel);\n      });\n    }\n  }, {\n    key: \"history\",\n    value: function history(options) {\n      var self = this;\n      return this._methodCall().then(function () {\n        return self._centrifuge.history(self.channel, options);\n      });\n    }\n  }]);\n\n  return Subscription;\n}(_events[\"default\"]);\n\nexports[\"default\"] = Subscription;\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n\n/***/ 853:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.backoff = backoff;\nexports.errorExists = errorExists;\nexports.extend = extend;\nexports.isFunction = isFunction;\nexports.log = log;\nexports.startsWith = startsWith;\n\nfunction startsWith(value, prefix) {\n  return value.lastIndexOf(prefix, 0) === 0;\n}\n\n;\n\nfunction isFunction(value) {\n  if (value === undefined || value === null) {\n    return false;\n  }\n\n  return typeof value === 'function';\n}\n\n;\n\nfunction log(level, args) {\n  if (__webpack_require__.g.console) {\n    var logger = __webpack_require__.g.console[level];\n\n    if (isFunction(logger)) {\n      logger.apply(__webpack_require__.g.console, args);\n    }\n  }\n}\n\n;\n\nfunction backoff(step, min, max) {\n  var jitter = 0.5 * Math.random();\n  var interval = Math.min(max, min * Math.pow(2, step + 1));\n  return Math.floor((1 - jitter) * interval);\n}\n\n;\n\nfunction errorExists(data) {\n  return 'error' in data && data.error !== null;\n}\n\n;\n\nfunction extend(a, b) {\n  for (var key in b) {\n    if (b.hasOwnProperty(key)) {\n      a[key] = b[key];\n    }\n  }\n\n  return a;\n}\n\n;\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module) {\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/global */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.g = (function() {\n/******/ \t\t\tif (typeof globalThis === 'object') return globalThis;\n/******/ \t\t\ttry {\n/******/ \t\t\t\treturn this || new Function('return this')();\n/******/ \t\t\t} catch (e) {\n/******/ \t\t\t\tif (typeof window === 'object') return window;\n/******/ \t\t\t}\n/******/ \t\t})();\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(579);\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n"],"mappings":"AAAA,CAAC,SAASA,gCAAT,CAA0CC,IAA1C,EAAgDC,OAAhD,EAAyD;EACzD,IAAG,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,QAApD,EACCA,MAAM,CAACD,OAAP,GAAiBD,OAAO,EAAxB,CADD,KAEK,IAAG,OAAOG,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA1C,EACJD,MAAM,CAAC,YAAD,EAAe,EAAf,EAAmBH,OAAnB,CAAN,CADI,KAEA,IAAG,OAAOC,OAAP,KAAmB,QAAtB,EACJA,OAAO,CAAC,YAAD,CAAP,GAAwBD,OAAO,EAA/B,CADI,KAGJD,IAAI,CAAC,YAAD,CAAJ,GAAqBC,OAAO,EAA5B;AACD,CATD,EASG,IATH,EASS,YAAW;EACpB;IAAO;IAAU,YAAW;MAAE;;MAC9B;MAAU;MACV;;MAAU,IAAIK,mBAAmB,GAAI;QAErC;QAAM;QACN;QAAO,UAASC,uBAAT,EAAkCL,OAAlC,EAA2CM,mBAA3C,EAAgE;UAIvEC,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA8C;YAC5CS,KAAK,EAAE;UADqC,CAA9C;UAGAT,OAAO,CAACU,UAAR,GAAqB,KAAK,CAA1B;;UAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACN,mBAAmB,CAAC,GAAD,CAApB,CAApC;;UAEA,IAAIO,aAAa,GAAGD,sBAAsB,CAACN,mBAAmB,CAAC,GAAD,CAApB,CAA1C;;UAEA,IAAIQ,KAAK,GAAGR,mBAAmB,CAAC,GAAD,CAA/B;;UAEA,IAAIS,MAAM,GAAGT,mBAAmB,CAAC,GAAD,CAAhC;;UAEA,SAASM,sBAAT,CAAgCI,GAAhC,EAAqC;YAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;cAAE,WAAWA;YAAb,CAArC;UAA0D;;UAEjG,SAASE,OAAT,CAAiBF,GAAjB,EAAsB;YAAE;;YAA2B,IAAI,OAAOG,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;cAAEF,OAAO,GAAG,SAASA,OAAT,CAAiBF,GAAjB,EAAsB;gBAAE,OAAO,OAAOA,GAAd;cAAoB,CAAtD;YAAyD,CAApI,MAA0I;cAAEE,OAAO,GAAG,SAASA,OAAT,CAAiBF,GAAjB,EAAsB;gBAAE,OAAOA,GAAG,IAAI,OAAOG,MAAP,KAAkB,UAAzB,IAAuCH,GAAG,CAACK,WAAJ,KAAoBF,MAA3D,IAAqEH,GAAG,KAAKG,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAON,GAAzH;cAA+H,CAAjK;YAAoK;;YAAC,OAAOE,OAAO,CAACF,GAAD,CAAd;UAAsB;;UAE1X,SAASO,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;YAAE,IAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;cAAE,MAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;YAA2D;UAAE;;UAEzJ,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;YAAE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;cAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;cAA2BE,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;cAAwDD,UAAU,CAACE,YAAX,GAA0B,IAA1B;cAAgC,IAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;cAA4B5B,MAAM,CAACC,cAAP,CAAsBoB,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;YAA4D;UAAE;;UAE7T,SAASK,YAAT,CAAsBZ,WAAtB,EAAmCa,UAAnC,EAA+CC,WAA/C,EAA4D;YAAE,IAAID,UAAJ,EAAgBX,iBAAiB,CAACF,WAAW,CAACH,SAAb,EAAwBgB,UAAxB,CAAjB;YAAsD,IAAIC,WAAJ,EAAiBZ,iBAAiB,CAACF,WAAD,EAAcc,WAAd,CAAjB;YAA6C,OAAOd,WAAP;UAAqB;;UAEvN,SAASe,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;YAAE,IAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;cAAE,MAAM,IAAIhB,SAAJ,CAAc,oDAAd,CAAN;YAA4E;;YAACe,QAAQ,CAACnB,SAAT,GAAqBf,MAAM,CAACoC,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACpB,SAAvC,EAAkD;cAAED,WAAW,EAAE;gBAAEZ,KAAK,EAAEgC,QAAT;gBAAmBN,QAAQ,EAAE,IAA7B;gBAAmCD,YAAY,EAAE;cAAjD;YAAf,CAAlD,CAArB;YAAkJ,IAAIQ,UAAJ,EAAgBE,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;UAAwC;;UAEjY,SAASE,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;YAAEF,eAAe,GAAGrC,MAAM,CAACwC,cAAP,IAAyB,SAASH,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;cAAED,CAAC,CAACG,SAAF,GAAcF,CAAd;cAAiB,OAAOD,CAAP;YAAW,CAAxG;;YAA0G,OAAOD,eAAe,CAACC,CAAD,EAAIC,CAAJ,CAAtB;UAA+B;;UAE1K,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;YAAE,IAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;YAA6D,OAAO,SAASC,oBAAT,GAAgC;cAAE,IAAIC,KAAK,GAAGC,eAAe,CAACL,OAAD,CAA3B;cAAA,IAAsCM,MAAtC;;cAA8C,IAAIL,yBAAJ,EAA+B;gBAAE,IAAIM,SAAS,GAAGF,eAAe,CAAC,IAAD,CAAf,CAAsBlC,WAAtC;;gBAAmDmC,MAAM,GAAGE,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBM,SAAzB,EAAoCH,SAApC,CAAT;cAA0D,CAA9I,MAAoJ;gBAAED,MAAM,GAAGF,KAAK,CAACO,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;cAAwC;;cAAC,OAAOE,0BAA0B,CAAC,IAAD,EAAON,MAAP,CAAjC;YAAkD,CAAxU;UAA2U;;UAEza,SAASM,0BAAT,CAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;YAAE,IAAIA,IAAI,KAAK9C,OAAO,CAAC8C,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;cAAE,OAAOA,IAAP;YAAc,CAAxF,MAA8F,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;cAAE,MAAM,IAAItC,SAAJ,CAAc,0DAAd,CAAN;YAAkF;;YAAC,OAAOuC,sBAAsB,CAACF,IAAD,CAA7B;UAAsC;;UAEhS,SAASE,sBAAT,CAAgCF,IAAhC,EAAsC;YAAE,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;cAAE,MAAM,IAAIG,cAAJ,CAAmB,2DAAnB,CAAN;YAAwF;;YAAC,OAAOH,IAAP;UAAc;;UAEtK,SAASX,yBAAT,GAAqC;YAAE,IAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;YAAc,IAAID,OAAO,CAACC,SAAR,CAAkBQ,IAAtB,EAA4B,OAAO,KAAP;YAAc,IAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;YAAa,IAAI;cAAEC,OAAO,CAAC/C,SAAR,CAAkBgD,OAAlB,CAA0BN,IAA1B,CAA+BN,OAAO,CAACC,SAAR,CAAkBU,OAAlB,EAA2B,EAA3B,EAA+B,YAAY,CAAE,CAA7C,CAA/B;cAAgF,OAAO,IAAP;YAAc,CAApG,CAAqG,OAAOE,CAAP,EAAU;cAAE,OAAO,KAAP;YAAe;UAAE;;UAEzU,SAAShB,eAAT,CAAyBV,CAAzB,EAA4B;YAAEU,eAAe,GAAGhD,MAAM,CAACwC,cAAP,GAAwBxC,MAAM,CAACiE,cAA/B,GAAgD,SAASjB,eAAT,CAAyBV,CAAzB,EAA4B;cAAE,OAAOA,CAAC,CAACG,SAAF,IAAezC,MAAM,CAACiE,cAAP,CAAsB3B,CAAtB,CAAtB;YAAiD,CAAjJ;YAAmJ,OAAOU,eAAe,CAACV,CAAD,CAAtB;UAA4B;;UAE7M,IAAI4B,aAAa,GAAG,SAApB;UACA,IAAIC,sBAAsB,GAAG,mBAA7B;;UAEA,IAAIhE,UAAU,GAAG,aAAa,UAAUiE,aAAV,EAAyB;YACrDnC,SAAS,CAAC9B,UAAD,EAAaiE,aAAb,CAAT;;YAEA,IAAIC,MAAM,GAAG3B,YAAY,CAACvC,UAAD,CAAzB;;YAEA,SAASA,UAAT,CAAoBmE,GAApB,EAAyBC,OAAzB,EAAkC;cAChC,IAAIC,KAAJ;;cAEAxD,eAAe,CAAC,IAAD,EAAOb,UAAP,CAAf;;cAEAqE,KAAK,GAAGH,MAAM,CAACZ,IAAP,CAAY,IAAZ,CAAR;cACAe,KAAK,CAACC,IAAN,GAAaH,GAAb;cACAE,KAAK,CAACE,UAAN,GAAmB,IAAnB;cACAF,KAAK,CAACG,OAAN,GAAgB,IAAhB;cACAH,KAAK,CAACI,SAAN,GAAkB,KAAlB;cACAJ,KAAK,CAACK,eAAN,GAAwB,IAAxB;cACAL,KAAK,CAACM,OAAN,GAAgB,KAAhB;cACAN,KAAK,CAACO,WAAN,GAAoB,IAApB;cACAP,KAAK,CAACQ,SAAN,GAAkB,IAAlB;cACAR,KAAK,CAACS,QAAN,GAAiB,IAAjB;cACAT,KAAK,CAACU,QAAN,GAAiB,IAAjB;cACAV,KAAK,CAACW,OAAN,GAAgB,cAAhB;cACAX,KAAK,CAACY,UAAN,GAAmB,IAAnB;cACAZ,KAAK,CAACa,aAAN,GAAsB,KAAtB;cACAb,KAAK,CAACc,UAAN,GAAmB,IAAnB;cACAd,KAAK,CAACe,cAAN,GAAuB,IAAvB;cACAf,KAAK,CAACgB,gBAAN,GAAyB,IAAzB;cACAhB,KAAK,CAACiB,UAAN,GAAmB,CAAnB;cACAjB,KAAK,CAACkB,SAAN,GAAkB,IAAlB;cACAlB,KAAK,CAACmB,gBAAN,GAAyB,KAAzB;cACAnB,KAAK,CAACoB,KAAN,GAAc,EAAd;cACApB,KAAK,CAACqB,WAAN,GAAoB,EAApB;cACArB,KAAK,CAACsB,QAAN,GAAiB,EAAjB;cACAtB,KAAK,CAACuB,QAAN,GAAiB,EAAjB;cACAvB,KAAK,CAACwB,WAAN,GAAoB,EAApB;cACAxB,KAAK,CAACyB,UAAN,GAAmB,EAAnB;cACAzB,KAAK,CAAC0B,SAAN,GAAkB,EAAlB;cACA1B,KAAK,CAAC2B,WAAN,GAAoB,KAApB;cACA3B,KAAK,CAAC4B,oBAAN,GAA6B,KAA7B;cACA5B,KAAK,CAAC6B,gBAAN,GAAyB,EAAzB;cACA7B,KAAK,CAAC8B,iBAAN,GAA0B,CAA1B;cACA9B,KAAK,CAAC+B,eAAN,GAAwB,IAAxB;cACA/B,KAAK,CAACgC,YAAN,GAAqB,IAArB;cACAhC,KAAK,CAACiC,YAAN,GAAqB,IAArB;cACAjC,KAAK,CAACkC,mBAAN,GAA4B,EAA5B;cACAlC,KAAK,CAACmC,QAAN,GAAiB,CAAjB;cACAnC,KAAK,CAACoC,UAAN,GAAmB,EAAnB;cACApC,KAAK,CAACqC,QAAN,GAAiB,IAAjB;cACArC,KAAK,CAACsC,aAAN,GAAsB,IAAtB;cACAtC,KAAK,CAACuC,YAAN,GAAqB,IAArB;cACAvC,KAAK,CAACwC,MAAN,GAAe,IAAf;cACAxC,KAAK,CAACyC,MAAN,GAAe,CAAf;cACAzC,KAAK,CAAC0C,KAAN,GAAc,EAAd;cACA1C,KAAK,CAAC2C,gBAAN,GAAyBC,OAAO,CAACC,OAAR,EAAzB;cACA7C,KAAK,CAAC8C,SAAN,GAAkB,EAAlB;cACA9C,KAAK,CAAC+C,OAAN,GAAgB;gBACdC,QAAQ,EAAE,EADI;gBAEdC,KAAK,EAAE,KAFO;gBAGdC,IAAI,EAAE,IAHQ;gBAIdC,OAAO,EAAE,EAJK;gBAKdC,SAAS,EAAE,IALG;gBAMdC,MAAM,EAAE,IANM;gBAOdC,cAAc,EAAE,IAPF;gBAQdC,QAAQ,EAAE,IARI;gBASdC,QAAQ,EAAE,KATI;gBAUdC,OAAO,EAAE,IAVK;gBAWdC,IAAI,EAAE,IAXQ;gBAYdC,YAAY,EAAE,KAZA;gBAadC,eAAe,EAAE,IAbH;gBAcdC,oBAAoB,EAAE,GAdR;gBAedC,gBAAgB,EAAE,IAfJ;gBAgBdC,YAAY,EAAE,IAhBA;gBAiBdC,aAAa,EAAE,IAjBD;gBAkBdC,gBAAgB,EAAE,CAAC,WAAD,EAAc,eAAd,EAA+B,eAA/B,EAAgD,aAAhD,EAA+D,oBAA/D,EAAqF,iBAArF,EAAwG,aAAxG,EAAuH,aAAvH,EAAsI,oBAAtI,EAA4J,eAA5J,CAlBJ;gBAmBdC,eAAe,EAAE,qBAnBH;gBAoBdC,cAAc,EAAE,EApBF;gBAqBdC,aAAa,EAAE,EArBD;gBAsBdC,WAAW,EAAE,EAtBC;gBAuBdC,eAAe,EAAE,IAvBH;gBAwBdC,eAAe,EAAE,IAxBH;gBAyBdC,eAAe,EAAE,IAzBH;gBA0BdC,SAAS,EAAE,IA1BG;gBA2BdC,iBAAiB,EAAE,uBA3BL;gBA4BdC,gBAAgB,EAAE,EA5BJ;gBA6BdC,eAAe,EAAE,EA7BH;gBA8BdC,kBAAkB,EAAE,IA9BN;gBA+BdC,kBAAkB,EAAE,IA/BN;gBAgCdC,sBAAsB,EAAE;cAhCV,CAAhB;;cAmCA/E,KAAK,CAACgF,UAAN,CAAiBjF,OAAjB;;cAEA,OAAOC,KAAP;YACD;;YAED1C,YAAY,CAAC3B,UAAD,EAAa,CAAC;cACxB0B,GAAG,EAAE,UADmB;cAExB3B,KAAK,EAAE,SAASuJ,QAAT,CAAkBC,KAAlB,EAAyB;gBAC9B,KAAK1C,MAAL,GAAc0C,KAAd;cACD;YAJuB,CAAD,EAKtB;cACD7H,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAASyJ,cAAT,CAAwBC,IAAxB,EAA8B;gBACnC,KAAK7C,YAAL,GAAoB6C,IAApB;cACD;YAJA,CALsB,EAUtB;cACD/H,GAAG,EAAE,mBADJ;cAED3B,KAAK,EAAE,SAAS2J,iBAAT,CAA2BC,OAA3B,EAAoC;gBACzC,KAAKvC,OAAL,CAAaoB,cAAb,GAA8BmB,OAA9B;cACD;YAJA,CAVsB,EAetB;cACDjI,GAAG,EAAE,kBADJ;cAED3B,KAAK,EAAE,SAAS6J,gBAAT,CAA0BC,MAA1B,EAAkC;gBACvC,KAAKzC,OAAL,CAAaqB,aAAb,GAA6BoB,MAA7B;cACD;YAJA,CAfsB,EAoBtB;cACDnI,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAAS+J,cAAT,CAAwBL,IAAxB,EAA8B;gBACnC,KAAKrC,OAAL,CAAasB,WAAb,GAA2Be,IAA3B;cACD;YAJA,CApBsB,EAyBtB;cACD/H,GAAG,EAAE,qBADJ;cAED3B,KAAK,EAAE,SAASgK,mBAAT,CAA6BJ,OAA7B,EAAsC;gBAC3C,KAAKvC,OAAL,CAAa4B,gBAAb,GAAgCW,OAAhC;cACD;YAJA,CAzBsB,EA8BtB;cACDjI,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAASiK,kBAAT,CAA4BH,MAA5B,EAAoC;gBACzC,KAAKzC,OAAL,CAAa6B,eAAb,GAA+BY,MAA/B;cACD;YAJA,CA9BsB,EAmCtB;cACDnI,GAAG,EAAE,OADJ;cAED3B,KAAK,EAAE,SAASkK,KAAT,CAAe9F,GAAf,EAAoB0F,MAApB,EAA4BF,OAA5B,EAAqCF,IAArC,EAA2CS,QAA3C,EAAqD;gBAC1D,IAAIC,MAAM,GAAG,IAAb;;gBAEA,IAAIC,KAAK,GAAG,EAAZ;;gBAEA,KAAKC,MAAL,CAAY,yBAAZ,EAAuClG,GAAvC,EAA4C,WAA5C,EAAyDmG,IAAI,CAACC,SAAL,CAAed,IAAf,CAAzD;;gBAEA,IAAIe,GAAJ;;gBAEA,IAAI,KAAK9F,eAAL,KAAyB,IAA7B,EAAmC;kBACjC;kBACA8F,GAAG,GAAG,IAAI,KAAK9F,eAAT,EAAN;gBACD,CAHD,MAGO;kBACL8F,GAAG,GAAG5K,mBAAmB,CAAC6K,CAApB,CAAsBC,cAAtB,GAAuC,IAAI9K,mBAAmB,CAAC6K,CAApB,CAAsBC,cAA1B,EAAvC,GAAoF,IAAI9K,mBAAmB,CAAC6K,CAApB,CAAsBE,aAA1B,CAAwC,mBAAxC,CAA1F;gBACD;;gBAED,KAAK,IAAIvJ,CAAT,IAAcyI,MAAd,EAAsB;kBACpB,IAAIA,MAAM,CAACe,cAAP,CAAsBxJ,CAAtB,CAAJ,EAA8B;oBAC5B,IAAIgJ,KAAK,CAAC/I,MAAN,GAAe,CAAnB,EAAsB;sBACpB+I,KAAK,IAAI,GAAT;oBACD;;oBAEDA,KAAK,IAAIS,kBAAkB,CAACzJ,CAAD,CAAlB,GAAwB,GAAxB,GAA8ByJ,kBAAkB,CAAChB,MAAM,CAACzI,CAAD,CAAP,CAAzD;kBACD;gBACF;;gBAED,IAAIgJ,KAAK,CAAC/I,MAAN,GAAe,CAAnB,EAAsB;kBACpB+I,KAAK,GAAG,MAAMA,KAAd;gBACD;;gBAEDI,GAAG,CAACM,IAAJ,CAAS,MAAT,EAAiB3G,GAAG,GAAGiG,KAAvB,EAA8B,IAA9B;;gBAEA,IAAI,qBAAqBI,GAAzB,EAA8B;kBAC5BA,GAAG,CAACO,eAAJ,GAAsB,CAAC,KAAK3D,OAAL,CAAagC,sBAApC;gBACD;;gBAEDoB,GAAG,CAACQ,gBAAJ,CAAqB,kBAArB,EAAyC,gBAAzC;gBACAR,GAAG,CAACQ,gBAAJ,CAAqB,cAArB,EAAqC,kBAArC;;gBAEA,KAAK,IAAIC,UAAT,IAAuBtB,OAAvB,EAAgC;kBAC9B,IAAIA,OAAO,CAACiB,cAAR,CAAuBK,UAAvB,CAAJ,EAAwC;oBACtCT,GAAG,CAACQ,gBAAJ,CAAqBC,UAArB,EAAiCtB,OAAO,CAACsB,UAAD,CAAxC;kBACD;gBACF;;gBAEDT,GAAG,CAACU,kBAAJ,GAAyB,YAAY;kBACnC,IAAIV,GAAG,CAACW,UAAJ,KAAmB,CAAvB,EAA0B;oBACxB,IAAIX,GAAG,CAACY,MAAJ,KAAe,GAAnB,EAAwB;sBACtB,IAAIC,KAAJ;sBAAA,IACIC,MAAM,GAAG,KADb;;sBAGA,IAAI;wBACFD,KAAK,GAAGf,IAAI,CAACiB,KAAL,CAAWf,GAAG,CAACgB,YAAf,CAAR;wBACAF,MAAM,GAAG,IAAT;sBACD,CAHD,CAGE,OAAOzH,CAAP,EAAU;wBACVqG,QAAQ,CAAC;0BACPuB,KAAK,EAAE,6BAA6BjB,GAAG,CAACgB,YADjC;0BAEPJ,MAAM,EAAE,GAFD;0BAGP3B,IAAI,EAAE;wBAHC,CAAD,CAAR;sBAKD;;sBAED,IAAI6B,MAAJ,EAAY;wBACV;wBACApB,QAAQ,CAAC;0BACPT,IAAI,EAAE4B,KADC;0BAEPD,MAAM,EAAE;wBAFD,CAAD,CAAR;sBAID;oBACF,CAtBD,MAsBO;sBACLjB,MAAM,CAACuB,IAAP,CAAY,oCAAZ,EAAkDlB,GAAG,CAACY,MAAtD;;sBAEAlB,QAAQ,CAAC;wBACPkB,MAAM,EAAEZ,GAAG,CAACY,MADL;wBAEP3B,IAAI,EAAE;sBAFC,CAAD,CAAR;oBAID;kBACF;gBACF,CAjCD;;gBAmCAkC,UAAU,CAAC,YAAY;kBACrB,OAAOnB,GAAG,CAACoB,IAAJ,CAAStB,IAAI,CAACC,SAAL,CAAed,IAAf,CAAT,CAAP;gBACD,CAFS,EAEP,EAFO,CAAV;gBAGA,OAAOe,GAAP;cACD;YAtFA,CAnCsB,EA0HtB;cACD9I,GAAG,EAAE,MADJ;cAED3B,KAAK,EAAE,SAAS2L,IAAT,GAAgB;gBACrB,CAAC,GAAGrL,MAAM,CAACwL,GAAX,EAAgB,MAAhB,EAAwB3I,SAAxB;cACD;YAJA,CA1HsB,EA+HtB;cACDxB,GAAG,EAAE,QADJ;cAED3B,KAAK,EAAE,SAASsK,MAAT,GAAkB;gBACvB,IAAI,KAAKjD,OAAL,CAAaE,KAAb,KAAuB,IAA3B,EAAiC;kBAC/B,CAAC,GAAGjH,MAAM,CAACwL,GAAX,EAAgB,OAAhB,EAAyB3I,SAAzB;gBACD;cACF;YANA,CA/HsB,EAsItB;cACDxB,GAAG,EAAE,qBADJ;cAED3B,KAAK,EAAE,SAAS+L,mBAAT,GAA+B;gBACpC,IAAI,KAAK1E,OAAL,CAAaK,SAAb,KAA2B,IAA/B,EAAqC;kBACnC,OAAO,IAAP;gBACD;;gBAED,OAAO,EAAE,OAAOsE,SAAP,KAAqB,UAArB,IAAmC,CAAC,OAAOA,SAAP,KAAqB,WAArB,GAAmC,WAAnC,GAAiDvL,OAAO,CAACuL,SAAD,CAAzD,MAA0E,QAA/G,CAAP;cACD;YARA,CAtIsB,EA+ItB;cACDrK,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAASiM,UAAT,CAAoBC,MAApB,EAA4B;gBACjC,IAAI,KAAKC,eAAL,CAAqBD,MAArB,CAAJ,EAAkC;kBAChC;gBACD;;gBAED,IAAIA,MAAM,KAAK,UAAf,EAA2B;kBACzB,MAAM,IAAIE,KAAJ,CAAU,2EAAV,CAAN;gBACD;;gBAED,KAAKxH,OAAL,GAAe,KAAf;gBACA,KAAKC,WAAL,GAAmBxE,KAAK,CAACgM,cAAzB;gBACA,KAAKvH,SAAL,GAAiBzE,KAAK,CAACiM,YAAvB;gBACA,KAAKvH,QAAL,GAAgB,IAAI1E,KAAK,CAACkM,WAAV,EAAhB;gBACA,KAAKvH,QAAL,GAAgB,IAAI3E,KAAK,CAACmM,WAAV,EAAhB;cACD;YAhBA,CA/IsB,EAgKtB;cACD7K,GAAG,EAAE,iBADJ;cAED3B,KAAK,EAAE,SAASmM,eAAT,CAAyBD,MAAzB,EAAiC;gBACtC,OAAO,KAAP;cACD;YAJA,CAhKsB,EAqKtB;cACDvK,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAASsJ,UAAT,CAAoBmD,aAApB,EAAmC;gBACxC,IAAI,EAAE,aAAa5M,mBAAmB,CAAC6K,CAAnC,CAAJ,EAA2C;kBACzC,MAAM,IAAI0B,KAAJ,CAAU,2BAAV,CAAN;gBACD;;gBAED,CAAC,GAAG9L,MAAM,CAACoM,MAAX,EAAmB,KAAKrF,OAAxB,EAAiCoF,aAAa,IAAI,EAAlD;;gBAEA,KAAKnC,MAAL,CAAY,mBAAZ,EAAiC,KAAKjD,OAAtC;;gBAEA,IAAI,CAAC,KAAK9C,IAAV,EAAgB;kBACd,MAAM,IAAI6H,KAAJ,CAAU,cAAV,CAAN;gBACD;;gBAED,IAAIO,aAAa,GAAG,CAAC,GAAGrM,MAAM,CAACsM,UAAX,EAAuB,KAAKrI,IAA5B,EAAkC,IAAlC,KAA2C,KAAKA,IAAL,CAAUsI,OAAV,CAAkB,iBAAlB,IAAuC,CAAC,CAAvG;;gBAEA,IAAIF,aAAa,IAAI,KAAKtF,OAAL,CAAaC,QAAb,KAA0B,UAA/C,EAA2D;kBACzD,KAAK2E,UAAL,CAAgB,UAAhB;;kBAEA,KAAK7E,SAAL,GAAiB,UAAjB;gBACD,CAJD,MAIO;kBACL,IAAI,KAAKC,OAAL,CAAaC,QAAb,KAA0B,EAA1B,IAAgC,KAAKD,OAAL,CAAaC,QAAb,KAA0B,MAA9D,EAAsE;oBACpE,MAAM,IAAI8E,KAAJ,CAAU,0BAA0B,KAAK/E,OAAL,CAAaC,QAAjD,CAAN;kBACD;;kBAED,KAAK2E,UAAL,CAAgB,MAAhB;gBACD;;gBAED,IAAI,CAAC,GAAG3L,MAAM,CAACsM,UAAX,EAAuB,KAAKrI,IAA5B,EAAkC,MAAlC,CAAJ,EAA+C;kBAC7C,KAAK+F,MAAL,CAAY,+CAAZ;;kBAEA,IAAI,KAAKjD,OAAL,CAAaM,MAAb,KAAwB,IAA5B,EAAkC;oBAChC,KAAK2C,MAAL,CAAY,uCAAZ;;oBAEA,KAAK7F,OAAL,GAAe,KAAK4C,OAAL,CAAaM,MAA5B;kBACD,CAJD,MAIO;oBACL,IAAI,OAAO9H,mBAAmB,CAAC6K,CAApB,CAAsBoC,MAA7B,KAAwC,WAA5C,EAAyD;sBACvD,MAAM,IAAIV,KAAJ,CAAU,sDAAV,CAAN;oBACD;;oBAED,KAAK9B,MAAL,CAAY,6BAAZ;;oBAEA,KAAK7F,OAAL,GAAe5E,mBAAmB,CAAC6K,CAApB,CAAsBoC,MAArC;kBACD;gBACF,CAhBD,MAgBO;kBACL,KAAKxC,MAAL,CAAY,2CAAZ;gBACD;;gBAED,KAAK3F,eAAL,GAAuB,KAAK0C,OAAL,CAAaO,cAApC;cACD;YAlDA,CArKsB,EAwNtB;cACDjG,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAAS+M,UAAT,CAAoBC,SAApB,EAA+B;gBACpC,IAAI,KAAK/H,OAAL,KAAiB+H,SAArB,EAAgC;kBAC9B,KAAK1C,MAAL,CAAY,QAAZ,EAAsB,KAAKrF,OAA3B,EAAoC,IAApC,EAA0C+H,SAA1C;;kBAEA,KAAK/H,OAAL,GAAe+H,SAAf;gBACD;cACF;YARA,CAxNsB,EAiOtB;cACDrL,GAAG,EAAE,iBADJ;cAED3B,KAAK,EAAE,SAASiN,eAAT,GAA2B;gBAChC,OAAO,KAAKhI,OAAL,KAAiB,cAAxB;cACD;YAJA,CAjOsB,EAsOtB;cACDtD,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAASkN,aAAT,GAAyB;gBAC9B,OAAO,KAAKjI,OAAL,KAAiB,YAAxB;cACD;YAJA,CAtOsB,EA2OtB;cACDtD,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAASmN,YAAT,GAAwB;gBAC7B,OAAO,KAAKlI,OAAL,KAAiB,WAAxB;cACD;YAJA,CA3OsB,EAgPtB;cACDtD,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAASoN,cAAT,GAA0B;gBAC/B,OAAO,EAAE,KAAK7H,UAAd;cACD;YAJA,CAhPsB,EAqPtB;cACD5D,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASqN,WAAT,GAAuB;gBAC5B,KAAK/C,MAAL,CAAY,0BAAZ;;gBAEA,KAAK7D,QAAL,GAAgB,CAAhB;cACD;YANA,CArPsB,EA4PtB;cACD9E,GAAG,EAAE,mBADJ;cAED3B,KAAK,EAAE,SAASsN,iBAAT,GAA6B;gBAClC,IAAIC,QAAQ,GAAG,CAAC,GAAGjN,MAAM,CAACkN,OAAX,EAAoB,KAAK/G,QAAzB,EAAmC,KAAKY,OAAL,CAAaQ,QAAhD,EAA0D,KAAKR,OAAL,CAAaS,QAAvE,CAAf;gBACA,KAAKrB,QAAL,IAAiB,CAAjB;gBACA,OAAO8G,QAAP;cACD;YANA,CA5PsB,EAmQtB;cACD5L,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAASyN,kBAAT,GAA8B;gBACnC,KAAK,IAAIC,KAAT,IAAkB,KAAK1G,KAAvB,EAA8B;kBAC5B,IAAI;oBACF,KAAKA,KAAL,CAAW0G,KAAX,EAAkBC,KAAlB;kBACD,CAFD,CAEE,OAAO7J,CAAP,EAAU;oBACV,KAAKwG,MAAL,CAAY,oBAAZ,EAAkCxG,CAAlC;kBACD;;kBAED,OAAO,KAAKkD,KAAL,CAAW0G,KAAX,CAAP;gBACD;cACF;YAZA,CAnQsB,EAgRtB;cACD/L,GAAG,EAAE,sBADJ;cAED3B,KAAK,EAAE,SAAS4N,oBAAT,CAA8BC,SAA9B,EAAyC;gBAC9C,KAAKrI,SAAL,GAAiB,IAAjB;;gBAEA,KAAKsI,SAAL,GAH8C,CAG5B;;;gBAGlB,KAAK,IAAIC,EAAT,IAAe,KAAKrH,UAApB,EAAgC;kBAC9B,IAAI,KAAKA,UAAL,CAAgBmE,cAAhB,CAA+BkD,EAA/B,CAAJ,EAAwC;oBACtC,IAAIC,SAAS,GAAG,KAAKtH,UAAL,CAAgBqH,EAAhB,CAAhB;oBACAE,YAAY,CAACD,SAAS,CAACjG,OAAX,CAAZ;oBACA,IAAImG,OAAO,GAAGF,SAAS,CAACE,OAAxB;;oBAEA,IAAI,CAACA,OAAL,EAAc;sBACZ;oBACD;;oBAEDA,OAAO,CAAC;sBACNxC,KAAK,EAAE,KAAKyC,kBAAL,CAAwB,cAAxB;oBADD,CAAD,CAAP;kBAGD;gBACF;;gBAED,KAAKzH,UAAL,GAAkB,EAAlB,CAtB8C,CAsBxB;;gBAEtB,KAAK,IAAI0H,OAAT,IAAoB,KAAK1I,KAAzB,EAAgC;kBAC9B,IAAI,KAAKA,KAAL,CAAWmF,cAAX,CAA0BuD,OAA1B,CAAJ,EAAwC;oBACtC,IAAIC,GAAG,GAAG,KAAK3I,KAAL,CAAW0I,OAAX,CAAV;;oBAEA,IAAIP,SAAJ,EAAe;sBACb,IAAIQ,GAAG,CAACC,UAAJ,EAAJ,EAAsB;wBACpBD,GAAG,CAACE,mBAAJ;;wBAEAF,GAAG,CAACG,QAAJ,GAAe,IAAf;sBACD;;sBAED,IAAIH,GAAG,CAACI,kBAAJ,EAAJ,EAA8B;wBAC5BJ,GAAG,CAACK,eAAJ;sBACD;oBACF,CAVD,MAUO;sBACLL,GAAG,CAACM,gBAAJ;oBACD;kBACF;gBACF;;gBAED,KAAKlB,kBAAL,GA5C8C,CA4CnB;;;gBAG3B,IAAI,KAAKpH,eAAL,KAAyB,IAA7B,EAAmC;kBACjC4H,YAAY,CAAC,KAAK5H,eAAN,CAAZ;kBACA,KAAKA,eAAL,GAAuB,IAAvB;gBACD,CAlD6C,CAkD5C;;;gBAGF,KAAK,IAAIuI,QAAT,IAAqB,KAAKpI,mBAA1B,EAA+C;kBAC7C,IAAI,KAAKA,mBAAL,CAAyBqE,cAAzB,CAAwC+D,QAAxC,KAAqD,KAAKpI,mBAAL,CAAyBoI,QAAzB,CAAzD,EAA6F;oBAC3F,KAAKC,uBAAL,CAA6BD,QAA7B;kBACD;gBACF;;gBAED,KAAKpI,mBAAL,GAA2B,EAA3B;;gBAEA,IAAI,CAAC,KAAKtB,UAAV,EAAsB;kBACpB;kBACA,KAAKQ,KAAL,GAAa,EAAb;gBACD;cACF;YAnEA,CAhRsB,EAoVtB;cACD/D,GAAG,EAAE,kBADJ;cAED3B,KAAK,EAAE,SAAS8O,gBAAT,GAA4B;gBACjC,IAAI,KAAKpK,SAAT,EAAoB;kBAClB,OAAO,KAAKU,UAAL,IAAmB,KAAKA,UAAL,CAAgB2J,SAAnC,IAAgD,KAAK3J,UAAL,CAAgB2J,SAAhB,CAA0B3D,UAA1B,KAAyC,KAAKhG,UAAL,CAAgB2J,SAAhB,CAA0BC,IAA1H;gBACD;;gBAED,OAAO,KAAK5J,UAAL,IAAmB,KAAKA,UAAL,CAAgBgG,UAAhB,KAA+B,KAAKhG,UAAL,CAAgB4J,IAAzE;cACD;YARA,CApVsB,EA6VtB;cACDrN,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAASiP,cAAT,CAAwBC,QAAxB,EAAkC;gBACvC,IAAI,CAACA,QAAQ,CAAC5N,MAAd,EAAsB;kBACpB,OAAO,IAAP;gBACD;;gBAED,IAAI,CAAC,KAAKwN,gBAAL,EAAL,EAA8B;kBAC5B;kBACA,KAAK,IAAIK,OAAT,IAAoBD,QAApB,EAA8B;oBAC5B,IAAInB,EAAE,GAAGoB,OAAO,CAACpB,EAAjB;;oBAEA,IAAI,EAAEA,EAAE,IAAI,KAAKrH,UAAb,CAAJ,EAA8B;sBAC5B;oBACD;;oBAED,IAAIsH,SAAS,GAAG,KAAKtH,UAAL,CAAgBqH,EAAhB,CAAhB;oBACAE,YAAY,CAAC,KAAKvH,UAAL,CAAgBqH,EAAhB,EAAoBhG,OAArB,CAAZ;oBACA,OAAO,KAAKrB,UAAL,CAAgBqH,EAAhB,CAAP;oBACA,IAAIG,OAAO,GAAGF,SAAS,CAACE,OAAxB;oBACAA,OAAO,CAAC;sBACNxC,KAAK,EAAE,KAAKyC,kBAAL,CAAwBlK,sBAAxB,EAAgD,CAAhD;oBADD,CAAD,CAAP;kBAGD;;kBAED,OAAO,KAAP;gBACD;;gBAED,KAAKmB,UAAL,CAAgByG,IAAhB,CAAqB,KAAK9G,QAAL,CAAcqK,cAAd,CAA6BF,QAA7B,CAArB;;gBAEA,OAAO,IAAP;cACD;YA/BA,CA7VsB,EA6XtB;cACDvN,GAAG,EAAE,iBADJ;cAED3B,KAAK,EAAE,SAASqP,eAAT,GAA2B;gBAChC,IAAI,CAAC,KAAKjI,SAAV,EAAqB;kBACnB,OAAO,EAAP;gBACD;;gBAED,OAAO,gBAAgB,KAAKA,SAA5B;cACD;YARA,CA7XsB,EAsYtB;cACDzF,GAAG,EAAE,iBADJ;cAED3B,KAAK,EAAE,SAASsP,eAAT,GAA2B;gBAChC,IAAIC,MAAM,GAAG,IAAb;;gBAEA,KAAK7K,SAAL,GAAiB,KAAjB,CAHgC,CAGR;;gBAExB,IAAI,KAAKD,OAAL,KAAiB,IAArB,EAA2B;kBACzB,IAAI+K,aAAa,GAAG;oBAClBC,UAAU,EAAE,KAAKpI,OAAL,CAAakB;kBADP,CAApB;;kBAIA,IAAI,KAAKlB,OAAL,CAAagB,YAAb,KAA8B,IAAlC,EAAwC;oBACtCmH,aAAa,CAACE,MAAd,GAAuB,KAAKrI,OAAL,CAAagB,YAApC;kBACD;;kBAED,IAAI,KAAKhB,OAAL,CAAaiB,aAAb,KAA+B,IAAnC,EAAyC;oBACvCkH,aAAa,CAACzH,OAAd,GAAwB,KAAKV,OAAL,CAAaiB,aAArC;kBACD;;kBAED,KAAK5D,SAAL,GAAiB,IAAjB;kBACA,KAAKU,UAAL,GAAkB,IAAI,KAAKX,OAAT,CAAiB,KAAKF,IAAtB,EAA4B,IAA5B,EAAkCiL,aAAlC,CAAlB;gBACD,CAfD,MAeO;kBACL,IAAI,CAAC,KAAKzD,mBAAL,EAAL,EAAiC;oBAC/B,KAAKzB,MAAL,CAAY,gEAAZ;;oBAEA,MAAM,IAAI8B,KAAJ,CAAU,gEAAV,CAAN;kBACD;;kBAED,IAAI,KAAK/E,OAAL,CAAaK,SAAb,KAA2B,IAA/B,EAAqC;oBACnC,KAAKlD,UAAL,GAAkB,KAAK6C,OAAL,CAAaK,SAA/B;kBACD,CAFD,MAEO;oBACL,KAAKlD,UAAL,GAAkBwH,SAAlB;kBACD;;kBAED,IAAI2D,WAAW,GAAG,KAAKN,eAAL,EAAlB;;kBAEA,IAAIM,WAAW,KAAK,EAApB,EAAwB;oBACtB,KAAKvK,UAAL,GAAkB,IAAI,KAAKZ,UAAT,CAAoB,KAAKD,IAAzB,EAA+BoL,WAA/B,CAAlB;kBACD,CAFD,MAEO;oBACL,KAAKvK,UAAL,GAAkB,IAAI,KAAKZ,UAAT,CAAoB,KAAKD,IAAzB,CAAlB;kBACD;;kBAED,IAAI,KAAKK,OAAL,KAAiB,IAArB,EAA2B;oBACzB,KAAKQ,UAAL,CAAgBwK,UAAhB,GAA6B,aAA7B;kBACD;gBACF;;gBAED,KAAKxK,UAAL,CAAgByK,MAAhB,GAAyB,YAAY;kBACnCN,MAAM,CAACjK,gBAAP,GAA0B,KAA1B;;kBAEA,IAAIiK,MAAM,CAAC7K,SAAX,EAAsB;oBACpB6K,MAAM,CAAClK,cAAP,GAAwB,YAAYkK,MAAM,CAACnK,UAAP,CAAkB2J,SAAtD;;oBAEAQ,MAAM,CAACnK,UAAP,CAAkB0K,WAAlB,GAAgC,YAAY;sBAC1C,OAAOP,MAAM,CAACQ,YAAP,EAAP;oBACD,CAFD;kBAGD,CAND,MAMO;oBACLR,MAAM,CAAClK,cAAP,GAAwB,WAAxB;kBACD,CAXkC,CAWjC;;;kBAGF,IAAI2K,GAAG,GAAG,CAAC;kBAAD,CAAV;;kBAGA,IAAIT,MAAM,CAACzI,MAAP,IAAiByI,MAAM,CAAC1I,YAAxB,IAAwC0I,MAAM,CAAClI,OAAP,CAAeG,IAAvD,IAA+D+H,MAAM,CAAClI,OAAP,CAAeI,OAAlF,EAA2F;oBACzFuI,GAAG,CAAClG,MAAJ,GAAa,EAAb;kBACD;;kBAED,IAAIyF,MAAM,CAACzI,MAAX,EAAmB;oBACjBkJ,GAAG,CAAClG,MAAJ,CAAWN,KAAX,GAAmB+F,MAAM,CAACzI,MAA1B;kBACD;;kBAED,IAAIyI,MAAM,CAAC1I,YAAX,EAAyB;oBACvBmJ,GAAG,CAAClG,MAAJ,CAAWJ,IAAX,GAAkB6F,MAAM,CAAC1I,YAAzB;kBACD;;kBAED,IAAI0I,MAAM,CAAClI,OAAP,CAAeG,IAAnB,EAAyB;oBACvBwI,GAAG,CAAClG,MAAJ,CAAWtC,IAAX,GAAkB+H,MAAM,CAAClI,OAAP,CAAeG,IAAjC;kBACD;;kBAED,IAAI+H,MAAM,CAAClI,OAAP,CAAeI,OAAnB,EAA4B;oBAC1BuI,GAAG,CAAClG,MAAJ,CAAWrC,OAAX,GAAqB8H,MAAM,CAAClI,OAAP,CAAeI,OAApC;kBACD;;kBAED,IAAIwI,IAAI,GAAG,EAAX;kBACA,IAAIC,OAAO,GAAG,KAAd;;kBAEA,KAAK,IAAI9B,OAAT,IAAoBmB,MAAM,CAAC5J,WAA3B,EAAwC;oBACtC,IAAI4J,MAAM,CAAC5J,WAAP,CAAmBkF,cAAnB,CAAkCuD,OAAlC,KAA8CmB,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4B+B,WAA9E,EAA2F;sBACzFD,OAAO,GAAG,IAAV;sBACA,IAAI7B,GAAG,GAAG;wBACR,WAAW;sBADH,CAAV;;sBAIA,IAAIkB,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BgC,GAA5B,IAAmCb,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BiC,GAAnE,EAAwE;wBACtE,IAAId,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BgC,GAAhC,EAAqC;0BACnC/B,GAAG,CAAC,KAAD,CAAH,GAAakB,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BgC,GAAzC;wBACD;;wBAED,IAAIb,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BiC,GAAhC,EAAqC;0BACnChC,GAAG,CAAC,KAAD,CAAH,GAAakB,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BiC,GAAzC;wBACD;sBACF,CARD,MAQO;wBACL,IAAId,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BkC,MAAhC,EAAwC;0BACtCjC,GAAG,CAAC,QAAD,CAAH,GAAgBkB,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BkC,MAA5C;wBACD;sBACF;;sBAED,IAAIf,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BmC,KAAhC,EAAuC;wBACrClC,GAAG,CAAC,OAAD,CAAH,GAAekB,MAAM,CAAC5J,WAAP,CAAmByI,OAAnB,EAA4BmC,KAA3C;sBACD;;sBAEDN,IAAI,CAAC7B,OAAD,CAAJ,GAAgBC,GAAhB;oBACD;kBACF;;kBAED,IAAI6B,OAAJ,EAAa;oBACX,IAAI,CAACF,GAAG,CAAClG,MAAT,EAAiB;sBACfkG,GAAG,CAAClG,MAAJ,GAAa,EAAb;oBACD;;oBAEDkG,GAAG,CAAClG,MAAJ,CAAWmG,IAAX,GAAkBA,IAAlB;kBACD;;kBAEDV,MAAM,CAAC3I,aAAP,GAAuB,IAAI4J,IAAJ,EAAvB;;kBAEAjB,MAAM,CAACkB,KAAP,CAAaT,GAAb,EAAkBU,IAAlB,CAAuB,UAAUC,UAAV,EAAsB;oBAC3CpB,MAAM,CAACqB,gBAAP,CAAwBrB,MAAM,CAACvK,QAAP,CAAgB6L,mBAAhB,CAAoCtB,MAAM,CAAC1K,WAAP,CAAmBiM,OAAvD,EAAgEH,UAAU,CAAC5N,MAA3E,CAAxB,EAA4GmN,OAA5G;;oBAEA,IAAIS,UAAU,CAACI,IAAf,EAAqB;sBACnBJ,UAAU,CAACI,IAAX;oBACD;kBACF,CAND,EAMG,UAAUC,SAAV,EAAqB;oBACtB,IAAIC,GAAG,GAAGD,SAAS,CAACtF,KAApB;;oBAEA,IAAIuF,GAAG,CAACC,IAAJ,KAAa,GAAjB,EAAsB;sBACpB;sBACA3B,MAAM,CAAC9J,gBAAP,GAA0B,IAA1B;oBACD;;oBAED8J,MAAM,CAAC4B,WAAP,CAAmB,eAAnB,EAAoC,IAApC;;oBAEA,IAAIH,SAAS,CAACD,IAAd,EAAoB;sBAClBC,SAAS,CAACD,IAAV;oBACD;kBACF,CAnBD;gBAoBD,CAnGD;;gBAqGA,KAAK3L,UAAL,CAAgBgM,OAAhB,GAA0B,UAAU1F,KAAV,EAAiB;kBACzC6D,MAAM,CAACjF,MAAP,CAAc,uBAAd,EAAuCoB,KAAvC;gBACD,CAFD;;gBAIA,KAAKtG,UAAL,CAAgBiM,OAAhB,GAA0B,UAAUC,UAAV,EAAsB;kBAC9C/B,MAAM,CAACjK,gBAAP,GAA0B,IAA1B;kBACA,IAAIiM,MAAM,GAAGtN,sBAAb;kBACA,IAAIuN,aAAa,GAAG,IAApB;;kBAEA,IAAIF,UAAU,IAAI,YAAYA,UAA1B,IAAwCA,UAAU,CAACC,MAAvD,EAA+D;oBAC7D,IAAI;sBACF,IAAIE,MAAM,GAAGlH,IAAI,CAACiB,KAAL,CAAW8F,UAAU,CAACC,MAAtB,CAAb;;sBAEAhC,MAAM,CAACjF,MAAP,CAAc,4BAAd,EAA4CmH,MAA5C;;sBAEAF,MAAM,GAAGE,MAAM,CAACF,MAAhB;sBACAC,aAAa,GAAGC,MAAM,CAAC5D,SAAvB;oBACD,CAPD,CAOE,OAAO/J,CAAP,EAAU;sBACVyN,MAAM,GAAGD,UAAU,CAACC,MAApB;;sBAEAhC,MAAM,CAACjF,MAAP,CAAc,0BAAd,EAA0CiH,MAA1C;oBACD;kBACF,CAlB6C,CAkB5C;kBACF;kBACA;kBACA;;;kBAGA,IAAIhC,MAAM,CAAClI,OAAP,CAAee,gBAAf,KAAoC,IAAxC,EAA8C;oBAC5CmH,MAAM,CAAClI,OAAP,CAAee,gBAAf,CAAgC;sBAC9BsJ,KAAK,EAAEJ,UADuB;sBAE9BC,MAAM,EAAEA,MAFsB;sBAG9B1D,SAAS,EAAE2D;oBAHmB,CAAhC;kBAKD;;kBAEDjC,MAAM,CAAC4B,WAAP,CAAmBI,MAAnB,EAA2BC,aAA3B;;kBAEA,IAAIjC,MAAM,CAACrK,UAAP,KAAsB,IAA1B,EAAgC;oBAC9BqK,MAAM,CAACpK,aAAP,GAAuB,IAAvB;;oBAEA,IAAIoI,QAAQ,GAAGgC,MAAM,CAACjC,iBAAP,EAAf;;oBAEAiC,MAAM,CAACjF,MAAP,CAAc,qBAAqBiD,QAArB,GAAgC,eAA9C;;oBAEA3B,UAAU,CAAC,YAAY;sBACrB,IAAI2D,MAAM,CAACrK,UAAP,KAAsB,IAA1B,EAAgC;wBAC9B,IAAIqK,MAAM,CAAC9J,gBAAX,EAA6B;0BAC3B8J,MAAM,CAACoC,QAAP;wBACD,CAFD,MAEO;0BACLpC,MAAM,CAACqC,QAAP;wBACD;sBACF;oBACF,CARS,EAQPrE,QARO,CAAV;kBASD;gBACF,CAnDD;;gBAqDA,KAAKnI,UAAL,CAAgByM,SAAhB,GAA4B,UAAUH,KAAV,EAAiB;kBAC3CnC,MAAM,CAACuC,aAAP,CAAqBJ,KAAK,CAAChI,IAA3B;gBACD,CAFD;cAGD;YAjNA,CAtYsB,EAwlBtB;cACD/H,GAAG,EAAE,KADJ;cAED3B,KAAK,EAAE,SAAS+R,GAAT,CAAarI,IAAb,EAAmB;gBACxB,OAAO,KAAKsI,IAAL,CAAU,EAAV,EAActI,IAAd,CAAP;cACD;YAJA,CAxlBsB,EA6lBtB;cACD/H,GAAG,EAAE,UADJ;cAED3B,KAAK,EAAE,SAASiS,QAAT,CAAkBC,MAAlB,EAA0BxI,IAA1B,EAAgC;gBACrC,OAAO,KAAKsI,IAAL,CAAUE,MAAV,EAAkBxI,IAAlB,CAAP;cACD;YAJA,CA7lBsB,EAkmBtB;cACD/H,GAAG,EAAE,MADJ;cAED3B,KAAK,EAAE,SAASgS,IAAT,CAAcE,MAAd,EAAsBxI,IAAtB,EAA4B;gBACjC,IAAII,MAAM,GAAG;kBACXJ,IAAI,EAAEA;gBADK,CAAb;;gBAIA,IAAIwI,MAAM,KAAK,EAAf,EAAmB;kBACjBpI,MAAM,CAACoI,MAAP,GAAgBA,MAAhB;gBACD;;gBAED;gBACA,IAAIlC,GAAG,GAAG;kBACRkC,MAAM,EAAE,KAAKrN,WAAL,CAAiBsN,GADjB;kBAERrI,MAAM,EAAEA;gBAFA,CAAV;gBAIA,OAAO,KAAKsI,WAAL,CAAiBpC,GAAjB,EAAsB,UAAUjN,MAAV,EAAkB;kBAC7C,OAAOA,MAAP;gBACD,CAFM,CAAP;cAGD;YAnBA,CAlmBsB,EAsnBtB;cACDpB,GAAG,EAAE,MADJ;cAED3B,KAAK,EAAE,SAAS6L,IAAT,CAAcnC,IAAd,EAAoB;gBACzB,IAAIsG,GAAG,GAAG;kBACRkC,MAAM,EAAE,KAAKrN,WAAL,CAAiBwN,IADjB;kBAERvI,MAAM,EAAE;oBACNJ,IAAI,EAAEA;kBADA;gBAFA,CAAV;;gBAOA,IAAI,CAAC,KAAK4I,WAAL,EAAL,EAAyB;kBACvB,OAAOpL,OAAO,CAACqL,MAAR,CAAe,KAAKpE,kBAAL,CAAwBlK,sBAAxB,EAAgD,CAAhD,CAAf,CAAP;gBACD;;gBAED,IAAIuO,IAAI,GAAG,KAAKvD,cAAL,CAAoB,CAACe,GAAD,CAApB,CAAX,CAZyB,CAYc;;;gBAGvC,IAAI,CAACwC,IAAL,EAAW;kBACT,OAAOtL,OAAO,CAACqL,MAAR,CAAe,KAAKpE,kBAAL,CAAwBlK,sBAAxB,EAAgD,CAAhD,CAAf,CAAP;gBACD;;gBAED;gBACA,OAAOiD,OAAO,CAACC,OAAR,CAAgB,EAAhB,CAAP;cACD;YAvBA,CAtnBsB,EA8oBtB;cACDxF,GAAG,EAAE,mBADJ;cAED3B,KAAK,EAAE,SAASyS,iBAAT,CAA2BrE,OAA3B,EAAoC/J,OAApC,EAA6C;gBAClD,IAAIyF,MAAM,GAAG;kBACXsE,OAAO,EAAEA;gBADE,CAAb;;gBAIA,IAAI/J,OAAO,KAAKqO,SAAhB,EAA2B;kBACzB,IAAIrO,OAAO,CAACsO,KAAZ,EAAmB;oBACjB7I,MAAM,CAAC,OAAD,CAAN,GAAkB;sBAChB,UAAUzF,OAAO,CAACsO,KAAR,CAAcrC;oBADR,CAAlB;;oBAIA,IAAIjM,OAAO,CAACsO,KAAR,CAAcpC,KAAlB,EAAyB;sBACvBzG,MAAM,CAAC,OAAD,CAAN,CAAgB,OAAhB,IAA2BzF,OAAO,CAACsO,KAAR,CAAcpC,KAAzC;oBACD;kBACF;;kBAED;;kBAEA,IAAIlM,OAAO,CAACuO,KAAR,KAAkBF,SAAtB,EAAiC;oBAC/B5I,MAAM,CAAC,OAAD,CAAN,GAAkBzF,OAAO,CAACuO,KAA1B;kBACD;;kBAED,IAAIvO,OAAO,CAACwO,OAAR,KAAoB,IAAxB,EAA8B;oBAC5B/I,MAAM,CAAC,SAAD,CAAN,GAAoB,IAApB;kBACD;gBACF;;gBAED;gBACA,OAAOA,MAAP;cACD;YA/BA,CA9oBsB,EA8qBtB;cACDnI,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASoS,WAAT,CAAqBpC,GAArB,EAA0B8C,QAA1B,EAAoC;gBACzC,IAAIC,MAAM,GAAG,IAAb;;gBAEA,IAAI,CAAC,KAAKT,WAAL,EAAL,EAAyB;kBACvB,OAAOpL,OAAO,CAACqL,MAAR,CAAe,KAAKpE,kBAAL,CAAwBlK,sBAAxB,EAAgD,CAAhD,CAAf,CAAP;gBACD;;gBAED,OAAO,IAAIiD,OAAJ,CAAY,UAAUC,OAAV,EAAmBoL,MAAnB,EAA2B;kBAC5CQ,MAAM,CAACtC,KAAP,CAAaT,GAAb,EAAkBU,IAAlB,CAAuB,UAAUC,UAAV,EAAsB;oBAC3CxJ,OAAO,CAAC2L,QAAQ,CAACC,MAAM,CAAC/N,QAAP,CAAgB6L,mBAAhB,CAAoCb,GAAG,CAACkC,MAAxC,EAAgDvB,UAAU,CAAC5N,MAA3D,CAAD,CAAT,CAAP;;oBAEA,IAAI4N,UAAU,CAACI,IAAf,EAAqB;sBACnBJ,UAAU,CAACI,IAAX;oBACD;kBACF,CAND,EAMG,UAAUC,SAAV,EAAqB;oBACtBuB,MAAM,CAACvB,SAAS,CAACtF,KAAX,CAAN;;oBAEA,IAAIsF,SAAS,CAACD,IAAd,EAAoB;sBAClBC,SAAS,CAACD,IAAV;oBACD;kBACF,CAZD;gBAaD,CAdM,CAAP;cAeD;YAxBA,CA9qBsB,EAusBtB;cACDpP,GAAG,EAAE,SADJ;cAED3B,KAAK,EAAE,SAASgT,OAAT,CAAiB5E,OAAjB,EAA0B1E,IAA1B,EAAgC;gBACrC,IAAIsG,GAAG,GAAG;kBACRkC,MAAM,EAAE,KAAKrN,WAAL,CAAiBoO,OADjB;kBAERnJ,MAAM,EAAE;oBACNsE,OAAO,EAAEA,OADH;oBAEN1E,IAAI,EAAEA;kBAFA;gBAFA,CAAV;gBAOA,OAAO,KAAK0I,WAAL,CAAiBpC,GAAjB,EAAsB,YAAY;kBACvC,OAAO,EAAP;gBACD,CAFM,CAAP;cAGD;YAbA,CAvsBsB,EAqtBtB;cACDrO,GAAG,EAAE,SADJ;cAED3B,KAAK,EAAE,SAASkT,OAAT,CAAiB9E,OAAjB,EAA0B/J,OAA1B,EAAmC;gBACxC,IAAIyF,MAAM,GAAG,KAAK2I,iBAAL,CAAuBrE,OAAvB,EAAgC/J,OAAhC,CAAb;;gBAEA,IAAI2L,GAAG,GAAG;kBACRkC,MAAM,EAAE,KAAKrN,WAAL,CAAiBsO,OADjB;kBAERrJ,MAAM,EAAEA;gBAFA,CAAV;gBAIA,OAAO,KAAKsI,WAAL,CAAiBpC,GAAjB,EAAsB,UAAUjN,MAAV,EAAkB;kBAC7C,OAAO;oBACL,gBAAgBA,MAAM,CAACqQ,YADlB;oBAEL,SAASrQ,MAAM,CAACwN,KAAP,IAAgB,EAFpB;oBAGL,UAAUxN,MAAM,CAACuN,MAAP,IAAiB;kBAHtB,CAAP;gBAKD,CANM,CAAP;cAOD;YAhBA,CArtBsB,EAsuBtB;cACD3O,GAAG,EAAE,UADJ;cAED3B,KAAK,EAAE,SAASqT,QAAT,CAAkBjF,OAAlB,EAA2B;gBAChC,IAAI4B,GAAG,GAAG;kBACRkC,MAAM,EAAE,KAAKrN,WAAL,CAAiByO,QADjB;kBAERxJ,MAAM,EAAE;oBACNsE,OAAO,EAAEA;kBADH;gBAFA,CAAV;gBAMA,OAAO,KAAKgE,WAAL,CAAiBpC,GAAjB,EAAsB,UAAUjN,MAAV,EAAkB;kBAC7C,OAAO;oBACL,YAAYA,MAAM,CAACsQ;kBADd,CAAP;gBAGD,CAJM,CAAP;cAKD;YAdA,CAtuBsB,EAqvBtB;cACD1R,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAASuT,aAAT,CAAuBnF,OAAvB,EAAgC;gBACrC,IAAI4B,GAAG,GAAG;kBACRkC,MAAM,EAAE,KAAKrN,WAAL,CAAiB2O,cADjB;kBAER1J,MAAM,EAAE;oBACNsE,OAAO,EAAEA;kBADH;gBAFA,CAAV;gBAMA,OAAO,KAAKgE,WAAL,CAAiBpC,GAAjB,EAAsB,UAAUjN,MAAV,EAAkB;kBAC7C,OAAO;oBACL,aAAaA,MAAM,CAAC0Q,SADf;oBAEL,eAAe1Q,MAAM,CAAC2Q;kBAFjB,CAAP;gBAID,CALM,CAAP;cAMD;YAfA,CArvBsB,EAqwBtB;cACD/R,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAAS8R,aAAT,CAAuBpI,IAAvB,EAA6B;gBAClC,IAAIiK,MAAM,GAAG,IAAb;;gBAEA,IAAIC,OAAO,GAAG,KAAK5O,QAAL,CAAc6O,aAAd,CAA4BnK,IAA5B,CAAd,CAHkC,CAGe;gBACjD;gBACA;gBACA;;;gBAGA,KAAKzC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsByJ,IAAtB,CAA2B,YAAY;kBAC7D,IAAIoD,cAAJ;kBACAH,MAAM,CAAC1M,gBAAP,GAA0B,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmB;oBACvD2M,cAAc,GAAG3M,OAAjB;kBACD,CAFyB,CAA1B;;kBAIAwM,MAAM,CAACI,qBAAP,CAA6BH,OAA7B,EAAsCE,cAAtC;gBACD,CAPuB,CAAxB;;gBASA,KAAK/D,YAAL;cACD;YArBA,CArwBsB,EA2xBtB;cACDpO,GAAG,EAAE,uBADJ;cAED3B,KAAK,EAAE,SAAS+T,qBAAT,CAA+BH,OAA/B,EAAwCE,cAAxC,EAAwD;gBAC7D,IAAIE,MAAM,GAAG,IAAb;;gBAEA,IAAI3R,CAAC,GAAG6E,OAAO,CAACC,OAAR,EAAR;;gBAEA,IAAI8M,KAAK,GAAG,SAASA,KAAT,CAAe5S,CAAf,EAAkB;kBAC5B,IAAIuS,OAAO,CAAC/I,cAAR,CAAuBxJ,CAAvB,CAAJ,EAA+B;oBAC7BgB,CAAC,GAAGA,CAAC,CAACqO,IAAF,CAAO,YAAY;sBACrB,OAAOsD,MAAM,CAACE,cAAP,CAAsBN,OAAO,CAACvS,CAAD,CAA7B,CAAP;oBACD,CAFG,CAAJ;kBAGD;gBACF,CAND;;gBAQA,KAAK,IAAIA,CAAT,IAAcuS,OAAd,EAAuB;kBACrBK,KAAK,CAAC5S,CAAD,CAAL;gBACD;;gBAEDgB,CAAC,GAAGA,CAAC,CAACqO,IAAF,CAAO,YAAY;kBACrBoD,cAAc;gBACf,CAFG,CAAJ;cAGD;YAtBA,CA3xBsB,EAkzBtB;cACDnS,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAASkU,cAAT,CAAwBC,KAAxB,EAA+B;gBACpC,IAAIpD,IAAJ;gBACA,IAAI1O,CAAC,GAAG,IAAI6E,OAAJ,CAAY,UAAUC,OAAV,EAAmB;kBACrC4J,IAAI,GAAG5J,OAAP;gBACD,CAFO,CAAR;;gBAIA,IAAIgN,KAAK,KAAKzB,SAAV,IAAuByB,KAAK,KAAK,IAArC,EAA2C;kBACzC,KAAK7J,MAAL,CAAY,uCAAZ;;kBAEAyG,IAAI;kBACJ,OAAO1O,CAAP;gBACD;;gBAED,IAAI0L,EAAE,GAAGoG,KAAK,CAACpG,EAAf;;gBAEA,IAAIA,EAAE,IAAIA,EAAE,GAAG,CAAf,EAAkB;kBAChB,KAAKqG,YAAL,CAAkBD,KAAlB,EAAyBpD,IAAzB;gBACD,CAFD,MAEO;kBACL,KAAKsD,WAAL,CAAiBF,KAAK,CAACpR,MAAvB,EAA+BgO,IAA/B;gBACD;;gBAED,OAAO1O,CAAP;cACD;YAxBA,CAlzBsB,EA20BtB;cACDV,GAAG,EAAE,OADJ;cAED3B,KAAK,EAAE,SAASyQ,KAAT,CAAeT,GAAf,EAAoB;gBACzB,IAAIsE,MAAM,GAAG,IAAb;;gBAEA,OAAO,IAAIpN,OAAJ,CAAY,UAAUC,OAAV,EAAmBoL,MAAnB,EAA2B;kBAC5C,IAAIxE,EAAE,GAAGuG,MAAM,CAACC,WAAP,CAAmBvE,GAAnB,CAAT;;kBAEAsE,MAAM,CAACE,aAAP,CAAqBzG,EAArB,EAAyB5G,OAAzB,EAAkCoL,MAAlC;gBACD,CAJM,CAAP;cAKD;YAVA,CA30BsB,EAs1BtB;cACD5Q,GAAG,EAAE,UADJ;cAED3B,KAAK,EAAE,SAAS4R,QAAT,GAAoB;gBACzB,IAAI,KAAKU,WAAL,EAAJ,EAAwB;kBACtB,KAAKhI,MAAL,CAAY,uCAAZ;;kBAEA;gBACD;;gBAED,IAAI,KAAKrF,OAAL,KAAiB,YAArB,EAAmC;kBACjC;gBACD;;gBAED,KAAKqF,MAAL,CAAY,kBAAZ;;gBAEA,KAAKyC,UAAL,CAAgB,YAAhB;;gBAEA,KAAKvH,SAAL,GAAiB,IAAjB;gBACA,KAAKN,UAAL,GAAkB,IAAlB;;gBAEA,KAAKoK,eAAL;cACD;YArBA,CAt1BsB,EA42BtB;cACD3N,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASmR,WAAT,CAAqBI,MAArB,EAA6BkD,eAA7B,EAA8C;gBACnD,IAAI5G,SAAS,GAAG4G,eAAe,IAAI,KAAnC;;gBAEA,IAAI5G,SAAS,KAAK,KAAlB,EAAyB;kBACvB,KAAK3I,UAAL,GAAkB,KAAlB;gBACD;;gBAED,IAAI,KAAK+H,eAAL,EAAJ,EAA4B;kBAC1B,IAAI,CAACY,SAAL,EAAgB;oBACd,KAAKD,oBAAL,CAA0BC,SAA1B;kBACD;;kBAED;gBACD;;gBAED,KAAKD,oBAAL,CAA0BC,SAA1B;;gBAEA,KAAKvD,MAAL,CAAY,eAAZ,EAA6BiH,MAA7B,EAAqCkD,eAArC;;gBAEA,KAAK1H,UAAL,CAAgB,cAAhB;;gBAEA,IAAI,KAAK1G,eAAT,EAA0B;kBACxB4H,YAAY,CAAC,KAAK5H,eAAN,CAAZ;kBACA,KAAKA,eAAL,GAAuB,IAAvB;gBACD;;gBAED,IAAI,KAAKlB,aAAL,KAAuB,KAA3B,EAAkC;kBAChC;kBACA,KAAK,IAAIiJ,OAAT,IAAoB,KAAKzI,WAAzB,EAAsC;oBACpC,IAAI,KAAKA,WAAL,CAAiBkF,cAAjB,CAAgCuD,OAAhC,CAAJ,EAA8C;sBAC5C,KAAKsG,IAAL,CAAU,aAAV,EAAyB;wBACvBtG,OAAO,EAAEA;sBADc,CAAzB;oBAGD;kBACF;;kBAED,KAAKsG,IAAL,CAAU,YAAV,EAAwB;oBACtBnD,MAAM,EAAEA,MADc;oBAEtB1D,SAAS,EAAEA;kBAFW,CAAxB;gBAID;;gBAED,IAAIA,SAAS,KAAK,KAAlB,EAAyB;kBACvB,KAAKnI,KAAL,GAAa,EAAb;kBACA,KAAKC,WAAL,GAAmB,EAAnB;gBACD;;gBAED,IAAI,CAAC,KAAKL,gBAAV,EAA4B;kBAC1B,KAAKF,UAAL,CAAgBuP,KAAhB;gBACD;cACF;YApDA,CA52BsB,EAi6BtB;cACDhT,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAAS4U,cAAT,GAA0B;gBAC/B,KAAKxO,iBAAL,GAAyB,CAAzB;;gBAEA,IAAI,CAAC,KAAK6G,eAAL,EAAL,EAA6B;kBAC3B,KAAKkE,WAAL,CAAiB,gBAAjB,EAAmC,KAAnC;gBACD;;gBAED,IAAI,KAAK9J,OAAL,CAAayB,eAAb,KAAiC,IAArC,EAA2C;kBACzC,KAAKzB,OAAL,CAAayB,eAAb;gBACD;cACF;YAZA,CAj6BsB,EA86BtB;cACDnH,GAAG,EAAE,UADJ;cAED3B,KAAK,EAAE,SAAS2R,QAAT,GAAoB;gBACzB,IAAIkD,MAAM,GAAG,IAAb,CADyB,CAGzB;;;gBACA,KAAKvK,MAAL,CAAY,eAAZ;;gBAEA,IAAI,KAAKjD,OAAL,CAAauB,eAAb,KAAiC,CAArC,EAAwC;kBACtC,KAAK0B,MAAL,CAAY,+DAAZ;;kBAEA,KAAKsK,cAAL;;kBAEA;gBACD;;gBAED,IAAI,KAAKvO,eAAL,KAAyB,IAA7B,EAAmC;kBACjC4H,YAAY,CAAC,KAAK5H,eAAN,CAAZ;kBACA,KAAKA,eAAL,GAAuB,IAAvB;gBACD;;gBAED,IAAIyO,QAAQ,GAAG,KAAKtP,SAApB;;gBAEA,IAAIkI,KAAK,GAAG,KAAKqH,SAAL,EAAZ;;gBAEA,IAAIC,EAAE,GAAG,SAASA,EAAT,CAAYC,IAAZ,EAAkB;kBACzB,IAAIvH,KAAK,IAAImH,MAAM,CAAC7N,KAApB,EAA2B;oBACzB,OAAO6N,MAAM,CAAC7N,KAAP,CAAa0G,KAAb,CAAP;kBACD;;kBAED,IAAImH,MAAM,CAACrP,SAAP,KAAqBsP,QAAzB,EAAmC;oBACjC;kBACD;;kBAED,IAAIG,IAAI,CAACvJ,KAAL,IAAcuJ,IAAI,CAAC5J,MAAL,KAAgB,GAAlC,EAAuC;oBACrC;oBACA;oBACA,IAAI4J,IAAI,CAACvJ,KAAT,EAAgB;sBACdmJ,MAAM,CAACvK,MAAP,CAAc,mCAAd,EAAmD2K,IAAI,CAACvJ,KAAxD;oBACD,CAFD,MAEO;sBACLmJ,MAAM,CAACvK,MAAP,CAAc,sDAAd,EAAsE2K,IAAI,CAAC5J,MAA3E;oBACD;;oBAEDwJ,MAAM,CAACzO,iBAAP;;oBAEA,IAAIyO,MAAM,CAACxO,eAAP,KAA2B,IAA/B,EAAqC;sBACnC4H,YAAY,CAAC4G,MAAM,CAACxO,eAAR,CAAZ;sBACAwO,MAAM,CAACxO,eAAP,GAAyB,IAAzB;oBACD;;oBAED,IAAIwO,MAAM,CAACxN,OAAP,CAAeuB,eAAf,KAAmC,IAAnC,IAA2CiM,MAAM,CAACzO,iBAAP,IAA4ByO,MAAM,CAACxN,OAAP,CAAeuB,eAA1F,EAA2G;sBACzGiM,MAAM,CAACD,cAAP;;sBAEA;oBACD;;oBAED,IAAIM,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,IAAhB,GAAuBF,IAAI,CAACG,GAAL,CAAST,MAAM,CAACzO,iBAAhB,EAAmC,EAAnC,CAAlC,CAAb;oBACA,IAAImH,QAAQ,GAAGsH,MAAM,CAACxN,OAAP,CAAewB,eAAf,GAAiCqM,MAAhD;oBACAL,MAAM,CAACxO,eAAP,GAAyBuF,UAAU,CAAC,YAAY;sBAC9C,OAAOiJ,MAAM,CAAClD,QAAP,EAAP;oBACD,CAFkC,EAEhCpE,QAFgC,CAAnC;oBAGA;kBACD;;kBAEDsH,MAAM,CAACzO,iBAAP,GAA2B,CAA3B;kBACAyO,MAAM,CAAC/N,MAAP,GAAgBmO,IAAI,CAACvL,IAAL,CAAUF,KAA1B;;kBAEA,IAAI,CAACqL,MAAM,CAAC/N,MAAZ,EAAoB;oBAClB+N,MAAM,CAACD,cAAP;;oBAEA;kBACD;;kBAED,IAAIC,MAAM,CAAC5H,eAAP,MAA4B4H,MAAM,CAAC3P,UAAvC,EAAmD;oBACjD2P,MAAM,CAACvK,MAAP,CAAc,uCAAd;;oBAEAuK,MAAM,CAACjD,QAAP;kBACD,CAJD,MAIO;oBACLiD,MAAM,CAACvK,MAAP,CAAc,sBAAd;;oBAEA,IAAI0F,GAAG,GAAG;sBACRkC,MAAM,EAAE2C,MAAM,CAAChQ,WAAP,CAAmB0Q,OADnB;sBAERzL,MAAM,EAAE;wBACNN,KAAK,EAAEqL,MAAM,CAAC/N;sBADR;oBAFA,CAAV;;oBAOA+N,MAAM,CAACpE,KAAP,CAAaT,GAAb,EAAkBU,IAAlB,CAAuB,UAAUC,UAAV,EAAsB;sBAC3CkE,MAAM,CAACW,gBAAP,CAAwBX,MAAM,CAAC7P,QAAP,CAAgB6L,mBAAhB,CAAoCgE,MAAM,CAAChQ,WAAP,CAAmB0Q,OAAvD,EAAgE5E,UAAU,CAAC5N,MAA3E,CAAxB;;sBAEA,IAAI4N,UAAU,CAACI,IAAf,EAAqB;wBACnBJ,UAAU,CAACI,IAAX;sBACD;oBACF,CAND,EAMG,UAAUC,SAAV,EAAqB;sBACtB6D,MAAM,CAACY,aAAP,CAAqBzE,SAAS,CAACtF,KAA/B;;sBAEA,IAAIsF,SAAS,CAACD,IAAd,EAAoB;wBAClBC,SAAS,CAACD,IAAV;sBACD;oBACF,CAZD;kBAaD;gBACF,CA5ED;;gBA8EA,IAAI,KAAK1J,OAAL,CAAa0B,SAAb,KAA2B,IAA/B,EAAqC;kBACnC,IAAI2M,OAAO,GAAG,EAAd;;kBAEA,KAAKrO,OAAL,CAAa0B,SAAb,CAAuB2M,OAAvB,EAAgCV,EAAhC;gBACD,CAJD,MAIO;kBACL,IAAIvK,GAAG,GAAG,KAAKP,KAAL,CAAW,KAAK7C,OAAL,CAAamB,eAAxB,EAAyC,KAAKnB,OAAL,CAAaqB,aAAtD,EAAqE,KAAKrB,OAAL,CAAaoB,cAAlF,EAAkG,KAAKpB,OAAL,CAAasB,WAA/G,EAA4HqM,EAA5H,CAAV;;kBAEA,KAAKhO,KAAL,CAAW0G,KAAX,IAAoBjD,GAApB;gBACD;cACF;YAhHA,CA96BsB,EA+hCtB;cACD9I,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAASyV,aAAT,CAAuBxE,GAAvB,EAA4B;gBACjC,IAAI0E,MAAM,GAAG,IAAb;;gBAEA,KAAKrL,MAAL,CAAY,eAAZ,EAA6B2G,GAA7B;;gBAEA,IAAI,KAAK5K,eAAT,EAA0B;kBACxB4H,YAAY,CAAC,KAAK5H,eAAN,CAAZ;kBACA,KAAKA,eAAL,GAAuB,IAAvB;gBACD;;gBAED,IAAIkH,QAAQ,GAAG,KAAKlG,OAAL,CAAawB,eAAb,GAA+BsM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,IAA3B,CAA9C;gBACA,KAAKhP,eAAL,GAAuBuF,UAAU,CAAC,YAAY;kBAC5C,OAAO+J,MAAM,CAAChE,QAAP,EAAP;gBACD,CAFgC,EAE9BpE,QAF8B,CAAjC;cAGD;YAhBA,CA/hCsB,EAgjCtB;cACD5L,GAAG,EAAE,kBADJ;cAED3B,KAAK,EAAE,SAASwV,gBAAT,CAA0BzS,MAA1B,EAAkC;gBACvC,IAAI6S,OAAO,GAAG,IAAd;;gBAEA,IAAI,KAAKvP,eAAT,EAA0B;kBACxB4H,YAAY,CAAC,KAAK5H,eAAN,CAAZ;kBACA,KAAKA,eAAL,GAAuB,IAAvB;gBACD;;gBAED,IAAItD,MAAM,CAAC8S,OAAX,EAAoB;kBAClB,KAAKrQ,SAAL,GAAiBzC,MAAM,CAAC+S,MAAxB;kBACA,KAAKzP,eAAL,GAAuBuF,UAAU,CAAC,YAAY;oBAC5C,OAAOgK,OAAO,CAACjE,QAAR,EAAP;kBACD,CAFgC,EAE9B,KAAKoE,mBAAL,CAAyBhT,MAAM,CAACiT,GAAhC,CAF8B,CAAjC;gBAGD;cACF;YAhBA,CAhjCsB,EAikCtB;cACDrU,GAAG,EAAE,WADJ;cAED3B,KAAK,EAAE,SAAS+U,SAAT,GAAqB;gBAC1B,KAAKhO,MAAL;gBACA,OAAO,KAAKA,MAAZ;cACD;YALA,CAjkCsB,EAukCtB;cACDpF,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASiW,WAAT,CAAqB7H,OAArB,EAA8B;gBACnC,IAAI8H,OAAO,GAAG,IAAd;;gBAEA,KAAK5L,MAAL,CAAY,wCAAZ,EAAsD8D,OAAtD;;gBAEA,IAAI,KAAK5H,mBAAL,CAAyB4H,OAAzB,MAAsCsE,SAA1C,EAAqD;kBACnD,KAAK7D,uBAAL,CAA6BT,OAA7B;gBACD,CAFD,MAEO;kBACL;gBACD;;gBAED,IAAI0G,QAAQ,GAAG,KAAKtP,SAApB;;gBAEA,IAAIkI,KAAK,GAAG,KAAKqH,SAAL,EAAZ;;gBAEA,IAAIC,EAAE,GAAG,SAASA,EAAT,CAAYC,IAAZ,EAAkB;kBACzB,IAAIvH,KAAK,IAAIwI,OAAO,CAAClP,KAArB,EAA4B;oBAC1B,OAAOkP,OAAO,CAAClP,KAAR,CAAc0G,KAAd,CAAP;kBACD;;kBAED,IAAIuH,IAAI,CAACvJ,KAAL,IAAcuJ,IAAI,CAAC5J,MAAL,KAAgB,GAA9B,IAAqC6K,OAAO,CAAC1Q,SAAR,KAAsBsP,QAA/D,EAAyE;oBACvE;kBACD;;kBAED,IAAIqB,YAAY,GAAG,EAAnB;;kBAEA,IAAIlB,IAAI,CAACvL,IAAL,CAAU0M,QAAd,EAAwB;oBACtB,KAAK,IAAI/U,CAAT,IAAc4T,IAAI,CAACvL,IAAL,CAAU0M,QAAxB,EAAkC;sBAChC,IAAIC,WAAW,GAAGpB,IAAI,CAACvL,IAAL,CAAU0M,QAAV,CAAmB/U,CAAnB,CAAlB;;sBAEA,IAAI,CAACgV,WAAW,CAACjI,OAAjB,EAA0B;wBACxB;sBACD;;sBAED+H,YAAY,CAACE,WAAW,CAACjI,OAAb,CAAZ,GAAoCiI,WAAW,CAAC7M,KAAhD;oBACD;kBACF;;kBAED,IAAIA,KAAK,GAAG2M,YAAY,CAAC/H,OAAD,CAAxB;;kBAEA,IAAI,CAAC5E,KAAL,EAAY;oBACV;kBACD;;kBAED,IAAIwG,GAAG,GAAG;oBACRkC,MAAM,EAAEgE,OAAO,CAACrR,WAAR,CAAoByR,WADpB;oBAERxM,MAAM,EAAE;sBACNsE,OAAO,EAAEA,OADH;sBAEN5E,KAAK,EAAEA;oBAFD;kBAFA,CAAV;;kBAQA,IAAI6E,GAAG,GAAG6H,OAAO,CAACK,OAAR,CAAgBnI,OAAhB,CAAV;;kBAEA,IAAIC,GAAG,KAAK,IAAZ,EAAkB;oBAChB;kBACD;;kBAED6H,OAAO,CAACzF,KAAR,CAAcT,GAAd,EAAmBU,IAAnB,CAAwB,UAAUC,UAAV,EAAsB;oBAC5CuF,OAAO,CAACM,mBAAR,CAA4BpI,OAA5B,EAAqC8H,OAAO,CAAClR,QAAR,CAAiB6L,mBAAjB,CAAqCqF,OAAO,CAACrR,WAAR,CAAoByR,WAAzD,EAAsE3F,UAAU,CAAC5N,MAAjF,CAArC;;oBAEA,IAAI4N,UAAU,CAACI,IAAf,EAAqB;sBACnBJ,UAAU,CAACI,IAAX;oBACD;kBACF,CAND,EAMG,UAAUC,SAAV,EAAqB;oBACtBkF,OAAO,CAACO,gBAAR,CAAyBrI,OAAzB,EAAkC4C,SAAS,CAACtF,KAA5C;;oBAEA,IAAIsF,SAAS,CAACD,IAAd,EAAoB;sBAClBC,SAAS,CAACD,IAAV;oBACD;kBACF,CAZD;gBAaD,CAxDD;;gBA0DA,IAAIrH,IAAI,GAAG;kBACToM,MAAM,EAAE,KAAKtQ,SADJ;kBAET4Q,QAAQ,EAAE,CAAChI,OAAD;gBAFD,CAAX;;gBAKA,IAAI,KAAK/G,OAAL,CAAa+B,kBAAb,KAAoC,IAAxC,EAA8C;kBAC5C,KAAK/B,OAAL,CAAa+B,kBAAb,CAAgC;oBAC9BM,IAAI,EAAEA;kBADwB,CAAhC,EAEGsL,EAFH;gBAGD,CAJD,MAIO;kBACL,IAAIvK,GAAG,GAAG,KAAKP,KAAL,CAAW,KAAK7C,OAAL,CAAa2B,iBAAxB,EAA2C,KAAK3B,OAAL,CAAa6B,eAAxD,EAAyE,KAAK7B,OAAL,CAAa4B,gBAAtF,EAAwGS,IAAxG,EAA8GsL,EAA9G,CAAV;;kBAEA,KAAKhO,KAAL,CAAW0G,KAAX,IAAoBjD,GAApB;gBACD;cACF;YAzFA,CAvkCsB,EAiqCtB;cACD9I,GAAG,EAAE,yBADJ;cAED3B,KAAK,EAAE,SAAS6O,uBAAT,CAAiCT,OAAjC,EAA0C;gBAC/C,IAAI,KAAK5H,mBAAL,CAAyB4H,OAAzB,MAAsCsE,SAA1C,EAAqD;kBACnDzE,YAAY,CAAC,KAAKzH,mBAAL,CAAyB4H,OAAzB,CAAD,CAAZ;kBACA,OAAO,KAAK5H,mBAAL,CAAyB4H,OAAzB,CAAP;gBACD;cACF;YAPA,CAjqCsB,EAyqCtB;cACDzM,GAAG,EAAE,kBADJ;cAED3B,KAAK,EAAE,SAASyW,gBAAT,CAA0BrI,OAA1B,EAAmC6C,GAAnC,EAAwC;gBAC7C,IAAIyF,OAAO,GAAG,IAAd;;gBAEA,KAAKpM,MAAL,CAAY,4BAAZ,EAA0C8D,OAA1C,EAAmD6C,GAAnD;;gBAEA,KAAKpC,uBAAL,CAA6BT,OAA7B;;gBAEA,IAAIC,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;gBAEA,IAAIC,GAAG,KAAK,IAAZ,EAAkB;kBAChB;gBACD;;gBAED,IAAI6G,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,IAA3B,CAAb;gBACA,IAAIsB,iBAAiB,GAAG/K,UAAU,CAAC,YAAY;kBAC7C,OAAO8K,OAAO,CAACT,WAAR,CAAoB7H,OAApB,CAAP;gBACD,CAFiC,EAE/B,KAAK/G,OAAL,CAAa8B,kBAAb,GAAkC+L,MAFH,CAAlC;gBAGA,KAAK1O,mBAAL,CAAyB4H,OAAzB,IAAoCuI,iBAApC;gBACA;cACD;YArBA,CAzqCsB,EA+rCtB;cACDhV,GAAG,EAAE,qBADJ;cAED3B,KAAK,EAAE,SAASwW,mBAAT,CAA6BpI,OAA7B,EAAsCrL,MAAtC,EAA8C;gBACnD,IAAI6T,OAAO,GAAG,IAAd;;gBAEA,KAAKtM,MAAL,CAAY,8BAAZ,EAA4C8D,OAA5C;;gBAEA,KAAKS,uBAAL,CAA6BT,OAA7B;;gBAEA,IAAIC,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;gBAEA,IAAIC,GAAG,KAAK,IAAZ,EAAkB;kBAChB;gBACD;;gBAED,IAAItL,MAAM,CAAC8S,OAAP,KAAmB,IAAvB,EAA6B;kBAC3B,IAAIc,iBAAiB,GAAG/K,UAAU,CAAC,YAAY;oBAC7C,OAAOgL,OAAO,CAACX,WAAR,CAAoB7H,OAApB,CAAP;kBACD,CAFiC,EAE/B,KAAK2H,mBAAL,CAAyBhT,MAAM,CAACiT,GAAhC,CAF+B,CAAlC;kBAGA,KAAKxP,mBAAL,CAAyB4H,OAAzB,IAAoCuI,iBAApC;gBACD;;gBAED;cACD;YAvBA,CA/rCsB,EAutCtB;cACDhV,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAAS6W,UAAT,CAAoBxI,GAApB,EAAyByI,aAAzB,EAAwC;gBAC7C,IAAIC,OAAO,GAAG,IAAd;;gBAEA,KAAKzM,MAAL,CAAY,gBAAZ,EAA8B+D,GAAG,CAACD,OAAlC;;gBAEA,IAAIA,OAAO,GAAGC,GAAG,CAACD,OAAlB;;gBAEA,IAAI,EAAEA,OAAO,IAAI,KAAK1I,KAAlB,CAAJ,EAA8B;kBAC5B,KAAKA,KAAL,CAAW0I,OAAX,IAAsBC,GAAtB;gBACD;;gBAED,IAAI,CAAC,KAAKiE,WAAL,EAAL,EAAyB;kBACvB;kBACAjE,GAAG,CAAC2I,OAAJ;;kBAEA;gBACD;;gBAED3I,GAAG,CAACK,eAAJ,CAAoBoI,aAApB;;gBAEA,IAAI9G,GAAG,GAAG;kBACRkC,MAAM,EAAE,KAAKrN,WAAL,CAAiBoS,SADjB;kBAERnN,MAAM,EAAE;oBACNsE,OAAO,EAAEA;kBADH;gBAFA,CAAV;;gBAOA,IAAIC,GAAG,CAAC6I,cAAR,EAAwB;kBACtBlH,GAAG,CAAClG,MAAJ,CAAWJ,IAAX,GAAkB2E,GAAG,CAAC6I,cAAtB;gBACD,CA7B4C,CA6B3C;gBACF;gBACA;gBACA;;;gBAGA,IAAI,CAAC,GAAG5W,MAAM,CAACsM,UAAX,EAAuBwB,OAAvB,EAAgC,KAAK/G,OAAL,CAAac,oBAA7C,CAAJ,EAAwE;kBACtE;kBACA,IAAI,KAAKjC,oBAAT,EAA+B;oBAC7B,KAAKC,gBAAL,CAAsBiI,OAAtB,IAAiC,IAAjC;kBACD,CAFD,MAEO;oBACL,KAAK+I,sBAAL;;oBAEA,KAAKN,UAAL,CAAgBxI,GAAhB;;oBAEA,KAAK+I,qBAAL;kBACD;gBACF,CAXD,MAWO;kBACL,IAAIC,OAAO,GAAGhJ,GAAG,CAACiJ,YAAJ,EAAd;;kBAEA,IAAID,OAAO,KAAK,IAAhB,EAAsB;oBACpBrH,GAAG,CAAClG,MAAJ,CAAWuN,OAAX,GAAqB,IAArB;;oBAEA,IAAIjH,GAAG,GAAG,KAAKmH,WAAL,CAAiBnJ,OAAjB,CAAV;;oBAEA,IAAIiC,GAAG,GAAG,KAAKmH,WAAL,CAAiBpJ,OAAjB,CAAV;;oBAEA,IAAIgC,GAAG,IAAIC,GAAX,EAAgB;sBACd,IAAID,GAAJ,EAAS;wBACPJ,GAAG,CAAClG,MAAJ,CAAWsG,GAAX,GAAiBA,GAAjB;sBACD;;sBAED,IAAIC,GAAJ,EAAS;wBACPL,GAAG,CAAClG,MAAJ,CAAWuG,GAAX,GAAiBA,GAAjB;sBACD;oBACF,CARD,MAQO;sBACL,IAAIC,MAAM,GAAG,KAAKmH,cAAL,CAAoBrJ,OAApB,CAAb;;sBAEA,IAAIkC,MAAJ,EAAY;wBACVN,GAAG,CAAClG,MAAJ,CAAWwG,MAAX,GAAoBA,MAApB;sBACD;oBACF;;oBAED,IAAIC,KAAK,GAAG,KAAKmH,aAAL,CAAmBtJ,OAAnB,CAAZ;;oBAEA,IAAImC,KAAJ,EAAW;sBACTP,GAAG,CAAClG,MAAJ,CAAWyG,KAAX,GAAmBA,KAAnB;oBACD;kBACF;;kBAED,KAAKE,KAAL,CAAWT,GAAX,EAAgBU,IAAhB,CAAqB,UAAUC,UAAV,EAAsB;oBACzCoG,OAAO,CAACY,kBAAR,CAA2BvJ,OAA3B,EAAoCiJ,OAApC,EAA6CN,OAAO,CAAC/R,QAAR,CAAiB6L,mBAAjB,CAAqCkG,OAAO,CAAClS,WAAR,CAAoBoS,SAAzD,EAAoEtG,UAAU,CAAC5N,MAA/E,CAA7C;;oBAEA,IAAI4N,UAAU,CAACI,IAAf,EAAqB;sBACnBJ,UAAU,CAACI,IAAX;oBACD;kBACF,CAND,EAMG,UAAUC,SAAV,EAAqB;oBACtB+F,OAAO,CAACa,eAAR,CAAwBxJ,OAAxB,EAAiC4C,SAAS,CAACtF,KAA3C;;oBAEA,IAAIsF,SAAS,CAACD,IAAd,EAAoB;sBAClBC,SAAS,CAACD,IAAV;oBACD;kBACF,CAZD;gBAaD;cACF;YA/FA,CAvtCsB,EAuzCtB;cACDpP,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAAS6X,YAAT,CAAsBxJ,GAAtB,EAA2B;gBAChC,OAAO,KAAK3I,KAAL,CAAW2I,GAAG,CAACD,OAAf,CAAP;gBACA,OAAO,KAAKtI,WAAL,CAAiBuI,GAAG,CAACD,OAArB,CAAP;gBACA,OAAO,KAAKxI,QAAL,CAAcyI,GAAG,CAACD,OAAlB,CAAP;gBACA,OAAO,KAAKvI,QAAL,CAAcwI,GAAG,CAACD,OAAlB,CAAP;;gBAEA,IAAI,KAAKkE,WAAL,EAAJ,EAAwB;kBACtB;kBACA,KAAKiC,WAAL,CAAiB;oBACfrC,MAAM,EAAE,KAAKrN,WAAL,CAAiBiT,WADV;oBAEfhO,MAAM,EAAE;sBACNsE,OAAO,EAAEC,GAAG,CAACD;oBADP;kBAFO,CAAjB;gBAMD;cACF;YAjBA,CAvzCsB,EAy0CtB;cACDzM,GAAG,EAAE,qBADJ;cAED3B,KAAK,EAAE,SAAS+V,mBAAT,CAA6BC,GAA7B,EAAkC;gBACvC;gBACA,OAAOb,IAAI,CAAC4C,GAAL,CAAS/B,GAAG,GAAG,IAAf,EAAqB,UAArB,CAAP;cACD;YALA,CAz0CsB,EA+0CtB;cACDrU,GAAG,EAAE,QADJ;cAED3B,KAAK,EAAE,SAASgY,MAAT,CAAgB5J,OAAhB,EAAyB;gBAC9B,OAAO,KAAKmI,OAAL,CAAanI,OAAb,CAAP;cACD;YAJA,CA/0CsB,EAo1CtB;cACDzM,GAAG,EAAE,SADJ;cAED3B,KAAK,EAAE,SAASuW,OAAT,CAAiBnI,OAAjB,EAA0B;gBAC/B,IAAIC,GAAG,GAAG,KAAK3I,KAAL,CAAW0I,OAAX,CAAV;;gBAEA,IAAI,CAACC,GAAL,EAAU;kBACR,OAAO,IAAP;gBACD;;gBAED,OAAOA,GAAP;cACD;YAVA,CAp1CsB,EA+1CtB;cACD1M,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAASiY,YAAT,CAAsB7J,OAAtB,EAA+B;gBACpC,OAAO,KAAKzI,WAAL,CAAiByI,OAAjB,MAA8BsE,SAArC;cACD;YAJA,CA/1CsB,EAo2CtB;cACD/Q,GAAG,EAAE,kBADJ;cAED3B,KAAK,EAAE,SAAS4Q,gBAAT,CAA0B7N,MAA1B,EAAkCmV,SAAlC,EAA6C;gBAClD,IAAIC,OAAO,GAAG,IAAd;;gBAEA,IAAIC,eAAe,GAAG,KAAKjT,aAA3B;gBACA,KAAKA,aAAL,GAAqB,KAArB;;gBAEA,KAAKkI,WAAL;;gBAEA,KAAK5H,gBAAL,GAAwB,KAAxB;;gBAEA,IAAI,KAAK6M,WAAL,EAAJ,EAAwB;kBACtB;gBACD;;gBAED,IAAI,KAAK1L,aAAL,KAAuB,IAA3B,EAAiC;kBAC/B,KAAKD,QAAL,GAAgB,IAAI6J,IAAJ,GAAW6H,OAAX,KAAuB,KAAKzR,aAAL,CAAmByR,OAAnB,EAAvC;kBACA,KAAKzR,aAAL,GAAqB,IAArB;gBACD;;gBAED,KAAKpB,SAAL,GAAiBzC,MAAM,CAAC+S,MAAxB;;gBAEA,KAAK/I,UAAL,CAAgB,WAAhB;;gBAEA,IAAI,KAAK1G,eAAT,EAA0B;kBACxB4H,YAAY,CAAC,KAAK5H,eAAN,CAAZ;gBACD;;gBAED,IAAItD,MAAM,CAAC8S,OAAX,EAAoB;kBAClB,KAAKxP,eAAL,GAAuBuF,UAAU,CAAC,YAAY;oBAC5C,OAAOuM,OAAO,CAACxG,QAAR,EAAP;kBACD,CAFgC,EAE9B,KAAKoE,mBAAL,CAAyBhT,MAAM,CAACiT,GAAhC,CAF8B,CAAjC;gBAGD;;gBAED,KAAKsC,aAAL;gBACA,KAAKnB,sBAAL;;gBAEA,KAAK,IAAI/I,OAAT,IAAoB,KAAK1I,KAAzB,EAAgC;kBAC9B,IAAI,KAAKA,KAAL,CAAWmF,cAAX,CAA0BuD,OAA1B,CAAJ,EAAwC;oBACtC,IAAIC,GAAG,GAAG,KAAK3I,KAAL,CAAW0I,OAAX,CAAV;;oBAEA,IAAIC,GAAG,CAACI,kBAAJ,EAAJ,EAA8B;sBAC5B,KAAKoI,UAAL,CAAgBxI,GAAhB,EAAqB+J,eAArB;oBACD;kBACF;gBACF;;gBAED,KAAKhB,qBAAL;gBACA,KAAKmB,YAAL;;gBAEA,KAAKC,UAAL;;gBAEA,IAAIC,GAAG,GAAG;kBACR3C,MAAM,EAAE/S,MAAM,CAAC+S,MADP;kBAER/G,SAAS,EAAE,KAAK1J,cAFR;kBAGRqT,OAAO,EAAE,KAAK/R;gBAHN,CAAV;;gBAMA,IAAI5D,MAAM,CAAC2G,IAAX,EAAiB;kBACf+O,GAAG,CAAC/O,IAAJ,GAAW3G,MAAM,CAAC2G,IAAlB;gBACD;;gBAED,KAAKgL,IAAL,CAAU,SAAV,EAAqB+D,GAArB;;gBAEA,IAAI1V,MAAM,CAACkN,IAAX,EAAiB;kBACf,KAAK0I,kBAAL,CAAwB5V,MAAM,CAACkN,IAA/B;gBACD;cACF;YApEA,CAp2CsB,EAy6CtB;cACDtO,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAAS2Y,kBAAT,CAA4B1I,IAA5B,EAAkC;gBACvC,KAAK,IAAI7B,OAAT,IAAoB6B,IAApB,EAA0B;kBACxB,IAAIA,IAAI,CAACpF,cAAL,CAAoBuD,OAApB,CAAJ,EAAkC;oBAChC,IAAIC,GAAG,GAAG4B,IAAI,CAAC7B,OAAD,CAAd;oBACA,IAAI0I,aAAa,GAAG,KAAKnR,WAAL,CAAiByI,OAAjB,MAA8BsE,SAAlD;oBACA,IAAIkG,MAAM,GAAG;sBACXxK,OAAO,EAAEA,OADE;sBAEX0I,aAAa,EAAEA;oBAFJ,CAAb;oBAIA8B,MAAM,GAAG,KAAKC,uBAAL,CAA6BD,MAA7B,EAAqCvK,GAArC,CAAT;oBACA,KAAKqG,IAAL,CAAU,WAAV,EAAuBkE,MAAvB;kBACD;gBACF;;gBAED,KAAK,IAAIE,SAAT,IAAsB7I,IAAtB,EAA4B;kBAC1B,IAAIA,IAAI,CAACpF,cAAL,CAAoBiO,SAApB,CAAJ,EAAoC;oBAClC,IAAIC,IAAI,GAAG9I,IAAI,CAAC6I,SAAD,CAAf;;oBAEA,IAAIC,IAAI,CAACC,SAAT,EAAoB;sBAClB,IAAIC,IAAI,GAAGF,IAAI,CAAC3F,YAAhB;;sBAEA,IAAI6F,IAAI,IAAIA,IAAI,CAAC3X,MAAL,GAAc,CAA1B,EAA6B;wBAC3B;wBACA;wBACA,IAAI2X,IAAI,CAAC3X,MAAL,GAAc,CAAd,KAAoB,CAAC2X,IAAI,CAAC,CAAD,CAAJ,CAAQ3I,MAAT,IAAmB2I,IAAI,CAAC,CAAD,CAAJ,CAAQ3I,MAAR,GAAiB2I,IAAI,CAAC,CAAD,CAAJ,CAAQ3I,MAAhE,CAAJ,EAA6E;0BAC3E2I,IAAI,GAAGA,IAAI,CAACpG,OAAL,EAAP;wBACD;;wBAED,KAAK,IAAIxR,CAAT,IAAc4X,IAAd,EAAoB;0BAClB,IAAIA,IAAI,CAACpO,cAAL,CAAoBxJ,CAApB,CAAJ,EAA4B;4BAC1B,KAAK6X,kBAAL,CAAwBJ,SAAxB,EAAmCG,IAAI,CAAC5X,CAAD,CAAvC;0BACD;wBACF;sBACF;oBACF;;oBAED,KAAKsE,WAAL,CAAiBmT,SAAjB,IAA8B;sBAC5B,OAAOC,IAAI,CAAC3I,GADgB;sBAE5B,OAAO2I,IAAI,CAAC1I,GAFgB;sBAG5B,UAAU0I,IAAI,CAACzI,MAHa;sBAI5B,SAASyI,IAAI,CAACxI,KAJc;sBAK5B,eAAewI,IAAI,CAAC5I;oBALQ,CAA9B;kBAOD;gBACF;cACF;YA/CA,CAz6CsB,EAy9CtB;cACDxO,GAAG,EAAE,WADJ;cAED3B,KAAK,EAAE,SAAS8N,SAAT,GAAqB;gBAC1B,IAAI,KAAKvH,YAAL,KAAsB,IAA1B,EAAgC;kBAC9B0H,YAAY,CAAC,KAAK1H,YAAN,CAAZ;kBACA,KAAKA,YAAL,GAAoB,IAApB;gBACD;;gBAED,IAAI,KAAKD,YAAL,KAAsB,IAA1B,EAAgC;kBAC9B2H,YAAY,CAAC,KAAK3H,YAAN,CAAZ;kBACA,KAAKA,YAAL,GAAoB,IAApB;gBACD;cACF;YAZA,CAz9CsB,EAs+CtB;cACD3E,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAASwY,UAAT,GAAsB;gBAC3B,IAAIW,OAAO,GAAG,IAAd;;gBAEA,IAAI,KAAK9R,OAAL,CAAaW,IAAb,KAAsB,IAAtB,IAA8B,KAAKX,OAAL,CAAaY,YAAb,IAA6B,CAA/D,EAAkE;kBAChE;gBACD;;gBAED,IAAI,CAAC,KAAKqK,WAAL,EAAL,EAAyB;kBACvB;gBACD;;gBAED,KAAKhM,YAAL,GAAoBsF,UAAU,CAAC,YAAY;kBACzC,IAAI,CAACuN,OAAO,CAAC7G,WAAR,EAAL,EAA4B;oBAC1B6G,OAAO,CAACrL,SAAR;;oBAEA;kBACD;;kBAEDqL,OAAO,CAACnR,IAAR;;kBAEAmR,OAAO,CAAC5S,YAAR,GAAuBqF,UAAU,CAAC,YAAY;oBAC5CuN,OAAO,CAAChI,WAAR,CAAoB,SAApB,EAA+B,IAA/B;kBACD,CAFgC,EAE9BgI,OAAO,CAAC9R,OAAR,CAAgBa,eAFc,CAAjC;gBAGD,CAZ6B,EAY3B,KAAKb,OAAL,CAAaY,YAZc,CAA9B;cAaD;YA1BA,CAt+CsB,EAigDtB;cACDtG,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAAS+P,YAAT,GAAwB;gBAC7B,KAAKjC,SAAL;;gBAEA,KAAK0K,UAAL;cACD;YANA,CAjgDsB,EAwgDtB;cACD7W,GAAG,EAAE,iBADJ;cAED3B,KAAK,EAAE,SAAS4X,eAAT,CAAyBxJ,OAAzB,EAAkC1C,KAAlC,EAAyC;gBAC9C,IAAI2C,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;gBAEA,IAAI,CAACC,GAAL,EAAU;kBACR;gBACD;;gBAED,IAAI,CAACA,GAAG,CAAC+K,cAAJ,EAAL,EAA2B;kBACzB;gBACD;;gBAED,IAAI1N,KAAK,CAACwF,IAAN,KAAe,CAAf,IAAoBxF,KAAK,CAAC2N,OAAN,KAAkBrV,aAA1C,EAAyD;kBACvD;kBACA,KAAKmN,WAAL,CAAiB,SAAjB,EAA4B,IAA5B;;kBAEA;gBACD;;gBAED9C,GAAG,CAACiL,kBAAJ,CAAuB5N,KAAvB;cACD;YArBA,CAxgDsB,EA8hDtB;cACD/J,GAAG,EAAE,yBADJ;cAED3B,KAAK,EAAE,SAAS6Y,uBAAT,CAAiCJ,GAAjC,EAAsC1V,MAAtC,EAA8C;gBACnD,IAAIiW,SAAS,GAAG,KAAhB;;gBAEA,IAAI,eAAejW,MAAnB,EAA2B;kBACzBiW,SAAS,GAAGjW,MAAM,CAACiW,SAAnB;gBACD;;gBAEDP,GAAG,CAACO,SAAJ,GAAgBA,SAAhB;gBACA,IAAIO,UAAU,GAAG,KAAjB;;gBAEA,IAAI,gBAAgBxW,MAApB,EAA4B;kBAC1BwW,UAAU,GAAGxW,MAAM,CAACwW,UAApB;gBACD;;gBAED,IAAIhJ,KAAK,GAAG,EAAZ;;gBAEA,IAAI,WAAWxN,MAAf,EAAuB;kBACrBwN,KAAK,GAAGxN,MAAM,CAACwN,KAAf;gBACD;;gBAED,IAAID,MAAM,GAAG,CAAb;;gBAEA,IAAI,YAAYvN,MAAhB,EAAwB;kBACtBuN,MAAM,GAAGvN,MAAM,CAACuN,MAAhB;gBACD;;gBAED,IAAIiJ,UAAJ,EAAgB;kBACdd,GAAG,CAACe,cAAJ,GAAqB;oBACnB,UAAUlJ,MADS;oBAEnB,SAASC;kBAFU,CAArB;gBAID;;gBAED;;gBAEA,IAAIxN,MAAM,CAAC2G,IAAX,EAAiB;kBACf+O,GAAG,CAAC/O,IAAJ,GAAW3G,MAAM,CAAC2G,IAAlB;gBACD;;gBAED,OAAO+O,GAAP;cACD;YA1CA,CA9hDsB,EAykDtB;cACD9W,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAAS2X,kBAAT,CAA4BvJ,OAA5B,EAAqC8J,SAArC,EAAgDnV,MAAhD,EAAwD;gBAC7D,IAAI0W,OAAO,GAAG,IAAd;;gBAEA,IAAIpL,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;gBAEA,IAAI,CAACC,GAAL,EAAU;kBACR;gBACD;;gBAED,IAAI,CAACA,GAAG,CAAC+K,cAAJ,EAAL,EAA2B;kBACzB;gBACD;;gBAED/K,GAAG,CAACqL,oBAAJ,CAAyB3W,MAAzB;;gBAEA,IAAIkW,IAAI,GAAGlW,MAAM,CAACqQ,YAAlB;;gBAEA,IAAI6F,IAAI,IAAIA,IAAI,CAAC3X,MAAL,GAAc,CAA1B,EAA6B;kBAC3B,IAAI2X,IAAI,CAAC3X,MAAL,IAAe,CAAf,IAAoB,CAAC2X,IAAI,CAAC,CAAD,CAAJ,CAAQ3I,MAA7B,IAAuC,CAAC2I,IAAI,CAAC,CAAD,CAAJ,CAAQ3I,MAApD,EAA4D;oBAC1D;oBACA2I,IAAI,GAAGA,IAAI,CAACpG,OAAL,EAAP;kBACD;;kBAED,KAAK,IAAIxR,CAAT,IAAc4X,IAAd,EAAoB;oBAClB,IAAIA,IAAI,CAACpO,cAAL,CAAoBxJ,CAApB,CAAJ,EAA4B;sBAC1B,KAAK6X,kBAAL,CAAwB9K,OAAxB,EAAiC6K,IAAI,CAAC5X,CAAD,CAArC;oBACD;kBACF;gBACF;;gBAED,IAAI0B,MAAM,CAACoN,WAAP,KAAuB,CAAC+H,SAAD,IAAc,CAACnV,MAAM,CAACiW,SAA7C,CAAJ,EAA6D;kBAC3D,KAAKpT,QAAL,CAAcwI,OAAd,IAAyBrL,MAAM,CAACqN,GAAP,IAAc,CAAvC;kBACA,KAAKvK,QAAL,CAAcuI,OAAd,IAAyBrL,MAAM,CAACsN,GAAP,IAAc,CAAvC;kBACA,KAAKvK,WAAL,CAAiBsI,OAAjB,IAA4BrL,MAAM,CAACuN,MAAP,IAAiB,CAA7C;gBACD;;gBAED,KAAKvK,UAAL,CAAgBqI,OAAhB,IAA2BrL,MAAM,CAACwN,KAAP,IAAgB,EAA3C;;gBAEA,IAAIxN,MAAM,CAACoN,WAAX,EAAwB;kBACtB9B,GAAG,CAACsL,YAAJ,GAAmB,IAAnB;gBACD;;gBAED,IAAI5W,MAAM,CAAC8S,OAAP,KAAmB,IAAvB,EAA6B;kBAC3B,IAAIc,iBAAiB,GAAG/K,UAAU,CAAC,YAAY;oBAC7C,OAAO6N,OAAO,CAACxD,WAAR,CAAoB7H,OAApB,CAAP;kBACD,CAFiC,EAE/B,KAAK2H,mBAAL,CAAyBhT,MAAM,CAACiT,GAAhC,CAF+B,CAAlC;kBAGA,KAAKxP,mBAAL,CAAyB4H,OAAzB,IAAoCuI,iBAApC;gBACD;cACF;YAlDA,CAzkDsB,EA4nDtB;cACDhV,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAASoU,YAAT,CAAsBD,KAAtB,EAA6BpD,IAA7B,EAAmC;gBACxC,IAAIhD,EAAE,GAAGoG,KAAK,CAACpG,EAAf;gBACA,IAAIhL,MAAM,GAAGoR,KAAK,CAACpR,MAAnB;;gBAEA,IAAI,EAAEgL,EAAE,IAAI,KAAKrH,UAAb,CAAJ,EAA8B;kBAC5BqK,IAAI;kBACJ;gBACD;;gBAED,IAAI/C,SAAS,GAAG,KAAKtH,UAAL,CAAgBqH,EAAhB,CAAhB;gBACAE,YAAY,CAAC,KAAKvH,UAAL,CAAgBqH,EAAhB,EAAoBhG,OAArB,CAAZ;gBACA,OAAO,KAAKrB,UAAL,CAAgBqH,EAAhB,CAAP;;gBAEA,IAAI,CAAC,CAAC,GAAGzN,MAAM,CAACsZ,WAAX,EAAwBzF,KAAxB,CAAL,EAAqC;kBACnC,IAAIhK,QAAQ,GAAG6D,SAAS,CAAC7D,QAAzB;;kBAEA,IAAI,CAACA,QAAL,EAAe;oBACb;kBACD;;kBAEDA,QAAQ,CAAC;oBACPpH,MAAM,EAAEA,MADD;oBAEPgO,IAAI,EAAEA;kBAFC,CAAD,CAAR;gBAID,CAXD,MAWO;kBACL,IAAI7C,OAAO,GAAGF,SAAS,CAACE,OAAxB;;kBAEA,IAAI,CAACA,OAAL,EAAc;oBACZ6C,IAAI;oBACJ;kBACD;;kBAED,IAAIrF,KAAK,GAAGyI,KAAK,CAACzI,KAAlB;kBACAwC,OAAO,CAAC;oBACNxC,KAAK,EAAEA,KADD;oBAENqF,IAAI,EAAEA;kBAFA,CAAD,CAAP;gBAID;cACF;YAxCA,CA5nDsB,EAqqDtB;cACDpP,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAAS6Z,WAAT,CAAqBzL,OAArB,EAA8B0L,IAA9B,EAAoC;gBACzC,IAAIrB,GAAG,GAAG;kBACR,QAAQqB,IAAI,CAACC;gBADL,CAAV;;gBAIA,IAAI1L,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;gBAEA,IAAI,CAACC,GAAL,EAAU;kBACR,IAAI,KAAK4J,YAAL,CAAkB7J,OAAlB,CAAJ,EAAgC;oBAC9BqK,GAAG,CAACrK,OAAJ,GAAcA,OAAd;oBACA,KAAKsG,IAAL,CAAU,MAAV,EAAkB+D,GAAlB;kBACD;;kBAED;gBACD;;gBAEDpK,GAAG,CAACqG,IAAJ,CAAS,MAAT,EAAiB+D,GAAjB;cACD;YAnBA,CArqDsB,EAyrDtB;cACD9W,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAASga,YAAT,CAAsB5L,OAAtB,EAA+B6L,KAA/B,EAAsC;gBAC3C,IAAIxB,GAAG,GAAG;kBACR,QAAQwB,KAAK,CAACF;gBADN,CAAV;;gBAIA,IAAI1L,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;gBAEA,IAAI,CAACC,GAAL,EAAU;kBACR,IAAI,KAAK4J,YAAL,CAAkB7J,OAAlB,CAAJ,EAAgC;oBAC9BqK,GAAG,CAACrK,OAAJ,GAAcA,OAAd;oBACA,KAAKsG,IAAL,CAAU,OAAV,EAAmB+D,GAAnB;kBACD;;kBAED;gBACD;;gBAEDpK,GAAG,CAACqG,IAAJ,CAAS,OAAT,EAAkB+D,GAAlB;cACD;YAnBA,CAzrDsB,EA6sDtB;cACD9W,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAASka,YAAT,CAAsB9L,OAAtB,EAA+B+L,KAA/B,EAAsC;gBAC3C,IAAI1B,GAAG,GAAG,EAAV;;gBAEA,IAAIpK,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;gBAEA,IAAI,CAACC,GAAL,EAAU;kBACR,IAAI,KAAK4J,YAAL,CAAkB7J,OAAlB,CAAJ,EAAgC;oBAC9B,OAAO,KAAKzI,WAAL,CAAiByI,OAAjB,CAAP;oBACAqK,GAAG,CAACrK,OAAJ,GAAcA,OAAd;oBACA,KAAKsG,IAAL,CAAU,aAAV,EAAyB+D,GAAzB;kBACD;;kBAED;gBACD;;gBAEDpK,GAAG,CAAC+L,WAAJ;;gBAEA,IAAID,KAAK,CAACE,WAAN,KAAsB,IAA1B,EAAgC;kBAC9BhM,GAAG,CAACiM,SAAJ;gBACD;cACF;YAtBA,CA7sDsB,EAouDtB;cACD3Y,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAASua,UAAT,CAAoBnM,OAApB,EAA6BC,GAA7B,EAAkC;gBACvC,KAAK1I,WAAL,CAAiByI,OAAjB,IAA4B;kBAC1B,OAAOC,GAAG,CAAC+B,GADe;kBAE1B,OAAO/B,GAAG,CAACgC,GAFe;kBAG1B,UAAUhC,GAAG,CAACiC,MAHY;kBAI1B,SAASjC,GAAG,CAACkC,KAJa;kBAK1B,eAAelC,GAAG,CAAC8B;gBALO,CAA5B;gBAOA,IAAIsI,GAAG,GAAG;kBACR,WAAWrK,OADH;kBAER0I,aAAa,EAAE;gBAFP,CAAV;gBAIA2B,GAAG,GAAG,KAAKI,uBAAL,CAA6BJ,GAA7B,EAAkCpK,GAAlC,CAAN;gBACA,KAAKqG,IAAL,CAAU,WAAV,EAAuB+D,GAAvB;cACD;YAhBA,CApuDsB,EAqvDtB;cACD9W,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAASkZ,kBAAT,CAA4B9K,OAA5B,EAAqCoM,GAArC,EAA0C;gBAC/C,IAAInM,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;gBAEA,IAAIqK,GAAG,GAAG;kBACR,QAAQ+B,GAAG,CAAC9Q,IADJ;kBAER,OAAO8Q,GAAG,CAACpK,GAFH;kBAGR,OAAOoK,GAAG,CAACnK,GAHH;kBAIR,UAAUmK,GAAG,CAAClK;gBAJN,CAAV;;gBAOA,IAAIkK,GAAG,CAACT,IAAR,EAAc;kBACZtB,GAAG,CAACsB,IAAJ,GAAWS,GAAG,CAACT,IAAf;gBACD;;gBAED,IAAI,CAAC1L,GAAL,EAAU;kBACR,IAAI,KAAK4J,YAAL,CAAkB7J,OAAlB,CAAJ,EAAgC;oBAC9B,IAAIoM,GAAG,CAACpK,GAAJ,KAAYsC,SAAhB,EAA2B;sBACzB,KAAK/M,WAAL,CAAiByI,OAAjB,EAA0BgC,GAA1B,GAAgCoK,GAAG,CAACpK,GAApC;oBACD;;oBAED,IAAIoK,GAAG,CAACnK,GAAJ,KAAYqC,SAAhB,EAA2B;sBACzB,KAAK/M,WAAL,CAAiByI,OAAjB,EAA0BiC,GAA1B,GAAgCmK,GAAG,CAACnK,GAApC;oBACD;;oBAED,IAAImK,GAAG,CAAClK,MAAJ,KAAeoC,SAAnB,EAA8B;sBAC5B,KAAK/M,WAAL,CAAiByI,OAAjB,EAA0BkC,MAA1B,GAAmCkK,GAAG,CAAClK,MAAvC;oBACD;;oBAEDmI,GAAG,CAACrK,OAAJ,GAAcA,OAAd;oBACA,KAAKsG,IAAL,CAAU,SAAV,EAAqB+D,GAArB;kBACD;;kBAED;gBACD;;gBAED,IAAI+B,GAAG,CAACpK,GAAJ,KAAYsC,SAAhB,EAA2B;kBACzB,KAAK9M,QAAL,CAAcwI,OAAd,IAAyBoM,GAAG,CAACpK,GAA7B;gBACD;;gBAED,IAAIoK,GAAG,CAACnK,GAAJ,KAAYqC,SAAhB,EAA2B;kBACzB,KAAK7M,QAAL,CAAcuI,OAAd,IAAyBoM,GAAG,CAACnK,GAA7B;gBACD;;gBAED,IAAImK,GAAG,CAAClK,MAAJ,KAAeoC,SAAnB,EAA8B;kBAC5B,KAAK5M,WAAL,CAAiBsI,OAAjB,IAA4BoM,GAAG,CAAClK,MAAhC;gBACD;;gBAEDjC,GAAG,CAACqG,IAAJ,CAAS,SAAT,EAAoB+D,GAApB;cACD;YAlDA,CArvDsB,EAwyDtB;cACD9W,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAASya,cAAT,CAAwBpB,OAAxB,EAAiC;gBACtC,KAAK3E,IAAL,CAAU,SAAV,EAAqB2E,OAAO,CAAC3P,IAA7B;cACD;YAJA,CAxyDsB,EA6yDtB;cACD/H,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASqU,WAAT,CAAqB3K,IAArB,EAA2BqH,IAA3B,EAAiC;gBACtC,IAAI2J,IAAI,GAAG,KAAK1V,QAAL,CAAc2V,UAAd,CAAyBjR,IAAzB,CAAX;;gBAEA,IAAIkR,IAAI,GAAG,CAAX;;gBAEA,IAAI,UAAUF,IAAd,EAAoB;kBAClBE,IAAI,GAAGF,IAAI,CAAC,MAAD,CAAX;gBACD;;gBAED,IAAItM,OAAO,GAAGsM,IAAI,CAACtM,OAAnB;;gBAEA,IAAIwM,IAAI,KAAK,KAAK9V,SAAL,CAAe+V,WAA5B,EAAyC;kBACvC,IAAIL,GAAG,GAAG,KAAKxV,QAAL,CAAc8V,cAAd,CAA6B,KAAKhW,SAAL,CAAe+V,WAA5C,EAAyDH,IAAI,CAAChR,IAA9D,CAAV;;kBAEA,KAAKwP,kBAAL,CAAwB9K,OAAxB,EAAiCoM,GAAjC;gBACD,CAJD,MAIO,IAAII,IAAI,KAAK,KAAK9V,SAAL,CAAeiW,OAA5B,EAAqC;kBAC1C,IAAI1B,OAAO,GAAG,KAAKrU,QAAL,CAAc8V,cAAd,CAA6B,KAAKhW,SAAL,CAAeiW,OAA5C,EAAqDL,IAAI,CAAChR,IAA1D,CAAd;;kBAEA,KAAK+Q,cAAL,CAAoBpB,OAApB;gBACD,CAJM,MAIA,IAAIuB,IAAI,KAAK,KAAK9V,SAAL,CAAekW,IAA5B,EAAkC;kBACvC,IAAIlB,IAAI,GAAG,KAAK9U,QAAL,CAAc8V,cAAd,CAA6B,KAAKhW,SAAL,CAAekW,IAA5C,EAAkDN,IAAI,CAAChR,IAAvD,CAAX;;kBAEA,KAAKmQ,WAAL,CAAiBzL,OAAjB,EAA0B0L,IAA1B;gBACD,CAJM,MAIA,IAAIc,IAAI,KAAK,KAAK9V,SAAL,CAAemW,KAA5B,EAAmC;kBACxC,IAAIhB,KAAK,GAAG,KAAKjV,QAAL,CAAc8V,cAAd,CAA6B,KAAKhW,SAAL,CAAemW,KAA5C,EAAmDP,IAAI,CAAChR,IAAxD,CAAZ;;kBAEA,KAAKsQ,YAAL,CAAkB5L,OAAlB,EAA2B6L,KAA3B;gBACD,CAJM,MAIA,IAAIW,IAAI,KAAK,KAAK9V,SAAL,CAAegT,WAA5B,EAAyC;kBAC9C,IAAIqC,KAAK,GAAG,KAAKnV,QAAL,CAAc8V,cAAd,CAA6B,KAAKhW,SAAL,CAAegT,WAA5C,EAAyD4C,IAAI,CAAChR,IAA9D,CAAZ;;kBAEA,KAAKwQ,YAAL,CAAkB9L,OAAlB,EAA2B+L,KAA3B;gBACD,CAJM,MAIA,IAAIS,IAAI,KAAK,KAAK9V,SAAL,CAAemS,SAA5B,EAAuC;kBAC5C,IAAI5I,GAAG,GAAG,KAAKrJ,QAAL,CAAc8V,cAAd,CAA6B,KAAKhW,SAAL,CAAegT,WAA5C,EAAyD4C,IAAI,CAAChR,IAA9D,CAAV;;kBAEA,KAAK6Q,UAAL,CAAgBnM,OAAhB,EAAyBC,GAAzB;gBACD;;gBAED0C,IAAI;cACL;YAxCA,CA7yDsB,EAs1DtB;cACDpP,GAAG,EAAE,QADJ;cAED3B,KAAK,EAAE,SAASkb,MAAT,GAAkB;gBACvB,IAAIC,QAAQ,GAAG,KAAKnV,SAAL,CAAeoV,KAAf,CAAqB,CAArB,CAAf;;gBAEA,KAAKpV,SAAL,GAAiB,EAAjB;;gBAEA,KAAKiJ,cAAL,CAAoBkM,QAApB;cACD;YARA,CAt1DsB,EA+1DtB;cACDxZ,GAAG,EAAE,OADJ;cAED3B,KAAK,EAAE,SAASqb,KAAT,GAAiB;gBACtB,IAAIC,OAAO,GAAG,IAAd;;gBAEA,IAAItL,GAAG,GAAG;kBACRkC,MAAM,EAAE,KAAKrN,WAAL,CAAiB0W;gBADjB,CAAV;;gBAIA,KAAK9K,KAAL,CAAWT,GAAX,EAAgBU,IAAhB,CAAqB,UAAUC,UAAV,EAAsB;kBACzC2K,OAAO,CAACE,aAAR,CAAsBF,OAAO,CAACtW,QAAR,CAAiB6L,mBAAjB,CAAqCyK,OAAO,CAACzW,WAAR,CAAoB0W,IAAzD,EAA+D5K,UAAU,CAAC5N,MAA1E,CAAtB;;kBAEA,IAAI4N,UAAU,CAACI,IAAf,EAAqB;oBACnBJ,UAAU,CAACI,IAAX;kBACD;gBACF,CAND,EAMG,UAAUC,SAAV,EAAqB;kBACtBsK,OAAO,CAAChR,MAAR,CAAe,YAAf,EAA6B0G,SAAS,CAACtF,KAAvC;;kBAEA,IAAIsF,SAAS,CAACD,IAAd,EAAoB;oBAClBC,SAAS,CAACD,IAAV;kBACD;gBACF,CAZD;cAaD;YAtBA,CA/1DsB,EAs3DtB;cACDpP,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAASwb,aAAT,CAAuBzY,MAAvB,EAA+B;gBACpC,IAAI,CAAC,KAAKuP,WAAL,EAAL,EAAyB;kBACvB;gBACD;;gBAED,KAAKxE,SAAL;;gBAEA,KAAK0K,UAAL;cACD;YAVA,CAt3DsB,EAi4DtB;cACD7W,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASuX,WAAT,CAAqBnJ,OAArB,EAA8B;gBACnC,IAAIqN,OAAO,GAAG,KAAK7V,QAAL,CAAcwI,OAAd,CAAd;;gBAEA,IAAIqN,OAAJ,EAAa;kBACX,OAAOA,OAAP;gBACD;;gBAED,OAAO,CAAP;cACD;YAVA,CAj4DsB,EA44DtB;cACD9Z,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAASyX,cAAT,CAAwBrJ,OAAxB,EAAiC;gBACtC,IAAIsN,UAAU,GAAG,KAAK5V,WAAL,CAAiBsI,OAAjB,CAAjB;;gBAEA,IAAIsN,UAAJ,EAAgB;kBACd,OAAOA,UAAP;gBACD;;gBAED,OAAO,CAAP;cACD;YAVA,CA54DsB,EAu5DtB;cACD/Z,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASwX,WAAT,CAAqBpJ,OAArB,EAA8B;gBACnC,IAAIuN,OAAO,GAAG,KAAK9V,QAAL,CAAcuI,OAAd,CAAd;;gBAEA,IAAIuN,OAAJ,EAAa;kBACX,OAAOA,OAAP;gBACD;;gBAED,OAAO,CAAP;cACD;YAVA,CAv5DsB,EAk6DtB;cACDha,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAAS0X,aAAT,CAAuBtJ,OAAvB,EAAgC;gBACrC,IAAIwN,SAAS,GAAG,KAAK7V,UAAL,CAAgBqI,OAAhB,CAAhB;;gBAEA,IAAIwN,SAAJ,EAAe;kBACb,OAAOA,SAAP;gBACD;;gBAED,OAAO,EAAP;cACD;YAVA,CAl6DsB,EA66DtB;cACDja,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAASmO,kBAAT,CAA4BkL,OAA5B,EAAqCnI,IAArC,EAA2C;gBAChD,IAAI2K,SAAS,GAAG;kBACdxC,OAAO,EAAEA,OADK;kBAEdnI,IAAI,EAAEA,IAAI,IAAI;gBAFA,CAAhB;gBAIA,OAAO2K,SAAP;cACD;YARA,CA76DsB,EAs7DtB;cACDla,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAASwU,aAAT,CAAuBzG,EAAvB,EAA2B5D,QAA3B,EAAqC+D,OAArC,EAA8C;gBACnD,IAAI4N,OAAO,GAAG,IAAd;;gBAEA,KAAKpV,UAAL,CAAgBqH,EAAhB,IAAsB;kBACpB5D,QAAQ,EAAEA,QADU;kBAEpB+D,OAAO,EAAEA,OAFW;kBAGpBnG,OAAO,EAAE;gBAHW,CAAtB;gBAKA,KAAKrB,UAAL,CAAgBqH,EAAhB,EAAoBhG,OAApB,GAA8B6D,UAAU,CAAC,YAAY;kBACnD,OAAOkQ,OAAO,CAACpV,UAAR,CAAmBqH,EAAnB,CAAP;;kBAEA,IAAI,CAAC,GAAGzN,MAAM,CAACyb,UAAX,EAAuB7N,OAAvB,CAAJ,EAAqC;oBACnCA,OAAO,CAAC;sBACNxC,KAAK,EAAEoQ,OAAO,CAAC3N,kBAAR,CAA2BnK,aAA3B;oBADD,CAAD,CAAP;kBAGD;gBACF,CARuC,EAQrC,KAAKqD,OAAL,CAAaU,OARwB,CAAxC;cASD;YAnBA,CAt7DsB,EA08DtB;cACDpG,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASuU,WAAT,CAAqB8E,OAArB,EAA8B;gBACnC,IAAItL,EAAE,GAAG,KAAKX,cAAL,EAAT;;gBAEAiM,OAAO,CAACtL,EAAR,GAAaA,EAAb;;gBAEA,IAAI,KAAK9H,WAAL,KAAqB,IAAzB,EAA+B;kBAC7B,KAAKD,SAAL,CAAe0U,IAAf,CAAoBrB,OAApB;gBACD,CAFD,MAEO;kBACL,KAAKpK,cAAL,CAAoB,CAACoK,OAAD,CAApB;gBACD;;gBAED,OAAOtL,EAAP;cACD;YAdA,CA18DsB,EAy9DtB;cACDpM,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASsS,WAAT,GAAuB;gBAC5B,OAAO,KAAKnF,YAAL,EAAP;cACD;YAJA,CAz9DsB,EA89DtB;cACDxL,GAAG,EAAE,SADJ;cAED3B,KAAK,EAAE,SAASgc,OAAT,GAAmB;gBACxB,KAAKpK,QAAL;cACD;YAJA,CA99DsB,EAm+DtB;cACDjQ,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAASic,UAAT,GAAsB;gBAC3B,KAAK9K,WAAL,CAAiB,QAAjB,EAA2B,KAA3B;cACD;YAJA,CAn+DsB,EAw+DtB;cACDxP,GAAG,EAAE,MADJ;cAED3B,KAAK,EAAE,SAASgI,IAAT,GAAgB;gBACrB,OAAO,KAAKqT,KAAL,EAAP;cACD;YAJA,CAx+DsB,EA6+DtB;cACD1Z,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAASsY,aAAT,GAAyB;gBAC9B;gBACA;gBACA,KAAKrS,WAAL,GAAmB,IAAnB;cACD;YANA,CA7+DsB,EAo/DtB;cACDtE,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAASuY,YAAT,GAAwB;gBAC7B,KAAKtS,WAAL,GAAmB,KAAnB;;gBAEA,KAAKiV,MAAL;cACD;YANA,CAp/DsB,EA2/DtB;cACDvZ,GAAG,EAAE,wBADJ;cAED3B,KAAK,EAAE,SAASmX,sBAAT,GAAkC;gBACvC;gBACA;gBACA,KAAKjR,oBAAL,GAA4B,IAA5B;cACD;YANA,CA3/DsB,EAkgEtB;cACDvE,GAAG,EAAE,uBADJ;cAED3B,KAAK,EAAE,SAASoX,qBAAT,GAAiC;gBACtC,IAAI8E,OAAO,GAAG,IAAd,CADsC,CAGtC;gBACA;;;gBACA,KAAKhW,oBAAL,GAA4B,KAA5B;gBACA,IAAIiW,YAAY,GAAG,KAAKhW,gBAAxB;gBACA,KAAKA,gBAAL,GAAwB,EAAxB;gBACA,IAAIiQ,QAAQ,GAAG,EAAf;;gBAEA,KAAK,IAAIhI,OAAT,IAAoB+N,YAApB,EAAkC;kBAChC,IAAIA,YAAY,CAACtR,cAAb,CAA4BuD,OAA5B,CAAJ,EAA0C;oBACxC,IAAIC,GAAG,GAAG,KAAKkI,OAAL,CAAanI,OAAb,CAAV;;oBAEA,IAAI,CAACC,GAAL,EAAU;sBACR;oBACD;;oBAED+H,QAAQ,CAACsE,IAAT,CAActM,OAAd;kBACD;gBACF;;gBAED,IAAIgI,QAAQ,CAAC9U,MAAT,KAAoB,CAAxB,EAA2B;kBACzB,KAAKgJ,MAAL,CAAY,oDAAZ;;kBAEA;gBACD;;gBAED,IAAIZ,IAAI,GAAG;kBACToM,MAAM,EAAE,KAAKtQ,SADJ;kBAET4Q,QAAQ,EAAEA;gBAFD,CAAX;gBAIA,IAAItB,QAAQ,GAAG,KAAKtP,SAApB;;gBAEA,IAAIkI,KAAK,GAAG,KAAKqH,SAAL,EAAZ;;gBAEA,IAAIC,EAAE,GAAG,SAASA,EAAT,CAAYC,IAAZ,EAAkB;kBACzB,IAAIvH,KAAK,IAAIwO,OAAO,CAAClV,KAArB,EAA4B;oBAC1B,OAAOkV,OAAO,CAAClV,KAAR,CAAc0G,KAAd,CAAP;kBACD;;kBAED,IAAIwO,OAAO,CAAC1W,SAAR,KAAsBsP,QAA1B,EAAoC;oBAClC;kBACD;;kBAED,IAAIG,IAAI,CAACvJ,KAAL,IAAcuJ,IAAI,CAAC5J,MAAL,KAAgB,GAAlC,EAAuC;oBACrC6Q,OAAO,CAAC5R,MAAR,CAAe,8BAAf;;oBAEA,KAAK,IAAIjJ,CAAT,IAAc+U,QAAd,EAAwB;sBACtB,IAAIA,QAAQ,CAACvL,cAAT,CAAwBxJ,CAAxB,CAAJ,EAAgC;wBAC9B,IAAI+a,SAAS,GAAGhG,QAAQ,CAAC/U,CAAD,CAAxB;;wBAEA6a,OAAO,CAACtE,eAAR,CAAwBwE,SAAxB,EAAmCF,OAAO,CAAC/N,kBAAR,CAA2B,8BAA3B,CAAnC;sBACD;oBACF;;oBAED;kBACD;;kBAED,IAAIgI,YAAY,GAAG,EAAnB;;kBAEA,IAAIlB,IAAI,CAACvL,IAAL,CAAU0M,QAAd,EAAwB;oBACtB,KAAK,IAAIiG,EAAT,IAAepH,IAAI,CAACvL,IAAL,CAAU0M,QAAzB,EAAmC;sBACjC,IAAIC,WAAW,GAAGpB,IAAI,CAACvL,IAAL,CAAU0M,QAAV,CAAmBiG,EAAnB,CAAlB;;sBAEA,IAAI,CAAChG,WAAW,CAACjI,OAAjB,EAA0B;wBACxB;sBACD;;sBAED+H,YAAY,CAACE,WAAW,CAACjI,OAAb,CAAZ,GAAoCiI,WAAW,CAAC7M,KAAhD;oBACD;kBACF,CAnCwB,CAmCvB;;;kBAGF,IAAI8S,KAAK,GAAG,KAAZ;;kBAEA,IAAI,CAACJ,OAAO,CAACjW,WAAb,EAA0B;oBACxBiW,OAAO,CAAC5D,aAAR;;oBAEAgE,KAAK,GAAG,IAAR;kBACD;;kBAED,KAAK,IAAIC,GAAT,IAAgBnG,QAAhB,EAA0B;oBACxB,IAAIA,QAAQ,CAACvL,cAAT,CAAwB0R,GAAxB,CAAJ,EAAkC;sBAChC,IAAIC,IAAI,GAAG,YAAY;wBACrB,IAAIpO,OAAO,GAAGgI,QAAQ,CAACmG,GAAD,CAAtB;wBACA,IAAI/S,KAAK,GAAG2M,YAAY,CAAC/H,OAAD,CAAxB;;wBAEA,IAAI,CAAC5E,KAAL,EAAY;0BACV;0BACA0S,OAAO,CAACtE,eAAR,CAAwBxJ,OAAxB,EAAiC8N,OAAO,CAAC/N,kBAAR,CAA2B,mBAA3B,EAAgD,GAAhD,CAAjC;;0BAEA,OAAO,UAAP;wBACD,CALD,MAKO;0BACL,IAAI6B,GAAG,GAAG;4BACRkC,MAAM,EAAEgK,OAAO,CAACrX,WAAR,CAAoBoS,SADpB;4BAERnN,MAAM,EAAE;8BACNsE,OAAO,EAAEA,OADH;8BAEN5E,KAAK,EAAEA;4BAFD;0BAFA,CAAV;;0BAQA,IAAIiT,KAAK,GAAGP,OAAO,CAAC3F,OAAR,CAAgBnI,OAAhB,CAAZ;;0BAEA,IAAIqO,KAAK,KAAK,IAAd,EAAoB;4BAClB,OAAO,UAAP;0BACD;;0BAED,IAAIpF,OAAO,GAAGoF,KAAK,CAACnF,YAAN,EAAd;;0BAEA,IAAID,OAAO,KAAK,IAAhB,EAAsB;4BACpBrH,GAAG,CAAClG,MAAJ,CAAWuN,OAAX,GAAqB,IAArB;;4BAEA,IAAIjH,GAAG,GAAG8L,OAAO,CAAC3E,WAAR,CAAoBnJ,OAApB,CAAV;;4BAEA,IAAIiC,GAAG,GAAG6L,OAAO,CAAC1E,WAAR,CAAoBpJ,OAApB,CAAV;;4BAEA,IAAIgC,GAAG,IAAIC,GAAX,EAAgB;8BACd,IAAID,GAAJ,EAAS;gCACPJ,GAAG,CAAClG,MAAJ,CAAWsG,GAAX,GAAiBA,GAAjB;8BACD;;8BAED,IAAIC,GAAJ,EAAS;gCACPL,GAAG,CAAClG,MAAJ,CAAWuG,GAAX,GAAiBA,GAAjB;8BACD;4BACF,CARD,MAQO;8BACL,IAAIC,MAAM,GAAG4L,OAAO,CAACzE,cAAR,CAAuBrJ,OAAvB,CAAb;;8BAEA,IAAIkC,MAAJ,EAAY;gCACVN,GAAG,CAAClG,MAAJ,CAAWwG,MAAX,GAAoBA,MAApB;8BACD;4BACF;;4BAED,IAAIC,KAAK,GAAG2L,OAAO,CAACxE,aAAR,CAAsBtJ,OAAtB,CAAZ;;4BAEA,IAAImC,KAAJ,EAAW;8BACTP,GAAG,CAAClG,MAAJ,CAAWyG,KAAX,GAAmBA,KAAnB;4BACD;0BACF;;0BAED2L,OAAO,CAACzL,KAAR,CAAcT,GAAd,EAAmBU,IAAnB,CAAwB,UAAUC,UAAV,EAAsB;4BAC5CuL,OAAO,CAACvE,kBAAR,CAA2BvJ,OAA3B,EAAoCiJ,OAApC,EAA6C6E,OAAO,CAAClX,QAAR,CAAiB6L,mBAAjB,CAAqCqL,OAAO,CAACrX,WAAR,CAAoBoS,SAAzD,EAAoEtG,UAAU,CAAC5N,MAA/E,CAA7C;;4BAEA,IAAI4N,UAAU,CAACI,IAAf,EAAqB;8BACnBJ,UAAU,CAACI,IAAX;4BACD;0BACF,CAND,EAMG,UAAUC,SAAV,EAAqB;4BACtBkL,OAAO,CAACtE,eAAR,CAAwBxJ,OAAxB,EAAiC4C,SAAS,CAACtF,KAA3C;;4BAEA,IAAIsF,SAAS,CAACD,IAAd,EAAoB;8BAClBC,SAAS,CAACD,IAAV;4BACD;0BACF,CAZD;wBAaD;sBACF,CAtEU,EAAX;;sBAwEA,IAAIyL,IAAI,KAAK,UAAb,EAAyB;oBAC1B;kBACF;;kBAED,IAAIF,KAAJ,EAAW;oBACTJ,OAAO,CAAC3D,YAAR;kBACD;gBACF,CA/HD;;gBAiIA,IAAI,KAAKlR,OAAL,CAAa+B,kBAAb,KAAoC,IAAxC,EAA8C;kBAC5C,KAAK/B,OAAL,CAAa+B,kBAAb,CAAgC;oBAC9BM,IAAI,EAAEA;kBADwB,CAAhC,EAEGsL,EAFH;gBAGD,CAJD,MAIO;kBACL,IAAIvK,GAAG,GAAG,KAAKP,KAAL,CAAW,KAAK7C,OAAL,CAAa2B,iBAAxB,EAA2C,KAAK3B,OAAL,CAAa6B,eAAxD,EAAyE,KAAK7B,OAAL,CAAa4B,gBAAtF,EAAwGS,IAAxG,EAA8GsL,EAA9G,CAAV;;kBAEA,KAAKhO,KAAL,CAAW0G,KAAX,IAAoBjD,GAApB;gBACD;cACF;YAhLA,CAlgEsB,EAmrEtB;cACD9I,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAAS0c,kBAAT,CAA4BrO,GAA5B,EAAiCsE,KAAjC,EAAwC;gBAC7C,KAAK7M,WAAL,CAAiBuI,GAAG,CAACD,OAArB,IAAgCuE,KAAK,CAACrC,MAAtC;gBACA,KAAKvK,UAAL,CAAgBsI,GAAG,CAACD,OAApB,IAA+BuE,KAAK,CAACpC,KAArC;;gBAEAlC,GAAG,CAACsO,eAAJ,CAAoB,IAApB;cACD;YAPA,CAnrEsB,EA2rEtB;cACDhb,GAAG,EAAE,WADJ;cAED3B,KAAK,EAAE,SAASsa,SAAT,CAAmBlM,OAAnB,EAA4BwO,MAA5B,EAAoCC,IAApC,EAA0C;gBAC/C,IAAIC,UAAU,GAAG,KAAKvG,OAAL,CAAanI,OAAb,CAAjB;;gBAEA,IAAI0O,UAAU,KAAK,IAAnB,EAAyB;kBACvBA,UAAU,CAACC,UAAX,CAAsBH,MAAtB;;kBAEA,IAAIE,UAAU,CAACE,eAAX,EAAJ,EAAkC;oBAChCF,UAAU,CAACxC,SAAX,CAAqBuC,IAArB;kBACD;;kBAED,OAAOC,UAAP;gBACD;;gBAED,IAAIzO,GAAG,GAAG,IAAIjO,aAAa,CAAC,SAAD,CAAjB,CAA6B,IAA7B,EAAmCgO,OAAnC,EAA4CwO,MAA5C,CAAV;gBACA,KAAKlX,KAAL,CAAW0I,OAAX,IAAsBC,GAAtB;gBACAA,GAAG,CAACiM,SAAJ,CAAcuC,IAAd;gBACA,OAAOxO,GAAP;cACD;YAnBA,CA3rEsB,CAAb,CAAZ;;YAitEA,OAAOpO,UAAP;UACD,CAjzE6B,CAizE5BC,OAAO,CAAC,SAAD,CAjzEqB,CAA9B;;UAmzEAX,OAAO,CAACU,UAAR,GAAqBA,UAArB;UAEA;QAAO,CAp2E8B;;QAs2ErC;QAAM;QACN;QAAO,UAAST,MAAT,EAAiBD,OAAjB,EAA0BM,mBAA1B,EAA+C;UAItDC,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA8C;YAC5CS,KAAK,EAAE;UADqC,CAA9C;UAGAT,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;UAEA,IAAI0d,WAAW,GAAGpd,mBAAmB,CAAC,GAAD,CAArC;;UAEA,IAAIqd,QAAQ,GAAGD,WAAW,CAAChd,UAA3B;UACAV,OAAO,CAAC,SAAD,CAAP,GAAqB2d,QAArB;UACA1d,MAAM,CAACD,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB;UAEA;QAAO,CAt3E8B;;QAw3ErC;QAAM;QACN;QAAO,UAASK,uBAAT,EAAkCL,OAAlC,EAA2C;UAIlDO,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA8C;YAC5CS,KAAK,EAAE;UADqC,CAA9C;UAGAT,OAAO,CAAC+M,YAAR,GAAuB/M,OAAO,CAAC8M,cAAR,GAAyB9M,OAAO,CAACgN,WAAR,GAAsBhN,OAAO,CAACiN,WAAR,GAAsB,KAAK,CAAjG;;UAEA,SAAS1L,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;YAAE,IAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;cAAE,MAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;YAA2D;UAAE;;UAEzJ,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;YAAE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;cAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;cAA2BE,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;cAAwDD,UAAU,CAACE,YAAX,GAA0B,IAA1B;cAAgC,IAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;cAA4B5B,MAAM,CAACC,cAAP,CAAsBoB,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;YAA4D;UAAE;;UAE7T,SAASK,YAAT,CAAsBZ,WAAtB,EAAmCa,UAAnC,EAA+CC,WAA/C,EAA4D;YAAE,IAAID,UAAJ,EAAgBX,iBAAiB,CAACF,WAAW,CAACH,SAAb,EAAwBgB,UAAxB,CAAjB;YAAsD,IAAIC,WAAJ,EAAiBZ,iBAAiB,CAACF,WAAD,EAAcc,WAAd,CAAjB;YAA6C,OAAOd,WAAP;UAAqB;;UAEvN,IAAIqL,cAAc,GAAG;YACnByE,OAAO,EAAE,CADU;YAEnBmG,SAAS,EAAE,CAFQ;YAGnBa,WAAW,EAAE,CAHM;YAInB7E,OAAO,EAAE,CAJU;YAKnBK,QAAQ,EAAE,CALS;YAMnBE,cAAc,EAAE,CANG;YAOnBL,OAAO,EAAE,CAPU;YAQnBoI,IAAI,EAAE,CARa;YASnBlJ,IAAI,EAAE,CATa;YAUnBF,GAAG,EAAE,CAVc;YAWnBoD,OAAO,EAAE,EAXU;YAYnBe,WAAW,EAAE;UAZM,CAArB;UAcA/W,OAAO,CAAC8M,cAAR,GAAyBA,cAAzB;UACA,IAAIC,YAAY,GAAG;YACjBuO,WAAW,EAAE,CADI;YAEjBG,IAAI,EAAE,CAFW;YAGjBC,KAAK,EAAE,CAHU;YAIjBnD,WAAW,EAAE,CAJI;YAKjBiD,OAAO,EAAE,CALQ;YAMjB9D,SAAS,EAAE;UANM,CAAnB;UAQA1X,OAAO,CAAC+M,YAAR,GAAuBA,YAAvB;;UAEA,IAAIC,WAAW,GAAG,aAAa,YAAY;YACzC,SAASA,WAAT,GAAuB;cACrBzL,eAAe,CAAC,IAAD,EAAOyL,WAAP,CAAf;YACD;;YAED3K,YAAY,CAAC2K,WAAD,EAAc,CAAC;cACzB5K,GAAG,EAAE,gBADoB;cAEzB3B,KAAK,EAAE,SAASoP,cAAT,CAAwBF,QAAxB,EAAkC;gBACvC,OAAOA,QAAQ,CAACiO,GAAT,CAAa,UAAUC,CAAV,EAAa;kBAC/B,OAAO7S,IAAI,CAACC,SAAL,CAAe4S,CAAf,CAAP;gBACD,CAFM,EAEJtD,IAFI,CAEC,IAFD,CAAP;cAGD;YANwB,CAAD,CAAd,CAAZ;;YASA,OAAOvN,WAAP;UACD,CAf8B,EAA/B;;UAiBAhN,OAAO,CAACgN,WAAR,GAAsBA,WAAtB;;UAEA,IAAIC,WAAW,GAAG,aAAa,YAAY;YACzC,SAASA,WAAT,GAAuB;cACrB1L,eAAe,CAAC,IAAD,EAAO0L,WAAP,CAAf;YACD;;YAED5K,YAAY,CAAC4K,WAAD,EAAc,CAAC;cACzB7K,GAAG,EAAE,eADoB;cAEzB3B,KAAK,EAAE,SAAS6T,aAAT,CAAuBnK,IAAvB,EAA6B;gBAClC,OAAOA,IAAI,CAAC2T,KAAL,CAAW,IAAX,EAAiBC,MAAjB,CAAwB,UAAUC,CAAV,EAAa;kBAC1C,OAAOA,CAAC,KAAK,EAAb;gBACD,CAFM,EAEJJ,GAFI,CAEA,UAAUI,CAAV,EAAa;kBAClB,OAAOhT,IAAI,CAACiB,KAAL,CAAW+R,CAAX,CAAP;gBACD,CAJM,CAAP;cAKD;YARwB,CAAD,EASvB;cACD5b,GAAG,EAAE,qBADJ;cAED3B,KAAK,EAAE,SAAS6Q,mBAAT,CAA6B2M,UAA7B,EAAyC9T,IAAzC,EAA+C;gBACpD,OAAOA,IAAP;cACD;YAJA,CATuB,EAcvB;cACD/H,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAAS2a,UAAT,CAAoBjR,IAApB,EAA0B;gBAC/B,OAAOA,IAAP;cACD;YAJA,CAduB,EAmBvB;cACD/H,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAAS8a,cAAT,CAAwB2C,QAAxB,EAAkC/T,IAAlC,EAAwC;gBAC7C,OAAOA,IAAP;cACD;YAJA,CAnBuB,CAAd,CAAZ;;YA0BA,OAAO8C,WAAP;UACD,CAhC8B,EAA/B;;UAkCAjN,OAAO,CAACiN,WAAR,GAAsBA,WAAtB;UAEA;QAAO,CAx9E8B;;QA09ErC;QAAM;QACN;QAAO,UAAShN,MAAT,EAAiBD,OAAjB,EAA0BM,mBAA1B,EAA+C;UAItD,SAASY,OAAT,CAAiBF,GAAjB,EAAsB;YAAE;;YAA2B,IAAI,OAAOG,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;cAAEF,OAAO,GAAG,SAASA,OAAT,CAAiBF,GAAjB,EAAsB;gBAAE,OAAO,OAAOA,GAAd;cAAoB,CAAtD;YAAyD,CAApI,MAA0I;cAAEE,OAAO,GAAG,SAASA,OAAT,CAAiBF,GAAjB,EAAsB;gBAAE,OAAOA,GAAG,IAAI,OAAOG,MAAP,KAAkB,UAAzB,IAAuCH,GAAG,CAACK,WAAJ,KAAoBF,MAA3D,IAAqEH,GAAG,KAAKG,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAON,GAAzH;cAA+H,CAAjK;YAAoK;;YAAC,OAAOE,OAAO,CAACF,GAAD,CAAd;UAAsB;;UAE1XT,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA8C;YAC5CS,KAAK,EAAE;UADqC,CAA9C;UAGAT,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;UAEA,IAAIW,OAAO,GAAGC,sBAAsB,CAACN,mBAAmB,CAAC,GAAD,CAApB,CAApC;;UAEA,IAAIS,MAAM,GAAGT,mBAAmB,CAAC,GAAD,CAAhC;;UAEA,SAASM,sBAAT,CAAgCI,GAAhC,EAAqC;YAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;cAAE,WAAWA;YAAb,CAArC;UAA0D;;UAEjG,SAASO,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;YAAE,IAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;cAAE,MAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;YAA2D;UAAE;;UAEzJ,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;YAAE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;cAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;cAA2BE,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;cAAwDD,UAAU,CAACE,YAAX,GAA0B,IAA1B;cAAgC,IAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;cAA4B5B,MAAM,CAACC,cAAP,CAAsBoB,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;YAA4D;UAAE;;UAE7T,SAASK,YAAT,CAAsBZ,WAAtB,EAAmCa,UAAnC,EAA+CC,WAA/C,EAA4D;YAAE,IAAID,UAAJ,EAAgBX,iBAAiB,CAACF,WAAW,CAACH,SAAb,EAAwBgB,UAAxB,CAAjB;YAAsD,IAAIC,WAAJ,EAAiBZ,iBAAiB,CAACF,WAAD,EAAcc,WAAd,CAAjB;YAA6C,OAAOd,WAAP;UAAqB;;UAEvN,SAASe,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;YAAE,IAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;cAAE,MAAM,IAAIhB,SAAJ,CAAc,oDAAd,CAAN;YAA4E;;YAACe,QAAQ,CAACnB,SAAT,GAAqBf,MAAM,CAACoC,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACpB,SAAvC,EAAkD;cAAED,WAAW,EAAE;gBAAEZ,KAAK,EAAEgC,QAAT;gBAAmBN,QAAQ,EAAE,IAA7B;gBAAmCD,YAAY,EAAE;cAAjD;YAAf,CAAlD,CAArB;YAAkJ,IAAIQ,UAAJ,EAAgBE,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;UAAwC;;UAEjY,SAASE,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;YAAEF,eAAe,GAAGrC,MAAM,CAACwC,cAAP,IAAyB,SAASH,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;cAAED,CAAC,CAACG,SAAF,GAAcF,CAAd;cAAiB,OAAOD,CAAP;YAAW,CAAxG;;YAA0G,OAAOD,eAAe,CAACC,CAAD,EAAIC,CAAJ,CAAtB;UAA+B;;UAE1K,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;YAAE,IAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;YAA6D,OAAO,SAASC,oBAAT,GAAgC;cAAE,IAAIC,KAAK,GAAGC,eAAe,CAACL,OAAD,CAA3B;cAAA,IAAsCM,MAAtC;;cAA8C,IAAIL,yBAAJ,EAA+B;gBAAE,IAAIM,SAAS,GAAGF,eAAe,CAAC,IAAD,CAAf,CAAsBlC,WAAtC;;gBAAmDmC,MAAM,GAAGE,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBM,SAAzB,EAAoCH,SAApC,CAAT;cAA0D,CAA9I,MAAoJ;gBAAED,MAAM,GAAGF,KAAK,CAACO,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;cAAwC;;cAAC,OAAOE,0BAA0B,CAAC,IAAD,EAAON,MAAP,CAAjC;YAAkD,CAAxU;UAA2U;;UAEza,SAASM,0BAAT,CAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;YAAE,IAAIA,IAAI,KAAK9C,OAAO,CAAC8C,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;cAAE,OAAOA,IAAP;YAAc,CAAxF,MAA8F,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;cAAE,MAAM,IAAItC,SAAJ,CAAc,0DAAd,CAAN;YAAkF;;YAAC,OAAOuC,sBAAsB,CAACF,IAAD,CAA7B;UAAsC;;UAEhS,SAASE,sBAAT,CAAgCF,IAAhC,EAAsC;YAAE,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;cAAE,MAAM,IAAIG,cAAJ,CAAmB,2DAAnB,CAAN;YAAwF;;YAAC,OAAOH,IAAP;UAAc;;UAEtK,SAASX,yBAAT,GAAqC;YAAE,IAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;YAAc,IAAID,OAAO,CAACC,SAAR,CAAkBQ,IAAtB,EAA4B,OAAO,KAAP;YAAc,IAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;YAAa,IAAI;cAAEC,OAAO,CAAC/C,SAAR,CAAkBgD,OAAlB,CAA0BN,IAA1B,CAA+BN,OAAO,CAACC,SAAR,CAAkBU,OAAlB,EAA2B,EAA3B,EAA+B,YAAY,CAAE,CAA7C,CAA/B;cAAgF,OAAO,IAAP;YAAc,CAApG,CAAqG,OAAOE,CAAP,EAAU;cAAE,OAAO,KAAP;YAAe;UAAE;;UAEzU,SAAShB,eAAT,CAAyBV,CAAzB,EAA4B;YAAEU,eAAe,GAAGhD,MAAM,CAACwC,cAAP,GAAwBxC,MAAM,CAACiE,cAA/B,GAAgD,SAASjB,eAAT,CAAyBV,CAAzB,EAA4B;cAAE,OAAOA,CAAC,CAACG,SAAF,IAAezC,MAAM,CAACiE,cAAP,CAAsB3B,CAAtB,CAAtB;YAAiD,CAAjJ;YAAmJ,OAAOU,eAAe,CAACV,CAAD,CAAtB;UAA4B;;UAE7M,IAAIsb,UAAU,GAAG,CAAjB;UACA,IAAIC,kBAAkB,GAAG,CAAzB;UACA,IAAIC,cAAc,GAAG,CAArB;UACA,IAAIC,YAAY,GAAG,CAAnB;UACA,IAAIC,mBAAmB,GAAG,CAA1B;;UAEA,IAAIC,YAAY,GAAG,aAAa,UAAU7Z,aAAV,EAAyB;YACvDnC,SAAS,CAACgc,YAAD,EAAe7Z,aAAf,CAAT;;YAEA,IAAIC,MAAM,GAAG3B,YAAY,CAACub,YAAD,CAAzB;;YAEA,SAASA,YAAT,CAAsBC,UAAtB,EAAkC5P,OAAlC,EAA2CwO,MAA3C,EAAmD;cACjD,IAAItY,KAAJ;;cAEAxD,eAAe,CAAC,IAAD,EAAOid,YAAP,CAAf;;cAEAzZ,KAAK,GAAGH,MAAM,CAACZ,IAAP,CAAY,IAAZ,CAAR;cACAe,KAAK,CAAC8J,OAAN,GAAgBA,OAAhB;cACA9J,KAAK,CAAC2Y,WAAN,GAAoBe,UAApB;cACA1Z,KAAK,CAACW,OAAN,GAAgByY,UAAhB;cACApZ,KAAK,CAAC2Z,MAAN,GAAe,IAAf;cACA3Z,KAAK,CAAC4Z,cAAN,GAAuB,KAAvB;cACA5Z,KAAK,CAAC6Z,MAAN,GAAe,KAAf;cACA7Z,KAAK,CAAC8Z,oBAAN,GAA6B,IAA7B;cACA9Z,KAAK,CAAC+Z,cAAN,GAAuB,KAAvB;cACA/Z,KAAK,CAACqV,YAAN,GAAqB,KAArB;cACArV,KAAK,CAACkK,QAAN,GAAiB,KAAjB;;cAEAlK,KAAK,CAACyY,UAAN,CAAiBH,MAAjB;;cAEAtY,KAAK,CAACga,kBAAN;;cAEAha,KAAK,CAACia,SAAN,GAAkB,EAAlB;cACAja,KAAK,CAACka,UAAN,GAAmB,CAAnB;cACAla,KAAK,CAAC4S,cAAN,GAAuB,IAAvB;;cAEA5S,KAAK,CAACma,EAAN,CAAS,OAAT,EAAkB,UAAUC,UAAV,EAAsB;gBACtC,KAAKzB,WAAL,CAAiB3S,MAAjB,CAAwB,oBAAxB,EAA8CoU,UAA9C;cACD,CAFD;;cAIA,OAAOpa,KAAP;YACD;;YAED1C,YAAY,CAACmc,YAAD,EAAe,CAAC;cAC1Bpc,GAAG,EAAE,gBADqB;cAE1B3B,KAAK,EAAE,SAAS2e,cAAT,GAA0B;gBAC/B,OAAO,EAAE,KAAKH,UAAd;cACD;YAJyB,CAAD,EAKxB;cACD7c,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAASse,kBAAT,GAA8B;gBACnC,IAAIlU,MAAM,GAAG,IAAb,CADmC,CAGnC;gBACA;gBACA;;;gBACA,KAAK+T,MAAL,GAAc,KAAd;gBACA,KAAKC,oBAAL,GAA4B,IAAIlX,OAAJ,CAAY,UAAUC,OAAV,EAAmBoL,MAAnB,EAA2B;kBACjEnI,MAAM,CAACwU,QAAP,GAAkB,UAAU5e,KAAV,EAAiB;oBACjCoK,MAAM,CAAC+T,MAAP,GAAgB,IAAhB;oBACAhX,OAAO,CAACnH,KAAD,CAAP;kBACD,CAHD;;kBAKAoK,MAAM,CAACyU,OAAP,GAAiB,UAAU5N,GAAV,EAAe;oBAC9B7G,MAAM,CAAC+T,MAAP,GAAgB,IAAhB;oBACA5L,MAAM,CAACtB,GAAD,CAAN;kBACD,CAHD;gBAID,CAV2B,EAUzBP,IAVyB,CAUpB,YAAY,CAAE,CAVM,EAUJ,YAAY,CAAE,CAVV,CAA5B;cAWD;YApBA,CALwB,EA0BxB;cACD/O,GAAG,EAAE,iBADJ;cAED3B,KAAK,EAAE,SAAS2c,eAAT,CAAyBmC,OAAzB,EAAkC;gBACvC,KAAKnF,YAAL,GAAoBmF,OAApB;gBACA,KAAKtQ,QAAL,GAAgBsQ,OAAhB;cACD;YALA,CA1BwB,EAgCxB;cACDnd,GAAG,EAAE,cADJ;cAED3B,KAAK,EAAE,SAASsX,YAAT,GAAwB;gBAC7B,OAAO,KAAKqC,YAAL,KAAsB,IAAtB,IAA8B,KAAKnL,QAAL,KAAkB,IAAvD;cACD;YAJA,CAhCwB,EAqCxB;cACD7M,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAAS+c,UAAT,CAAoBH,MAApB,EAA4B;gBACjC,IAAI,CAACA,MAAL,EAAa;kBACX;gBACD;;gBAED,IAAI,CAAC,GAAGtc,MAAM,CAACyb,UAAX,EAAuBa,MAAvB,CAAJ,EAAoC;kBAClC;kBACA,KAAK6B,EAAL,CAAQ,SAAR,EAAmB7B,MAAnB;gBACD,CAHD,MAGO,IAAI9c,MAAM,CAACe,SAAP,CAAiBke,QAAjB,CAA0Bxb,IAA1B,CAA+BqZ,MAA/B,MAA2C9c,MAAM,CAACe,SAAP,CAAiBke,QAAjB,CAA0Bxb,IAA1B,CAA+B,EAA/B,CAA/C,EAAmF;kBACxF,IAAIyb,WAAW,GAAG,CAAC,SAAD,EAAY,MAAZ,EAAoB,OAApB,EAA6B,aAA7B,EAA4C,WAA5C,EAAyD,OAAzD,CAAlB;;kBAEA,KAAK,IAAI3d,CAAC,GAAG,CAAR,EAAW4d,CAAC,GAAGD,WAAW,CAAC1d,MAAhC,EAAwCD,CAAC,GAAG4d,CAA5C,EAA+C5d,CAAC,EAAhD,EAAoD;oBAClD,IAAI6d,EAAE,GAAGF,WAAW,CAAC3d,CAAD,CAApB;;oBAEA,IAAI6d,EAAE,IAAItC,MAAV,EAAkB;sBAChB,KAAK6B,EAAL,CAAQS,EAAR,EAAYtC,MAAM,CAACsC,EAAD,CAAlB;oBACD;kBACF;gBACF;cACF;YArBA,CArCwB,EA2DxB;cACDvd,GAAG,EAAE,QADJ;cAED3B,KAAK,EAAE,SAASmf,MAAT,GAAkB;gBACvB,OAAO,KAAKla,OAAL,KAAiByY,UAAxB;cACD;YAJA,CA3DwB,EAgExB;cACD/b,GAAG,EAAE,iBADJ;cAED3B,KAAK,EAAE,SAASgd,eAAT,GAA2B;gBAChC,OAAO,KAAK/X,OAAL,KAAiB6Y,mBAAxB;cACD;YAJA,CAhEwB,EAqExB;cACDnc,GAAG,EAAE,gBADJ;cAED3B,KAAK,EAAE,SAASoZ,cAAT,GAA0B;gBAC/B,OAAO,KAAKnU,OAAL,KAAiB0Y,kBAAxB;cACD;YAJA,CArEwB,EA0ExB;cACDhc,GAAG,EAAE,UADJ;cAED3B,KAAK,EAAE,SAASof,QAAT,GAAoB;gBACzB,OAAO,KAAKna,OAAL,KAAiB2Y,cAAjB,IAAmC,KAAK3Y,OAAL,KAAiB4Y,YAA3D;cACD;YAJA,CA1EwB,EA+ExB;cACDlc,GAAG,EAAE,YADJ;cAED3B,KAAK,EAAE,SAASsO,UAAT,GAAsB;gBAC3B,OAAO,KAAKrJ,OAAL,KAAiB2Y,cAAxB;cACD;YAJA,CA/EwB,EAoFxB;cACDjc,GAAG,EAAE,UADJ;cAED3B,KAAK,EAAE,SAASqf,QAAT,GAAoB;gBACzB,OAAO,KAAKpa,OAAL,KAAiB4Y,YAAxB;cACD;YAJA,CApFwB,EAyFxB;cACDlc,GAAG,EAAE,SADJ;cAED3B,KAAK,EAAE,SAASgX,OAAT,GAAmB;gBACxB,KAAK/R,OAAL,GAAeyY,UAAf;cACD;YAJA,CAzFwB,EA8FxB;cACD/b,GAAG,EAAE,iBADJ;cAED3B,KAAK,EAAE,SAAS0O,eAAT,CAAyBoI,aAAzB,EAAwC;gBAC7C,KAAKoH,cAAL,GAAsBpH,aAAa,IAAI,KAAvC;;gBAEA,IAAI,KAAKqH,MAAL,KAAgB,IAApB,EAA0B;kBACxB;kBACA,KAAKG,kBAAL;gBACD;;gBAED,KAAKrZ,OAAL,GAAe0Y,kBAAf;cACD;YAXA,CA9FwB,EA0GxB;cACDhc,GAAG,EAAE,sBADJ;cAED3B,KAAK,EAAE,SAAS0Z,oBAAT,CAA8B4F,eAA9B,EAA+C;gBACpD,IAAI,KAAKra,OAAL,KAAiB2Y,cAArB,EAAqC;kBACnC;gBACD;;gBAED,KAAK3Y,OAAL,GAAe2Y,cAAf;;gBAEA,IAAI2B,cAAc,GAAG,KAAKC,2BAAL,CAAiCF,eAAjC,CAArB;;gBAEA,KAAK9Q,QAAL,GAAgB,KAAhB;gBACA,KAAKkG,IAAL,CAAU,WAAV,EAAuB6K,cAAvB;;gBAEA,KAAKX,QAAL,CAAcW,cAAd;;gBAEA,KAAK,IAAIxR,EAAT,IAAe,KAAKwQ,SAApB,EAA+B;kBAC7BtQ,YAAY,CAAC,KAAKsQ,SAAL,CAAexQ,EAAf,EAAmBhG,OAApB,CAAZ;;kBAEA,KAAKwW,SAAL,CAAexQ,EAAf,EAAmB5G,OAAnB;;kBAEA,OAAO,KAAKoX,SAAL,CAAexQ,EAAf,CAAP;gBACD;cACF;YAvBA,CA1GwB,EAkIxB;cACDpM,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAASsZ,kBAAT,CAA4BrI,GAA5B,EAAiC;gBACtC,IAAI,KAAKhM,OAAL,KAAiB4Y,YAArB,EAAmC;kBACjC;gBACD;;gBAED,KAAK5Y,OAAL,GAAe4Y,YAAf;gBACA,KAAKI,MAAL,GAAchN,GAAd;;gBAEA,IAAIyN,UAAU,GAAG,KAAKe,yBAAL,EAAjB;;gBAEA,KAAK/K,IAAL,CAAU,OAAV,EAAmBgK,UAAnB;;gBAEA,KAAKG,OAAL,CAAaH,UAAb;;gBAEA,KAAK,IAAI3Q,EAAT,IAAe,KAAKwQ,SAApB,EAA+B;kBAC7BtQ,YAAY,CAAC,KAAKsQ,SAAL,CAAexQ,EAAf,EAAmBhG,OAApB,CAAZ;;kBAEA,KAAKwW,SAAL,CAAexQ,EAAf,EAAmBwE,MAAnB,CAA0BtB,GAA1B;;kBAEA,OAAO,KAAKsN,SAAL,CAAexQ,EAAf,CAAP;gBACD;cACF;YAvBA,CAlIwB,EA0JxB;cACDpM,GAAG,EAAE,qBADJ;cAED3B,KAAK,EAAE,SAASuO,mBAAT,GAA+B;gBACpC,KAAKmG,IAAL,CAAU,aAAV,EAAyB;kBACvBtG,OAAO,EAAE,KAAKA;gBADS,CAAzB;cAGD;YANA,CA1JwB,EAiKxB;cACDzM,GAAG,EAAE,kBADJ;cAED3B,KAAK,EAAE,SAAS2O,gBAAT,CAA0B+Q,aAA1B,EAAyC;gBAC9C,KAAKzC,WAAL,CAAiBpO,uBAAjB,CAAyC,KAAKT,OAA9C;;gBAEA,IAAI,KAAKnJ,OAAL,KAAiB6Y,mBAArB,EAA0C;kBACxC;gBACD;;gBAED,IAAI6B,WAAW,GAAG,KAAK1a,OAAL,KAAiB2Y,cAAnC;gBACA,KAAK3Y,OAAL,GAAe6Y,mBAAf;;gBAEA,IAAI4B,aAAa,KAAK,IAAtB,EAA4B;kBAC1B,KAAKlR,QAAL,GAAgB,KAAhB;kBACA,KAAK6P,cAAL,GAAsB,IAAtB;kBACA,OAAO,KAAKpB,WAAL,CAAiBrX,QAAjB,CAA0B,KAAKwI,OAA/B,CAAP;kBACA,OAAO,KAAK6O,WAAL,CAAiBpX,QAAjB,CAA0B,KAAKuI,OAA/B,CAAP;kBACA,OAAO,KAAK6O,WAAL,CAAiBlX,UAAjB,CAA4B,KAAKqI,OAAjC,CAAP;gBACD;;gBAED,IAAIuR,WAAJ,EAAiB;kBACf,KAAKpR,mBAAL;gBACD;cACF;YAvBA,CAjKwB,EAyLxB;cACD5M,GAAG,EAAE,oBADJ;cAED3B,KAAK,EAAE,SAASyO,kBAAT,GAA8B;gBACnC,OAAO,CAAC,KAAK4P,cAAb;cACD;YAJA,CAzLwB,EA8LxB;cACD1c,GAAG,EAAE,6BADJ;cAED3B,KAAK,EAAE,SAASwf,2BAAT,CAAqCF,eAArC,EAAsD;gBAC3D,IAAI7G,GAAG,GAAG;kBACRrK,OAAO,EAAE,KAAKA,OADN;kBAER0I,aAAa,EAAE,KAAKoH;gBAFZ,CAAV;;gBAKA,IAAIoB,eAAJ,EAAqB;kBACnB;kBACA7G,GAAG,GAAG,KAAKwE,WAAL,CAAiBpE,uBAAjB,CAAyCJ,GAAzC,EAA8C6G,eAA9C,CAAN;gBACD;;gBAED,OAAO7G,GAAP;cACD;YAdA,CA9LwB,EA6MxB;cACD9W,GAAG,EAAE,2BADJ;cAED3B,KAAK,EAAE,SAASyf,yBAAT,GAAqC;gBAC1C,IAAIG,qBAAqB,GAAG,KAAK3B,MAAjC;gBACA2B,qBAAqB,CAACxR,OAAtB,GAAgC,KAAKA,OAArC;gBACAwR,qBAAqB,CAAC9I,aAAtB,GAAsC,KAAKoH,cAA3C;gBACA,OAAO0B,qBAAP;cACD;YAPA,CA7MwB,EAqNxB;cACDje,GAAG,EAAE,mBADJ;cAED3B,KAAK,EAAE,SAAS6f,iBAAT,CAA2BnW,IAA3B,EAAiC;gBACtC,KAAKwN,cAAL,GAAsBxN,IAAtB;cACD;YAJA,CArNwB,EA0NxB;cACD/H,GAAG,EAAE,OADJ;cAED3B,KAAK,EAAE,SAAS8f,KAAT,CAAe3V,QAAf,EAAyB+D,OAAzB,EAAkC;gBACvC,IAAI,KAAKiQ,MAAT,EAAiB;kBACf,IAAI,KAAK7P,UAAL,EAAJ,EAAuB;oBACrBnE,QAAQ,CAAC,KAAKqV,2BAAL,EAAD,CAAR;kBACD,CAFD,MAEO;oBACLtR,OAAO,CAAC,KAAKuR,yBAAL,EAAD,CAAP;kBACD;gBACF;cACF;YAVA,CA1NwB,EAqOxB;cACD9d,GAAG,EAAE,WADJ;cAED3B,KAAK,EAAE,SAASsa,SAAT,CAAmBuC,IAAnB,EAAyB;gBAC9B,IAAI,KAAK5X,OAAL,KAAiB2Y,cAArB,EAAqC;kBACnC;gBACD;;gBAED,IAAIf,IAAI,IAAIA,IAAI,CAAClK,KAAjB,EAAwB;kBACtB,KAAKsK,WAAL,CAAiBP,kBAAjB,CAAoC,IAApC,EAA0CG,IAAI,CAAClK,KAA/C;gBACD;;gBAED,IAAIkK,IAAI,IAAIA,IAAI,CAACnT,IAAjB,EAAuB;kBACrB,KAAKmW,iBAAL,CAAuBhD,IAAI,CAACnT,IAA5B;gBACD;;gBAED,KAAK2U,cAAL,GAAsB,KAAtB;;gBAEA,KAAKpB,WAAL,CAAiBpG,UAAjB,CAA4B,IAA5B;cACD;YAlBA,CArOwB,EAwPxB;cACDlV,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASoa,WAAT,GAAuB;gBAC5B,KAAKzL,gBAAL,CAAsB,IAAtB;;gBAEA,KAAKsO,WAAL,CAAiBpF,YAAjB,CAA8B,IAA9B;cACD;YANA,CAxPwB,EA+PxB;cACDlW,GAAG,EAAE,aADJ;cAED3B,KAAK,EAAE,SAASoS,WAAT,GAAuB;gBAC5B,IAAI7C,MAAM,GAAG,IAAb;;gBAEA,IAAI,KAAKjB,UAAL,EAAJ,EAAuB;kBACrB,OAAOpH,OAAO,CAACC,OAAR,EAAP;gBACD,CAFD,MAEO,IAAI,KAAKkY,QAAL,EAAJ,EAAqB;kBAC1B,OAAOnY,OAAO,CAACqL,MAAR,CAAe,KAAK0L,MAApB,CAAP;gBACD;;gBAED,IAAI8B,UAAU,GAAG,IAAI7Y,OAAJ,CAAY,UAAU8Y,GAAV,EAAeC,GAAf,EAAoB;kBAC/C,IAAIlY,OAAO,GAAG6D,UAAU,CAAC,YAAY;oBACnCqU,GAAG,CAAC;sBACF,QAAQ,CADN;sBAEF,WAAW;oBAFT,CAAD,CAAH;kBAID,CALuB,EAKrB1Q,MAAM,CAAC0N,WAAP,CAAmB5V,OAAnB,CAA2BU,OALN,CAAxB;kBAMAwH,MAAM,CAACgP,SAAP,CAAiBhP,MAAM,CAACoP,cAAP,EAAjB,IAA4C;oBAC1C5W,OAAO,EAAEA,OADiC;oBAE1CZ,OAAO,EAAE6Y,GAFiC;oBAG1CzN,MAAM,EAAE0N;kBAHkC,CAA5C;gBAKD,CAZgB,CAAjB;gBAaA,OAAOF,UAAP;cACD;YAzBA,CA/PwB,EAyRxB;cACDpe,GAAG,EAAE,SADJ;cAED3B,KAAK,EAAE,SAASgT,OAAT,CAAiBtJ,IAAjB,EAAuB;gBAC5B,IAAIpG,IAAI,GAAG,IAAX;gBACA,OAAO,KAAK8O,WAAL,GAAmB1B,IAAnB,CAAwB,YAAY;kBACzC,OAAOpN,IAAI,CAAC2Z,WAAL,CAAiBjK,OAAjB,CAAyB1P,IAAI,CAAC8K,OAA9B,EAAuC1E,IAAvC,CAAP;gBACD,CAFM,CAAP;cAGD;YAPA,CAzRwB,EAiSxB;cACD/H,GAAG,EAAE,UADJ;cAED3B,KAAK,EAAE,SAASqT,QAAT,GAAoB;gBACzB,IAAI/P,IAAI,GAAG,IAAX;gBACA,OAAO,KAAK8O,WAAL,GAAmB1B,IAAnB,CAAwB,YAAY;kBACzC,OAAOpN,IAAI,CAAC2Z,WAAL,CAAiB5J,QAAjB,CAA0B/P,IAAI,CAAC8K,OAA/B,CAAP;gBACD,CAFM,CAAP;cAGD;YAPA,CAjSwB,EAySxB;cACDzM,GAAG,EAAE,eADJ;cAED3B,KAAK,EAAE,SAASuT,aAAT,GAAyB;gBAC9B,IAAIjQ,IAAI,GAAG,IAAX;gBACA,OAAO,KAAK8O,WAAL,GAAmB1B,IAAnB,CAAwB,YAAY;kBACzC,OAAOpN,IAAI,CAAC2Z,WAAL,CAAiB1J,aAAjB,CAA+BjQ,IAAI,CAAC8K,OAApC,CAAP;gBACD,CAFM,CAAP;cAGD;YAPA,CAzSwB,EAiTxB;cACDzM,GAAG,EAAE,SADJ;cAED3B,KAAK,EAAE,SAASkT,OAAT,CAAiB7O,OAAjB,EAA0B;gBAC/B,IAAIf,IAAI,GAAG,IAAX;gBACA,OAAO,KAAK8O,WAAL,GAAmB1B,IAAnB,CAAwB,YAAY;kBACzC,OAAOpN,IAAI,CAAC2Z,WAAL,CAAiB/J,OAAjB,CAAyB5P,IAAI,CAAC8K,OAA9B,EAAuC/J,OAAvC,CAAP;gBACD,CAFM,CAAP;cAGD;YAPA,CAjTwB,CAAf,CAAZ;;YA2TA,OAAO0Z,YAAP;UACD,CAjW+B,CAiW9B7d,OAAO,CAAC,SAAD,CAjWuB,CAAhC;;UAmWAX,OAAO,CAAC,SAAD,CAAP,GAAqBwe,YAArB;UACAve,MAAM,CAACD,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB;UAEA;QAAO,CA52F8B;;QA82FrC;QAAM;QACN;QAAO,UAASK,uBAAT,EAAkCL,OAAlC,EAA2CM,mBAA3C,EAAgE;UAIvEC,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA8C;YAC5CS,KAAK,EAAE;UADqC,CAA9C;UAGAT,OAAO,CAACiO,OAAR,GAAkBA,OAAlB;UACAjO,OAAO,CAACqa,WAAR,GAAsBA,WAAtB;UACAra,OAAO,CAACmN,MAAR,GAAiBA,MAAjB;UACAnN,OAAO,CAACwc,UAAR,GAAqBA,UAArB;UACAxc,OAAO,CAACuM,GAAR,GAAcA,GAAd;UACAvM,OAAO,CAACqN,UAAR,GAAqBA,UAArB;;UAEA,SAASA,UAAT,CAAoB5M,KAApB,EAA2BkgB,MAA3B,EAAmC;YACjC,OAAOlgB,KAAK,CAACmgB,WAAN,CAAkBD,MAAlB,EAA0B,CAA1B,MAAiC,CAAxC;UACD;;UAED;;UAEA,SAASnE,UAAT,CAAoB/b,KAApB,EAA2B;YACzB,IAAIA,KAAK,KAAK0S,SAAV,IAAuB1S,KAAK,KAAK,IAArC,EAA2C;cACzC,OAAO,KAAP;YACD;;YAED,OAAO,OAAOA,KAAP,KAAiB,UAAxB;UACD;;UAED;;UAEA,SAAS8L,GAAT,CAAasU,KAAb,EAAoBC,IAApB,EAA0B;YACxB,IAAIxgB,mBAAmB,CAAC6K,CAApB,CAAsB4V,OAA1B,EAAmC;cACjC,IAAIC,MAAM,GAAG1gB,mBAAmB,CAAC6K,CAApB,CAAsB4V,OAAtB,CAA8BF,KAA9B,CAAb;;cAEA,IAAIrE,UAAU,CAACwE,MAAD,CAAd,EAAwB;gBACtBA,MAAM,CAACnd,KAAP,CAAavD,mBAAmB,CAAC6K,CAApB,CAAsB4V,OAAnC,EAA4CD,IAA5C;cACD;YACF;UACF;;UAED;;UAEA,SAAS7S,OAAT,CAAiBgT,IAAjB,EAAuBzI,GAAvB,EAA4BzC,GAA5B,EAAiC;YAC/B,IAAIJ,MAAM,GAAG,MAAMC,IAAI,CAACE,MAAL,EAAnB;YACA,IAAI9H,QAAQ,GAAG4H,IAAI,CAAC4C,GAAL,CAASzC,GAAT,EAAcyC,GAAG,GAAG5C,IAAI,CAACsL,GAAL,CAAS,CAAT,EAAYD,IAAI,GAAG,CAAnB,CAApB,CAAf;YACA,OAAOrL,IAAI,CAACuL,KAAL,CAAW,CAAC,IAAIxL,MAAL,IAAe3H,QAA1B,CAAP;UACD;;UAED;;UAEA,SAASqM,WAAT,CAAqBlQ,IAArB,EAA2B;YACzB,OAAO,WAAWA,IAAX,IAAmBA,IAAI,CAACgC,KAAL,KAAe,IAAzC;UACD;;UAED;;UAEA,SAASgB,MAAT,CAAgBiU,CAAhB,EAAmBC,CAAnB,EAAsB;YACpB,KAAK,IAAIjf,GAAT,IAAgBif,CAAhB,EAAmB;cACjB,IAAIA,CAAC,CAAC/V,cAAF,CAAiBlJ,GAAjB,CAAJ,EAA2B;gBACzBgf,CAAC,CAAChf,GAAD,CAAD,GAASif,CAAC,CAACjf,GAAD,CAAV;cACD;YACF;;YAED,OAAOgf,CAAP;UACD;;UAED;UAEA;QAAO,CAn7F8B;;QAq7FrC;QAAM;QACN;QAAO,UAASnhB,MAAT,EAAiB;UAExB;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UAIA,IAAIqhB,CAAC,GAAG,OAAO5d,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwC,IAAhD;UACA,IAAI6d,YAAY,GAAGD,CAAC,IAAI,OAAOA,CAAC,CAACzd,KAAT,KAAmB,UAAxB,GACfyd,CAAC,CAACzd,KADa,GAEf,SAAS0d,YAAT,CAAsB3f,MAAtB,EAA8B4f,QAA9B,EAAwCV,IAAxC,EAA8C;YAC9C,OAAOW,QAAQ,CAACngB,SAAT,CAAmBuC,KAAnB,CAAyBG,IAAzB,CAA8BpC,MAA9B,EAAsC4f,QAAtC,EAAgDV,IAAhD,CAAP;UACD,CAJH;UAMA,IAAIY,cAAJ;;UACA,IAAIJ,CAAC,IAAI,OAAOA,CAAC,CAACK,OAAT,KAAqB,UAA9B,EAA0C;YACxCD,cAAc,GAAGJ,CAAC,CAACK,OAAnB;UACD,CAFD,MAEO,IAAIphB,MAAM,CAACqhB,qBAAX,EAAkC;YACvCF,cAAc,GAAG,SAASA,cAAT,CAAwB9f,MAAxB,EAAgC;cAC/C,OAAOrB,MAAM,CAACshB,mBAAP,CAA2BjgB,MAA3B,EACJkgB,MADI,CACGvhB,MAAM,CAACqhB,qBAAP,CAA6BhgB,MAA7B,CADH,CAAP;YAED,CAHD;UAID,CALM,MAKA;YACL8f,cAAc,GAAG,SAASA,cAAT,CAAwB9f,MAAxB,EAAgC;cAC/C,OAAOrB,MAAM,CAACshB,mBAAP,CAA2BjgB,MAA3B,CAAP;YACD,CAFD;UAGD;;UAED,SAASmgB,kBAAT,CAA4BC,OAA5B,EAAqC;YACnC,IAAIjB,OAAO,IAAIA,OAAO,CAACkB,IAAvB,EAA6BlB,OAAO,CAACkB,IAAR,CAAaD,OAAb;UAC9B;;UAED,IAAIE,WAAW,GAAGC,MAAM,CAACC,KAAP,IAAgB,SAASF,WAAT,CAAqBzhB,KAArB,EAA4B;YAC5D,OAAOA,KAAK,KAAKA,KAAjB;UACD,CAFD;;UAIA,SAAS4hB,YAAT,GAAwB;YACtBA,YAAY,CAACC,IAAb,CAAkBte,IAAlB,CAAuB,IAAvB;UACD;;UACD/D,MAAM,CAACD,OAAP,GAAiBqiB,YAAjB;UACApiB,MAAM,CAACD,OAAP,CAAeuiB,IAAf,GAAsBA,IAAtB,CA1DwB,CA4DxB;;UACAF,YAAY,CAACA,YAAb,GAA4BA,YAA5B;UAEAA,YAAY,CAAC/gB,SAAb,CAAuBX,OAAvB,GAAiCwS,SAAjC;UACAkP,YAAY,CAAC/gB,SAAb,CAAuBkhB,YAAvB,GAAsC,CAAtC;UACAH,YAAY,CAAC/gB,SAAb,CAAuBmhB,aAAvB,GAAuCtP,SAAvC,CAjEwB,CAmExB;UACA;;UACA,IAAIuP,mBAAmB,GAAG,EAA1B;;UAEA,SAASC,aAAT,CAAuBC,QAAvB,EAAiC;YAC/B,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;cAClC,MAAM,IAAIlhB,SAAJ,CAAc,qEAAqE,OAAOkhB,QAA1F,CAAN;YACD;UACF;;UAEDriB,MAAM,CAACC,cAAP,CAAsB6hB,YAAtB,EAAoC,qBAApC,EAA2D;YACzDpgB,UAAU,EAAE,IAD6C;YAEzD4gB,GAAG,EAAE,YAAW;cACd,OAAOH,mBAAP;YACD,CAJwD;YAKzDI,GAAG,EAAE,UAASC,GAAT,EAAc;cACjB,IAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,GAAG,CAAjC,IAAsCb,WAAW,CAACa,GAAD,CAArD,EAA4D;gBAC1D,MAAM,IAAIC,UAAJ,CAAe,oGAAoGD,GAApG,GAA0G,GAAzH,CAAN;cACD;;cACDL,mBAAmB,GAAGK,GAAtB;YACD;UAVwD,CAA3D;;UAaAV,YAAY,CAACC,IAAb,GAAoB,YAAW;YAE7B,IAAI,KAAK3hB,OAAL,KAAiBwS,SAAjB,IACA,KAAKxS,OAAL,KAAiBJ,MAAM,CAACiE,cAAP,CAAsB,IAAtB,EAA4B7D,OADjD,EAC0D;cACxD,KAAKA,OAAL,GAAeJ,MAAM,CAACoC,MAAP,CAAc,IAAd,CAAf;cACA,KAAK6f,YAAL,GAAoB,CAApB;YACD;;YAED,KAAKC,aAAL,GAAqB,KAAKA,aAAL,IAAsBtP,SAA3C;UACD,CATD,CA1FwB,CAqGxB;UACA;;;UACAkP,YAAY,CAAC/gB,SAAb,CAAuB2hB,eAAvB,GAAyC,SAASA,eAAT,CAAyBC,CAAzB,EAA4B;YACnE,IAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBA,CAAC,GAAG,CAA7B,IAAkChB,WAAW,CAACgB,CAAD,CAAjD,EAAsD;cACpD,MAAM,IAAIF,UAAJ,CAAe,kFAAkFE,CAAlF,GAAsF,GAArG,CAAN;YACD;;YACD,KAAKT,aAAL,GAAqBS,CAArB;YACA,OAAO,IAAP;UACD,CAND;;UAQA,SAASC,gBAAT,CAA0BC,IAA1B,EAAgC;YAC9B,IAAIA,IAAI,CAACX,aAAL,KAAuBtP,SAA3B,EACE,OAAOkP,YAAY,CAACK,mBAApB;YACF,OAAOU,IAAI,CAACX,aAAZ;UACD;;UAEDJ,YAAY,CAAC/gB,SAAb,CAAuB+hB,eAAvB,GAAyC,SAASA,eAAT,GAA2B;YAClE,OAAOF,gBAAgB,CAAC,IAAD,CAAvB;UACD,CAFD;;UAIAd,YAAY,CAAC/gB,SAAb,CAAuB6T,IAAvB,GAA8B,SAASA,IAAT,CAAckG,IAAd,EAAoB;YAChD,IAAIyF,IAAI,GAAG,EAAX;;YACA,KAAK,IAAIhf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8B,SAAS,CAAC7B,MAA9B,EAAsCD,CAAC,EAAvC,EAA2Cgf,IAAI,CAAC3F,IAAL,CAAUvX,SAAS,CAAC9B,CAAD,CAAnB;;YAC3C,IAAIwhB,OAAO,GAAIjI,IAAI,KAAK,OAAxB;YAEA,IAAIgC,MAAM,GAAG,KAAK1c,OAAlB;YACA,IAAI0c,MAAM,KAAKlK,SAAf,EACEmQ,OAAO,GAAIA,OAAO,IAAIjG,MAAM,CAAClR,KAAP,KAAiBgH,SAAvC,CADF,KAEK,IAAI,CAACmQ,OAAL,EACH,OAAO,KAAP,CAT8C,CAWhD;;YACA,IAAIA,OAAJ,EAAa;cACX,IAAIC,EAAJ;cACA,IAAIzC,IAAI,CAAC/e,MAAL,GAAc,CAAlB,EACEwhB,EAAE,GAAGzC,IAAI,CAAC,CAAD,CAAT;;cACF,IAAIyC,EAAE,YAAY1W,KAAlB,EAAyB;gBACvB;gBACA;gBACA,MAAM0W,EAAN,CAHuB,CAGb;cACX,CARU,CASX;;;cACA,IAAI7R,GAAG,GAAG,IAAI7E,KAAJ,CAAU,sBAAsB0W,EAAE,GAAG,OAAOA,EAAE,CAACzJ,OAAV,GAAoB,GAAvB,GAA6B,EAArD,CAAV,CAAV;cACApI,GAAG,CAACyE,OAAJ,GAAcoN,EAAd;cACA,MAAM7R,GAAN,CAZW,CAYA;YACZ;;YAED,IAAI8R,OAAO,GAAGnG,MAAM,CAAChC,IAAD,CAApB;YAEA,IAAImI,OAAO,KAAKrQ,SAAhB,EACE,OAAO,KAAP;;YAEF,IAAI,OAAOqQ,OAAP,KAAmB,UAAvB,EAAmC;cACjCjC,YAAY,CAACiC,OAAD,EAAU,IAAV,EAAgB1C,IAAhB,CAAZ;YACD,CAFD,MAEO;cACL,IAAI2C,GAAG,GAAGD,OAAO,CAACzhB,MAAlB;cACA,IAAI2hB,SAAS,GAAGC,UAAU,CAACH,OAAD,EAAUC,GAAV,CAA1B;;cACA,KAAK,IAAI3hB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2hB,GAApB,EAAyB,EAAE3hB,CAA3B,EACEyf,YAAY,CAACmC,SAAS,CAAC5hB,CAAD,CAAV,EAAe,IAAf,EAAqBgf,IAArB,CAAZ;YACH;;YAED,OAAO,IAAP;UACD,CA1CD;;UA4CA,SAAS8C,YAAT,CAAsBhiB,MAAtB,EAA8ByZ,IAA9B,EAAoCuH,QAApC,EAA8CiB,OAA9C,EAAuD;YACrD,IAAIC,CAAJ;YACA,IAAIzG,MAAJ;YACA,IAAI0G,QAAJ;YAEApB,aAAa,CAACC,QAAD,CAAb;YAEAvF,MAAM,GAAGzb,MAAM,CAACjB,OAAhB;;YACA,IAAI0c,MAAM,KAAKlK,SAAf,EAA0B;cACxBkK,MAAM,GAAGzb,MAAM,CAACjB,OAAP,GAAiBJ,MAAM,CAACoC,MAAP,CAAc,IAAd,CAA1B;cACAf,MAAM,CAAC4gB,YAAP,GAAsB,CAAtB;YACD,CAHD,MAGO;cACL;cACA;cACA,IAAInF,MAAM,CAAC2G,WAAP,KAAuB7Q,SAA3B,EAAsC;gBACpCvR,MAAM,CAACuT,IAAP,CAAY,aAAZ,EAA2BkG,IAA3B,EACYuH,QAAQ,CAACA,QAAT,GAAoBA,QAAQ,CAACA,QAA7B,GAAwCA,QADpD,EADoC,CAIpC;gBACA;;gBACAvF,MAAM,GAAGzb,MAAM,CAACjB,OAAhB;cACD;;cACDojB,QAAQ,GAAG1G,MAAM,CAAChC,IAAD,CAAjB;YACD;;YAED,IAAI0I,QAAQ,KAAK5Q,SAAjB,EAA4B;cAC1B;cACA4Q,QAAQ,GAAG1G,MAAM,CAAChC,IAAD,CAAN,GAAeuH,QAA1B;cACA,EAAEhhB,MAAM,CAAC4gB,YAAT;YACD,CAJD,MAIO;cACL,IAAI,OAAOuB,QAAP,KAAoB,UAAxB,EAAoC;gBAClC;gBACAA,QAAQ,GAAG1G,MAAM,CAAChC,IAAD,CAAN,GACTwI,OAAO,GAAG,CAACjB,QAAD,EAAWmB,QAAX,CAAH,GAA0B,CAACA,QAAD,EAAWnB,QAAX,CADnC,CAFkC,CAIlC;cACD,CALD,MAKO,IAAIiB,OAAJ,EAAa;gBAClBE,QAAQ,CAACE,OAAT,CAAiBrB,QAAjB;cACD,CAFM,MAEA;gBACLmB,QAAQ,CAAC5I,IAAT,CAAcyH,QAAd;cACD,CAVI,CAYL;;;cACAkB,CAAC,GAAGX,gBAAgB,CAACvhB,MAAD,CAApB;;cACA,IAAIkiB,CAAC,GAAG,CAAJ,IAASC,QAAQ,CAAChiB,MAAT,GAAkB+hB,CAA3B,IAAgC,CAACC,QAAQ,CAACG,MAA9C,EAAsD;gBACpDH,QAAQ,CAACG,MAAT,GAAkB,IAAlB,CADoD,CAEpD;gBACA;;gBACA,IAAIC,CAAC,GAAG,IAAItX,KAAJ,CAAU,iDACEkX,QAAQ,CAAChiB,MADX,GACoB,GADpB,GAC0BqiB,MAAM,CAAC/I,IAAD,CADhC,GACyC,aADzC,GAEE,0CAFF,GAGE,gBAHZ,CAAR;gBAIA8I,CAAC,CAAClc,IAAF,GAAS,6BAAT;gBACAkc,CAAC,CAACE,OAAF,GAAYziB,MAAZ;gBACAuiB,CAAC,CAAC9I,IAAF,GAASA,IAAT;gBACA8I,CAAC,CAACG,KAAF,GAAUP,QAAQ,CAAChiB,MAAnB;gBACAggB,kBAAkB,CAACoC,CAAD,CAAlB;cACD;YACF;;YAED,OAAOviB,MAAP;UACD;;UAEDygB,YAAY,CAAC/gB,SAAb,CAAuBijB,WAAvB,GAAqC,SAASA,WAAT,CAAqBlJ,IAArB,EAA2BuH,QAA3B,EAAqC;YACxE,OAAOgB,YAAY,CAAC,IAAD,EAAOvI,IAAP,EAAauH,QAAb,EAAuB,KAAvB,CAAnB;UACD,CAFD;;UAIAP,YAAY,CAAC/gB,SAAb,CAAuB4d,EAAvB,GAA4BmD,YAAY,CAAC/gB,SAAb,CAAuBijB,WAAnD;;UAEAlC,YAAY,CAAC/gB,SAAb,CAAuBkjB,eAAvB,GACI,SAASA,eAAT,CAAyBnJ,IAAzB,EAA+BuH,QAA/B,EAAyC;YACvC,OAAOgB,YAAY,CAAC,IAAD,EAAOvI,IAAP,EAAauH,QAAb,EAAuB,IAAvB,CAAnB;UACD,CAHL;;UAKA,SAAS6B,WAAT,GAAuB;YACrB,IAAI,CAAC,KAAKC,KAAV,EAAiB;cACf,KAAK9iB,MAAL,CAAY+iB,cAAZ,CAA2B,KAAKtJ,IAAhC,EAAsC,KAAKuJ,MAA3C;cACA,KAAKF,KAAL,GAAa,IAAb;cACA,IAAI9gB,SAAS,CAAC7B,MAAV,KAAqB,CAAzB,EACE,OAAO,KAAK6gB,QAAL,CAAc5e,IAAd,CAAmB,KAAKpC,MAAxB,CAAP;cACF,OAAO,KAAKghB,QAAL,CAAc/e,KAAd,CAAoB,KAAKjC,MAAzB,EAAiCgC,SAAjC,CAAP;YACD;UACF;;UAED,SAASihB,SAAT,CAAmBjjB,MAAnB,EAA2ByZ,IAA3B,EAAiCuH,QAAjC,EAA2C;YACzC,IAAIkC,KAAK,GAAG;cAAEJ,KAAK,EAAE,KAAT;cAAgBE,MAAM,EAAEzR,SAAxB;cAAmCvR,MAAM,EAAEA,MAA3C;cAAmDyZ,IAAI,EAAEA,IAAzD;cAA+DuH,QAAQ,EAAEA;YAAzE,CAAZ;YACA,IAAImC,OAAO,GAAGN,WAAW,CAACO,IAAZ,CAAiBF,KAAjB,CAAd;YACAC,OAAO,CAACnC,QAAR,GAAmBA,QAAnB;YACAkC,KAAK,CAACF,MAAN,GAAeG,OAAf;YACA,OAAOA,OAAP;UACD;;UAED1C,YAAY,CAAC/gB,SAAb,CAAuBihB,IAAvB,GAA8B,SAASA,IAAT,CAAclH,IAAd,EAAoBuH,QAApB,EAA8B;YAC1DD,aAAa,CAACC,QAAD,CAAb;YACA,KAAK1D,EAAL,CAAQ7D,IAAR,EAAcwJ,SAAS,CAAC,IAAD,EAAOxJ,IAAP,EAAauH,QAAb,CAAvB;YACA,OAAO,IAAP;UACD,CAJD;;UAMAP,YAAY,CAAC/gB,SAAb,CAAuB2jB,mBAAvB,GACI,SAASA,mBAAT,CAA6B5J,IAA7B,EAAmCuH,QAAnC,EAA6C;YAC3CD,aAAa,CAACC,QAAD,CAAb;YACA,KAAK4B,eAAL,CAAqBnJ,IAArB,EAA2BwJ,SAAS,CAAC,IAAD,EAAOxJ,IAAP,EAAauH,QAAb,CAApC;YACA,OAAO,IAAP;UACD,CALL,CAtQwB,CA6QxB;;;UACAP,YAAY,CAAC/gB,SAAb,CAAuBqjB,cAAvB,GACI,SAASA,cAAT,CAAwBtJ,IAAxB,EAA8BuH,QAA9B,EAAwC;YACtC,IAAIsC,IAAJ,EAAU7H,MAAV,EAAkB8H,QAAlB,EAA4BrjB,CAA5B,EAA+BsjB,gBAA/B;YAEAzC,aAAa,CAACC,QAAD,CAAb;YAEAvF,MAAM,GAAG,KAAK1c,OAAd;YACA,IAAI0c,MAAM,KAAKlK,SAAf,EACE,OAAO,IAAP;YAEF+R,IAAI,GAAG7H,MAAM,CAAChC,IAAD,CAAb;YACA,IAAI6J,IAAI,KAAK/R,SAAb,EACE,OAAO,IAAP;;YAEF,IAAI+R,IAAI,KAAKtC,QAAT,IAAqBsC,IAAI,CAACtC,QAAL,KAAkBA,QAA3C,EAAqD;cACnD,IAAI,EAAE,KAAKJ,YAAP,KAAwB,CAA5B,EACE,KAAK7hB,OAAL,GAAeJ,MAAM,CAACoC,MAAP,CAAc,IAAd,CAAf,CADF,KAEK;gBACH,OAAO0a,MAAM,CAAChC,IAAD,CAAb;gBACA,IAAIgC,MAAM,CAACsH,cAAX,EACE,KAAKxP,IAAL,CAAU,gBAAV,EAA4BkG,IAA5B,EAAkC6J,IAAI,CAACtC,QAAL,IAAiBA,QAAnD;cACH;YACF,CARD,MAQO,IAAI,OAAOsC,IAAP,KAAgB,UAApB,EAAgC;cACrCC,QAAQ,GAAG,CAAC,CAAZ;;cAEA,KAAKrjB,CAAC,GAAGojB,IAAI,CAACnjB,MAAL,GAAc,CAAvB,EAA0BD,CAAC,IAAI,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;gBACrC,IAAIojB,IAAI,CAACpjB,CAAD,CAAJ,KAAY8gB,QAAZ,IAAwBsC,IAAI,CAACpjB,CAAD,CAAJ,CAAQ8gB,QAAR,KAAqBA,QAAjD,EAA2D;kBACzDwC,gBAAgB,GAAGF,IAAI,CAACpjB,CAAD,CAAJ,CAAQ8gB,QAA3B;kBACAuC,QAAQ,GAAGrjB,CAAX;kBACA;gBACD;cACF;;cAED,IAAIqjB,QAAQ,GAAG,CAAf,EACE,OAAO,IAAP;cAEF,IAAIA,QAAQ,KAAK,CAAjB,EACED,IAAI,CAACG,KAAL,GADF,KAEK;gBACHC,SAAS,CAACJ,IAAD,EAAOC,QAAP,CAAT;cACD;cAED,IAAID,IAAI,CAACnjB,MAAL,KAAgB,CAApB,EACEsb,MAAM,CAAChC,IAAD,CAAN,GAAe6J,IAAI,CAAC,CAAD,CAAnB;cAEF,IAAI7H,MAAM,CAACsH,cAAP,KAA0BxR,SAA9B,EACE,KAAKgC,IAAL,CAAU,gBAAV,EAA4BkG,IAA5B,EAAkC+J,gBAAgB,IAAIxC,QAAtD;YACH;;YAED,OAAO,IAAP;UACD,CAlDL;;UAoDAP,YAAY,CAAC/gB,SAAb,CAAuBikB,GAAvB,GAA6BlD,YAAY,CAAC/gB,SAAb,CAAuBqjB,cAApD;;UAEAtC,YAAY,CAAC/gB,SAAb,CAAuBkkB,kBAAvB,GACI,SAASA,kBAAT,CAA4BnK,IAA5B,EAAkC;YAChC,IAAIqI,SAAJ,EAAerG,MAAf,EAAuBvb,CAAvB;YAEAub,MAAM,GAAG,KAAK1c,OAAd;YACA,IAAI0c,MAAM,KAAKlK,SAAf,EACE,OAAO,IAAP,CAL8B,CAOhC;;YACA,IAAIkK,MAAM,CAACsH,cAAP,KAA0BxR,SAA9B,EAAyC;cACvC,IAAIvP,SAAS,CAAC7B,MAAV,KAAqB,CAAzB,EAA4B;gBAC1B,KAAKpB,OAAL,GAAeJ,MAAM,CAACoC,MAAP,CAAc,IAAd,CAAf;gBACA,KAAK6f,YAAL,GAAoB,CAApB;cACD,CAHD,MAGO,IAAInF,MAAM,CAAChC,IAAD,CAAN,KAAiBlI,SAArB,EAAgC;gBACrC,IAAI,EAAE,KAAKqP,YAAP,KAAwB,CAA5B,EACE,KAAK7hB,OAAL,GAAeJ,MAAM,CAACoC,MAAP,CAAc,IAAd,CAAf,CADF,KAGE,OAAO0a,MAAM,CAAChC,IAAD,CAAb;cACH;;cACD,OAAO,IAAP;YACD,CAnB+B,CAqBhC;;;YACA,IAAIzX,SAAS,CAAC7B,MAAV,KAAqB,CAAzB,EAA4B;cAC1B,IAAI0jB,IAAI,GAAGllB,MAAM,CAACklB,IAAP,CAAYpI,MAAZ,CAAX;cACA,IAAIjb,GAAJ;;cACA,KAAKN,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG2jB,IAAI,CAAC1jB,MAArB,EAA6B,EAAED,CAA/B,EAAkC;gBAChCM,GAAG,GAAGqjB,IAAI,CAAC3jB,CAAD,CAAV;gBACA,IAAIM,GAAG,KAAK,gBAAZ,EAA8B;gBAC9B,KAAKojB,kBAAL,CAAwBpjB,GAAxB;cACD;;cACD,KAAKojB,kBAAL,CAAwB,gBAAxB;cACA,KAAK7kB,OAAL,GAAeJ,MAAM,CAACoC,MAAP,CAAc,IAAd,CAAf;cACA,KAAK6f,YAAL,GAAoB,CAApB;cACA,OAAO,IAAP;YACD;;YAEDkB,SAAS,GAAGrG,MAAM,CAAChC,IAAD,CAAlB;;YAEA,IAAI,OAAOqI,SAAP,KAAqB,UAAzB,EAAqC;cACnC,KAAKiB,cAAL,CAAoBtJ,IAApB,EAA0BqI,SAA1B;YACD,CAFD,MAEO,IAAIA,SAAS,KAAKvQ,SAAlB,EAA6B;cAClC;cACA,KAAKrR,CAAC,GAAG4hB,SAAS,CAAC3hB,MAAV,GAAmB,CAA5B,EAA+BD,CAAC,IAAI,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;gBAC1C,KAAK6iB,cAAL,CAAoBtJ,IAApB,EAA0BqI,SAAS,CAAC5hB,CAAD,CAAnC;cACD;YACF;;YAED,OAAO,IAAP;UACD,CAjDL;;UAmDA,SAAS4jB,UAAT,CAAoB9jB,MAApB,EAA4ByZ,IAA5B,EAAkCsK,MAAlC,EAA0C;YACxC,IAAItI,MAAM,GAAGzb,MAAM,CAACjB,OAApB;YAEA,IAAI0c,MAAM,KAAKlK,SAAf,EACE,OAAO,EAAP;YAEF,IAAIyS,UAAU,GAAGvI,MAAM,CAAChC,IAAD,CAAvB;YACA,IAAIuK,UAAU,KAAKzS,SAAnB,EACE,OAAO,EAAP;YAEF,IAAI,OAAOyS,UAAP,KAAsB,UAA1B,EACE,OAAOD,MAAM,GAAG,CAACC,UAAU,CAAChD,QAAX,IAAuBgD,UAAxB,CAAH,GAAyC,CAACA,UAAD,CAAtD;YAEF,OAAOD,MAAM,GACXE,eAAe,CAACD,UAAD,CADJ,GACmBjC,UAAU,CAACiC,UAAD,EAAaA,UAAU,CAAC7jB,MAAxB,CAD1C;UAED;;UAEDsgB,YAAY,CAAC/gB,SAAb,CAAuBoiB,SAAvB,GAAmC,SAASA,SAAT,CAAmBrI,IAAnB,EAAyB;YAC1D,OAAOqK,UAAU,CAAC,IAAD,EAAOrK,IAAP,EAAa,IAAb,CAAjB;UACD,CAFD;;UAIAgH,YAAY,CAAC/gB,SAAb,CAAuBwkB,YAAvB,GAAsC,SAASA,YAAT,CAAsBzK,IAAtB,EAA4B;YAChE,OAAOqK,UAAU,CAAC,IAAD,EAAOrK,IAAP,EAAa,KAAb,CAAjB;UACD,CAFD;;UAIAgH,YAAY,CAAC0D,aAAb,GAA6B,UAAS1B,OAAT,EAAkBhJ,IAAlB,EAAwB;YACnD,IAAI,OAAOgJ,OAAO,CAAC0B,aAAf,KAAiC,UAArC,EAAiD;cAC/C,OAAO1B,OAAO,CAAC0B,aAAR,CAAsB1K,IAAtB,CAAP;YACD,CAFD,MAEO;cACL,OAAO0K,aAAa,CAAC/hB,IAAd,CAAmBqgB,OAAnB,EAA4BhJ,IAA5B,CAAP;YACD;UACF,CAND;;UAQAgH,YAAY,CAAC/gB,SAAb,CAAuBykB,aAAvB,GAAuCA,aAAvC;;UACA,SAASA,aAAT,CAAuB1K,IAAvB,EAA6B;YAC3B,IAAIgC,MAAM,GAAG,KAAK1c,OAAlB;;YAEA,IAAI0c,MAAM,KAAKlK,SAAf,EAA0B;cACxB,IAAIyS,UAAU,GAAGvI,MAAM,CAAChC,IAAD,CAAvB;;cAEA,IAAI,OAAOuK,UAAP,KAAsB,UAA1B,EAAsC;gBACpC,OAAO,CAAP;cACD,CAFD,MAEO,IAAIA,UAAU,KAAKzS,SAAnB,EAA8B;gBACnC,OAAOyS,UAAU,CAAC7jB,MAAlB;cACD;YACF;;YAED,OAAO,CAAP;UACD;;UAEDsgB,YAAY,CAAC/gB,SAAb,CAAuB0kB,UAAvB,GAAoC,SAASA,UAAT,GAAsB;YACxD,OAAO,KAAKxD,YAAL,GAAoB,CAApB,GAAwBd,cAAc,CAAC,KAAK/gB,OAAN,CAAtC,GAAuD,EAA9D;UACD,CAFD;;UAIA,SAASgjB,UAAT,CAAoBsC,GAApB,EAAyB/C,CAAzB,EAA4B;YAC1B,IAAIgD,IAAI,GAAG,IAAIC,KAAJ,CAAUjD,CAAV,CAAX;;YACA,KAAK,IAAIphB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGohB,CAApB,EAAuB,EAAEphB,CAAzB,EACEokB,IAAI,CAACpkB,CAAD,CAAJ,GAAUmkB,GAAG,CAACnkB,CAAD,CAAb;;YACF,OAAOokB,IAAP;UACD;;UAED,SAASZ,SAAT,CAAmBJ,IAAnB,EAAyBkB,KAAzB,EAAgC;YAC9B,OAAOA,KAAK,GAAG,CAAR,GAAYlB,IAAI,CAACnjB,MAAxB,EAAgCqkB,KAAK,EAArC,EACElB,IAAI,CAACkB,KAAD,CAAJ,GAAclB,IAAI,CAACkB,KAAK,GAAG,CAAT,CAAlB;;YACFlB,IAAI,CAACmB,GAAL;UACD;;UAED,SAASR,eAAT,CAAyBI,GAAzB,EAA8B;YAC5B,IAAIK,GAAG,GAAG,IAAIH,KAAJ,CAAUF,GAAG,CAAClkB,MAAd,CAAV;;YACA,KAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwkB,GAAG,CAACvkB,MAAxB,EAAgC,EAAED,CAAlC,EAAqC;cACnCwkB,GAAG,CAACxkB,CAAD,CAAH,GAASmkB,GAAG,CAACnkB,CAAD,CAAH,CAAO8gB,QAAP,IAAmBqD,GAAG,CAACnkB,CAAD,CAA/B;YACD;;YACD,OAAOwkB,GAAP;UACD;;UAED,SAAS/D,IAAT,CAAc8B,OAAd,EAAuBpc,IAAvB,EAA6B;YAC3B,OAAO,IAAIN,OAAJ,CAAY,UAAUC,OAAV,EAAmBoL,MAAnB,EAA2B;cAC5C,SAASuT,aAAT,CAAuB7U,GAAvB,EAA4B;gBAC1B2S,OAAO,CAACM,cAAR,CAAuB1c,IAAvB,EAA6Bue,QAA7B;gBACAxT,MAAM,CAACtB,GAAD,CAAN;cACD;;cAED,SAAS8U,QAAT,GAAoB;gBAClB,IAAI,OAAOnC,OAAO,CAACM,cAAf,KAAkC,UAAtC,EAAkD;kBAChDN,OAAO,CAACM,cAAR,CAAuB,OAAvB,EAAgC4B,aAAhC;gBACD;;gBACD3e,OAAO,CAAC,GAAGiU,KAAH,CAAS7X,IAAT,CAAcJ,SAAd,CAAD,CAAP;cACD;;cAAA;cAED6iB,8BAA8B,CAACpC,OAAD,EAAUpc,IAAV,EAAgBue,QAAhB,EAA0B;gBAAEjE,IAAI,EAAE;cAAR,CAA1B,CAA9B;;cACA,IAAIta,IAAI,KAAK,OAAb,EAAsB;gBACpBye,6BAA6B,CAACrC,OAAD,EAAUkC,aAAV,EAAyB;kBAAEhE,IAAI,EAAE;gBAAR,CAAzB,CAA7B;cACD;YACF,CAjBM,CAAP;UAkBD;;UAED,SAASmE,6BAAT,CAAuCrC,OAAvC,EAAgDb,OAAhD,EAAyDmD,KAAzD,EAAgE;YAC9D,IAAI,OAAOtC,OAAO,CAACnF,EAAf,KAAsB,UAA1B,EAAsC;cACpCuH,8BAA8B,CAACpC,OAAD,EAAU,OAAV,EAAmBb,OAAnB,EAA4BmD,KAA5B,CAA9B;YACD;UACF;;UAED,SAASF,8BAAT,CAAwCpC,OAAxC,EAAiDpc,IAAjD,EAAuD2a,QAAvD,EAAiE+D,KAAjE,EAAwE;YACtE,IAAI,OAAOtC,OAAO,CAACnF,EAAf,KAAsB,UAA1B,EAAsC;cACpC,IAAIyH,KAAK,CAACpE,IAAV,EAAgB;gBACd8B,OAAO,CAAC9B,IAAR,CAAata,IAAb,EAAmB2a,QAAnB;cACD,CAFD,MAEO;gBACLyB,OAAO,CAACnF,EAAR,CAAWjX,IAAX,EAAiB2a,QAAjB;cACD;YACF,CAND,MAMO,IAAI,OAAOyB,OAAO,CAACuC,gBAAf,KAAoC,UAAxC,EAAoD;cACzD;cACA;cACAvC,OAAO,CAACuC,gBAAR,CAAyB3e,IAAzB,EAA+B,SAAS4e,YAAT,CAAsB9D,GAAtB,EAA2B;gBACxD;gBACA;gBACA,IAAI4D,KAAK,CAACpE,IAAV,EAAgB;kBACd8B,OAAO,CAACyC,mBAAR,CAA4B7e,IAA5B,EAAkC4e,YAAlC;gBACD;;gBACDjE,QAAQ,CAACG,GAAD,CAAR;cACD,CAPD;YAQD,CAXM,MAWA;cACL,MAAM,IAAIrhB,SAAJ,CAAc,wEAAwE,OAAO2iB,OAA7F,CAAN;YACD;UACF;UAGD;;QAAO;QAEP;;MA76GqC,CAA3B;MA86GV;;MACA;MAAU;;MACV;;MAAU,IAAI0C,wBAAwB,GAAG,EAA/B;MACV;;MACA;MAAU;;MACV;;MAAU,SAASzmB,mBAAT,CAA6B0mB,QAA7B,EAAuC;QACjD;QAAW;;QACX;QAAW,IAAIC,YAAY,GAAGF,wBAAwB,CAACC,QAAD,CAA3C;QACX;;QAAW,IAAIC,YAAY,KAAK9T,SAArB,EAAgC;UAC3C;UAAY,OAAO8T,YAAY,CAACjnB,OAApB;UACZ;QAAY;QACZ;QAAW;;QACX;;;QAAW,IAAIC,MAAM,GAAG8mB,wBAAwB,CAACC,QAAD,CAAxB,GAAqC;UAC7D;UAAY;;UACZ;UAAY;;UACZ;UAAYhnB,OAAO,EAAE;UACrB;;QAJ6D,CAAlD;QAKX;;QACA;QAAW;;QACX;;QAAWI,mBAAmB,CAAC4mB,QAAD,CAAnB,CAA8B/mB,MAA9B,EAAsCA,MAAM,CAACD,OAA7C,EAAsDM,mBAAtD;QACX;;QACA;QAAW;;QACX;;;QAAW,OAAOL,MAAM,CAACD,OAAd;QACX;MAAW;MACX;;MACA;;MACA;;MAAU;;MACV;;;MAAU,CAAC,YAAW;QACtB;QAAWM,mBAAmB,CAAC6K,CAApB,GAAyB,YAAW;UAC/C;UAAY,IAAI,OAAO+b,UAAP,KAAsB,QAA1B,EAAoC,OAAOA,UAAP;UAChD;;UAAY,IAAI;YAChB;YAAa,OAAO,QAAQ,IAAIzF,QAAJ,CAAa,aAAb,GAAf;YACb;UAAa,CAFD,CAEE,OAAOld,CAAP,EAAU;YACxB;YAAa,IAAI,OAAO4iB,MAAP,KAAkB,QAAtB,EAAgC,OAAOA,MAAP;YAC7C;UAAa;UACb;;QAAY,CAPuB,EAAxB;QAQX;;MAAW,CATA,EAAD;MAUV;;MACA;;MACA;;MACA;MAAU;;MACV;MAAU;;MACV;MAAU;;MACV;;MAAU,IAAIC,mBAAmB,GAAG9mB,mBAAmB,CAAC,GAAD,CAA7C;MACV;;MACA;;;MAAU,OAAO8mB,mBAAP;MACV;IAAU,CA99GM;EAAhB;AAg+GC,CA1+GD"},"metadata":{},"sourceType":"script"}